(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["adhere-lib"] = factory();
	else
		root["adhere-lib"] = factory();
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYmFzZTY0LWpzL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRoZXJlLWxpYi8uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanM/MWZiNSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpXG4gIH1cblxuICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzXG4gIGlmIChleHRyYUJ5dGVzID09PSAxKSB7XG4gICAgdG1wID0gdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAyXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCA0KSAmIDB4M0ZdICtcbiAgICAgICc9PSdcbiAgICApXG4gIH0gZWxzZSBpZiAoZXh0cmFCeXRlcyA9PT0gMikge1xuICAgIHRtcCA9ICh1aW50OFtsZW4gLSAyXSA8PCA4KSArIHVpbnQ4W2xlbiAtIDFdXG4gICAgcGFydHMucHVzaChcbiAgICAgIGxvb2t1cFt0bXAgPj4gMTBdICtcbiAgICAgIGxvb2t1cFsodG1wID4+IDQpICYgMHgzRl0gK1xuICAgICAgbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXSArXG4gICAgICAnPSdcbiAgICApXG4gIH1cblxuICByZXR1cm4gcGFydHMuam9pbignJylcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/base64-js/index.js\n");

/***/ }),

/***/ "./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif (true) {\n  module.exports = EventEmitter;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkaGVyZS1saWIvLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcz9iYTEwIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIGhhcyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbiAgLCBwcmVmaXggPSAnfic7XG5cbi8qKlxuICogQ29uc3RydWN0b3IgdG8gY3JlYXRlIGEgc3RvcmFnZSBmb3Igb3VyIGBFRWAgb2JqZWN0cy5cbiAqIEFuIGBFdmVudHNgIGluc3RhbmNlIGlzIGEgcGxhaW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgYXJlIGV2ZW50IG5hbWVzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IGNvbnRleHQgVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHBhcmFtIHtCb29sZWFufSBbb25jZT1mYWxzZV0gU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEVFKGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5vbmNlID0gb25jZSB8fCBmYWxzZTtcbn1cblxuLyoqXG4gKiBNaW5pbWFsIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZSB0aGF0IGlzIG1vbGRlZCBhZ2FpbnN0IHRoZSBOb2RlLmpzXG4gKiBgRXZlbnRFbWl0dGVyYCBpbnRlcmZhY2UuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHB1YmxpY1xuICovXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xufVxuXG4vKipcbiAqIFJldHVybiBhbiBhcnJheSBsaXN0aW5nIHRoZSBldmVudHMgZm9yIHdoaWNoIHRoZSBlbWl0dGVyIGhhcyByZWdpc3RlcmVkXG4gKiBsaXN0ZW5lcnMuXG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtCb29sZWFufSBleGlzdHMgT25seSBjaGVjayBpZiB0aGVyZSBhcmUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0FycmF5fEJvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyhldmVudCwgZXhpc3RzKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50XG4gICAgLCBhdmFpbGFibGUgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAoZXhpc3RzKSByZXR1cm4gISFhdmFpbGFibGU7XG4gIGlmICghYXZhaWxhYmxlKSByZXR1cm4gW107XG4gIGlmIChhdmFpbGFibGUuZm4pIHJldHVybiBbYXZhaWxhYmxlLmZuXTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGF2YWlsYWJsZS5sZW5ndGgsIGVlID0gbmV3IEFycmF5KGwpOyBpIDwgbDsgaSsrKSB7XG4gICAgZWVbaV0gPSBhdmFpbGFibGVbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBldmVudCBoYWQgbGlzdGVuZXJzLCBlbHNlIGBmYWxzZWAuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2ZW50LCBhMSwgYTIsIGEzLCBhNCwgYTUpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XVxuICAgICwgbGVuID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgYXJnc1xuICAgICwgaTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKGxpc3RlbmVycy5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnMuZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgY2FzZSAxOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQpLCB0cnVlO1xuICAgICAgY2FzZSAyOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExKSwgdHJ1ZTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIpLCB0cnVlO1xuICAgICAgY2FzZSA0OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMpLCB0cnVlO1xuICAgICAgY2FzZSA1OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgNjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCwgYTUpLCB0cnVlO1xuICAgIH1cblxuICAgIGZvciAoaSA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuZm4uYXBwbHkobGlzdGVuZXJzLmNvbnRleHQsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoXG4gICAgICAsIGo7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaXN0ZW5lcnNbaV0ub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzW2ldLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgICBzd2l0Y2ggKGxlbikge1xuICAgICAgICBjYXNlIDE6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0KTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgMzogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMik7IGJyZWFrO1xuICAgICAgICBjYXNlIDQ6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIsIGEzKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKCFhcmdzKSBmb3IgKGogPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgYXJnc1tqIC0gMV0gPSBhcmd1bWVudHNbal07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGlzdGVuZXJzW2ldLmZuLmFwcGx5KGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhcmdzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiBvbihldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IHRoaXMpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHRoaXMuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIHRoaXMuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XS5mbikgdGhpcy5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgdGhpcy5fZXZlbnRzW2V2dF0gPSBbdGhpcy5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7TWl4ZWR9IFtjb250ZXh0PXRoaXNdIFRoZSBjb250ZXh0IHRvIGludm9rZSB0aGUgbGlzdGVuZXIgd2l0aC5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCB0aGlzLCB0cnVlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCB0aGlzLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghdGhpcy5fZXZlbnRzW2V2dF0uZm4pIHRoaXMuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIHRoaXMuX2V2ZW50c1tldnRdID0gW3RoaXMuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgbGlzdGVuZXJzIG9mIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gY29udGV4dCBPbmx5IHJlbW92ZSB0aGUgbGlzdGVuZXJzIHRoYXQgaGF2ZSB0aGlzIGNvbnRleHQuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgT25seSByZW1vdmUgb25lLXRpbWUgbGlzdGVuZXJzLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50LCBmbiwgY29udGV4dCwgb25jZSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gdGhpcztcbiAgaWYgKCFmbikge1xuICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm5cbiAgICAgICYmICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSlcbiAgICAgICYmICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmblxuICAgICAgICB8fCAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpXG4gICAgICAgIHx8IChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGxpc3RlbmVycywgb3IgdGhvc2Ugb2YgdGhlIHNwZWNpZmllZCBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IFtldmVudF0gVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSB7XG4gICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgICAgZWxzZSBkZWxldGUgdGhpcy5fZXZlbnRzW2V2dF07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8vXG4vLyBBbGlhcyBtZXRob2RzIG5hbWVzIGJlY2F1c2UgcGVvcGxlIHJvbGwgbGlrZSB0aGF0LlxuLy9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uO1xuXG4vL1xuLy8gVGhpcyBmdW5jdGlvbiBkb2Vzbid0IGFwcGx5IGFueW1vcmUuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEV4cG9zZSB0aGUgcHJlZml4LlxuLy9cbkV2ZW50RW1pdHRlci5wcmVmaXhlZCA9IHByZWZpeDtcblxuLy9cbi8vIEFsbG93IGBFdmVudEVtaXR0ZXJgIHRvIGJlIGltcG9ydGVkIGFzIG1vZHVsZSBuYW1lc3BhY2UuXG4vL1xuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuLy9cbi8vIEV4cG9zZSB0aGUgbW9kdWxlLlxuLy9cbmlmICgndW5kZWZpbmVkJyAhPT0gdHlwZW9mIG1vZHVsZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/eventemitter3/index.js\n");

/***/ }),

/***/ "./node_modules/xml-lexer/dist/lexer.js":
/*!**********************************************!*\
  !*** ./node_modules/xml-lexer/dist/lexer.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar EventEmitter = __webpack_require__(/*! eventemitter3 */ \"./node_modules/eventemitter3/index.js\");\nvar noop = function noop() {};\n\nvar State = {\n    data: 'state-data',\n    cdata: 'state-cdata',\n    tagBegin: 'state-tag-begin',\n    tagName: 'state-tag-name',\n    tagEnd: 'state-tag-end',\n    attributeNameStart: 'state-attribute-name-start',\n    attributeName: 'state-attribute-name',\n    attributeNameEnd: 'state-attribute-name-end',\n    attributeValueBegin: 'state-attribute-value-begin',\n    attributeValue: 'state-attribute-value'\n};\n\nvar Action = {\n    lt: 'action-lt',\n    gt: 'action-gt',\n    space: 'action-space',\n    equal: 'action-equal',\n    quote: 'action-quote',\n    slash: 'action-slash',\n    char: 'action-char',\n    error: 'action-error'\n};\n\nvar Type = {\n    text: 'text',\n    openTag: 'open-tag',\n    closeTag: 'close-tag',\n    attributeName: 'attribute-name',\n    attributeValue: 'attribute-value'\n};\n\nvar charToAction = {\n    ' ': Action.space,\n    '\\t': Action.space,\n    '\\n': Action.space,\n    '\\r': Action.space,\n    '<': Action.lt,\n    '>': Action.gt,\n    '\"': Action.quote,\n    \"'\": Action.quote,\n    '=': Action.equal,\n    '/': Action.slash\n};\n\nvar getAction = function getAction(char) {\n    return charToAction[char] || Action.char;\n};\n\n/**\n * @param  {Object} options\n * @param  {Boolean} options.debug\n * @return {Object}\n */\nvar create = function create(options) {\n    var _State$data, _State$tagBegin, _State$tagName, _State$tagEnd, _State$attributeNameS, _State$attributeName, _State$attributeNameE, _State$attributeValue, _State$attributeValue2, _lexer$stateMachine;\n\n    options = Object.assign({ debug: false }, options);\n    var lexer = new EventEmitter();\n    var state = State.data;\n    var data = '';\n    var tagName = '';\n    var attrName = '';\n    var attrValue = '';\n    var isClosing = '';\n    var openingQuote = '';\n\n    var emit = function emit(type, value) {\n        // for now, ignore tags like: '?xml', '!DOCTYPE' or comments\n        if (tagName[0] === '?' || tagName[0] === '!') {\n            return;\n        }\n        var event = { type: type, value: value };\n        if (options.debug) {\n            console.log('emit:', event);\n        }\n        lexer.emit('data', event);\n    };\n\n    lexer.stateMachine = (_lexer$stateMachine = {}, _defineProperty(_lexer$stateMachine, State.data, (_State$data = {}, _defineProperty(_State$data, Action.lt, function () {\n        if (data.trim()) {\n            emit(Type.text, data);\n        }\n        tagName = '';\n        isClosing = false;\n        state = State.tagBegin;\n    }), _defineProperty(_State$data, Action.char, function (char) {\n        data += char;\n    }), _State$data)), _defineProperty(_lexer$stateMachine, State.cdata, _defineProperty({}, Action.char, function (char) {\n        data += char;\n        if (data.substr(-3) === ']]>') {\n            emit(Type.text, data.slice(0, -3));\n            data = '';\n            state = State.data;\n        }\n    })), _defineProperty(_lexer$stateMachine, State.tagBegin, (_State$tagBegin = {}, _defineProperty(_State$tagBegin, Action.space, noop), _defineProperty(_State$tagBegin, Action.char, function (char) {\n        tagName = char;\n        state = State.tagName;\n    }), _defineProperty(_State$tagBegin, Action.slash, function () {\n        tagName = '';\n        isClosing = true;\n    }), _State$tagBegin)), _defineProperty(_lexer$stateMachine, State.tagName, (_State$tagName = {}, _defineProperty(_State$tagName, Action.space, function () {\n        if (isClosing) {\n            state = State.tagEnd;\n        } else {\n            state = State.attributeNameStart;\n            emit(Type.openTag, tagName);\n        }\n    }), _defineProperty(_State$tagName, Action.gt, function () {\n        if (isClosing) {\n            emit(Type.closeTag, tagName);\n        } else {\n            emit(Type.openTag, tagName);\n        }\n        data = '';\n        state = State.data;\n    }), _defineProperty(_State$tagName, Action.slash, function () {\n        state = State.tagEnd;\n        emit(Type.openTag, tagName);\n    }), _defineProperty(_State$tagName, Action.char, function (char) {\n        tagName += char;\n        if (tagName === '![CDATA[') {\n            state = State.cdata;\n            data = '';\n            tagName = '';\n        }\n    }), _State$tagName)), _defineProperty(_lexer$stateMachine, State.tagEnd, (_State$tagEnd = {}, _defineProperty(_State$tagEnd, Action.gt, function () {\n        emit(Type.closeTag, tagName);\n        data = '';\n        state = State.data;\n    }), _defineProperty(_State$tagEnd, Action.char, noop), _State$tagEnd)), _defineProperty(_lexer$stateMachine, State.attributeNameStart, (_State$attributeNameS = {}, _defineProperty(_State$attributeNameS, Action.char, function (char) {\n        attrName = char;\n        state = State.attributeName;\n    }), _defineProperty(_State$attributeNameS, Action.gt, function () {\n        data = '';\n        state = State.data;\n    }), _defineProperty(_State$attributeNameS, Action.space, noop), _defineProperty(_State$attributeNameS, Action.slash, function () {\n        isClosing = true;\n        state = State.tagEnd;\n    }), _State$attributeNameS)), _defineProperty(_lexer$stateMachine, State.attributeName, (_State$attributeName = {}, _defineProperty(_State$attributeName, Action.space, function () {\n        state = State.attributeNameEnd;\n    }), _defineProperty(_State$attributeName, Action.equal, function () {\n        emit(Type.attributeName, attrName);\n        state = State.attributeValueBegin;\n    }), _defineProperty(_State$attributeName, Action.gt, function () {\n        attrValue = '';\n        emit(Type.attributeName, attrName);\n        emit(Type.attributeValue, attrValue);\n        data = '';\n        state = State.data;\n    }), _defineProperty(_State$attributeName, Action.slash, function () {\n        isClosing = true;\n        attrValue = '';\n        emit(Type.attributeName, attrName);\n        emit(Type.attributeValue, attrValue);\n        state = State.tagEnd;\n    }), _defineProperty(_State$attributeName, Action.char, function (char) {\n        attrName += char;\n    }), _State$attributeName)), _defineProperty(_lexer$stateMachine, State.attributeNameEnd, (_State$attributeNameE = {}, _defineProperty(_State$attributeNameE, Action.space, noop), _defineProperty(_State$attributeNameE, Action.equal, function () {\n        emit(Type.attributeName, attrName);\n        state = State.attributeValueBegin;\n    }), _defineProperty(_State$attributeNameE, Action.gt, function () {\n        attrValue = '';\n        emit(Type.attributeName, attrName);\n        emit(Type.attributeValue, attrValue);\n        data = '';\n        state = State.data;\n    }), _defineProperty(_State$attributeNameE, Action.char, function (char) {\n        attrValue = '';\n        emit(Type.attributeName, attrName);\n        emit(Type.attributeValue, attrValue);\n        attrName = char;\n        state = State.attributeName;\n    }), _State$attributeNameE)), _defineProperty(_lexer$stateMachine, State.attributeValueBegin, (_State$attributeValue = {}, _defineProperty(_State$attributeValue, Action.space, noop), _defineProperty(_State$attributeValue, Action.quote, function (char) {\n        openingQuote = char;\n        attrValue = '';\n        state = State.attributeValue;\n    }), _defineProperty(_State$attributeValue, Action.gt, function () {\n        attrValue = '';\n        emit(Type.attributeValue, attrValue);\n        data = '';\n        state = State.data;\n    }), _defineProperty(_State$attributeValue, Action.char, function (char) {\n        openingQuote = '';\n        attrValue = char;\n        state = State.attributeValue;\n    }), _State$attributeValue)), _defineProperty(_lexer$stateMachine, State.attributeValue, (_State$attributeValue2 = {}, _defineProperty(_State$attributeValue2, Action.space, function (char) {\n        if (openingQuote) {\n            attrValue += char;\n        } else {\n            emit(Type.attributeValue, attrValue);\n            state = State.attributeNameStart;\n        }\n    }), _defineProperty(_State$attributeValue2, Action.quote, function (char) {\n        if (openingQuote === char) {\n            emit(Type.attributeValue, attrValue);\n            state = State.attributeNameStart;\n        } else {\n            attrValue += char;\n        }\n    }), _defineProperty(_State$attributeValue2, Action.gt, function (char) {\n        if (openingQuote) {\n            attrValue += char;\n        } else {\n            emit(Type.attributeValue, attrValue);\n            data = '';\n            state = State.data;\n        }\n    }), _defineProperty(_State$attributeValue2, Action.slash, function (char) {\n        if (openingQuote) {\n            attrValue += char;\n        } else {\n            emit(Type.attributeValue, attrValue);\n            isClosing = true;\n            state = State.tagEnd;\n        }\n    }), _defineProperty(_State$attributeValue2, Action.char, function (char) {\n        attrValue += char;\n    }), _State$attributeValue2)), _lexer$stateMachine);\n\n    var step = function step(char) {\n        if (options.debug) {\n            console.log(state, char);\n        }\n        var actions = lexer.stateMachine[state];\n        var action = actions[getAction(char)] || actions[Action.error] || actions[Action.char];\n        action(char);\n    };\n\n    lexer.write = function (str) {\n        var len = str.length;\n        for (var i = 0; i < len; i++) {\n            step(str[i]);\n        }\n    };\n\n    return lexer;\n};\n\nmodule.exports = {\n    State: State,\n    Action: Action,\n    Type: Type,\n    create: create\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMveG1sLWxleGVyL2Rpc3QvbGV4ZXIuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZGhlcmUtbGliLy4vbm9kZV9tb2R1bGVzL3htbC1sZXhlci9kaXN0L2xleGVyLmpzP2ZlZmUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRlbWl0dGVyMycpO1xudmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKCkge307XG5cbnZhciBTdGF0ZSA9IHtcbiAgICBkYXRhOiAnc3RhdGUtZGF0YScsXG4gICAgY2RhdGE6ICdzdGF0ZS1jZGF0YScsXG4gICAgdGFnQmVnaW46ICdzdGF0ZS10YWctYmVnaW4nLFxuICAgIHRhZ05hbWU6ICdzdGF0ZS10YWctbmFtZScsXG4gICAgdGFnRW5kOiAnc3RhdGUtdGFnLWVuZCcsXG4gICAgYXR0cmlidXRlTmFtZVN0YXJ0OiAnc3RhdGUtYXR0cmlidXRlLW5hbWUtc3RhcnQnLFxuICAgIGF0dHJpYnV0ZU5hbWU6ICdzdGF0ZS1hdHRyaWJ1dGUtbmFtZScsXG4gICAgYXR0cmlidXRlTmFtZUVuZDogJ3N0YXRlLWF0dHJpYnV0ZS1uYW1lLWVuZCcsXG4gICAgYXR0cmlidXRlVmFsdWVCZWdpbjogJ3N0YXRlLWF0dHJpYnV0ZS12YWx1ZS1iZWdpbicsXG4gICAgYXR0cmlidXRlVmFsdWU6ICdzdGF0ZS1hdHRyaWJ1dGUtdmFsdWUnXG59O1xuXG52YXIgQWN0aW9uID0ge1xuICAgIGx0OiAnYWN0aW9uLWx0JyxcbiAgICBndDogJ2FjdGlvbi1ndCcsXG4gICAgc3BhY2U6ICdhY3Rpb24tc3BhY2UnLFxuICAgIGVxdWFsOiAnYWN0aW9uLWVxdWFsJyxcbiAgICBxdW90ZTogJ2FjdGlvbi1xdW90ZScsXG4gICAgc2xhc2g6ICdhY3Rpb24tc2xhc2gnLFxuICAgIGNoYXI6ICdhY3Rpb24tY2hhcicsXG4gICAgZXJyb3I6ICdhY3Rpb24tZXJyb3InXG59O1xuXG52YXIgVHlwZSA9IHtcbiAgICB0ZXh0OiAndGV4dCcsXG4gICAgb3BlblRhZzogJ29wZW4tdGFnJyxcbiAgICBjbG9zZVRhZzogJ2Nsb3NlLXRhZycsXG4gICAgYXR0cmlidXRlTmFtZTogJ2F0dHJpYnV0ZS1uYW1lJyxcbiAgICBhdHRyaWJ1dGVWYWx1ZTogJ2F0dHJpYnV0ZS12YWx1ZSdcbn07XG5cbnZhciBjaGFyVG9BY3Rpb24gPSB7XG4gICAgJyAnOiBBY3Rpb24uc3BhY2UsXG4gICAgJ1xcdCc6IEFjdGlvbi5zcGFjZSxcbiAgICAnXFxuJzogQWN0aW9uLnNwYWNlLFxuICAgICdcXHInOiBBY3Rpb24uc3BhY2UsXG4gICAgJzwnOiBBY3Rpb24ubHQsXG4gICAgJz4nOiBBY3Rpb24uZ3QsXG4gICAgJ1wiJzogQWN0aW9uLnF1b3RlLFxuICAgIFwiJ1wiOiBBY3Rpb24ucXVvdGUsXG4gICAgJz0nOiBBY3Rpb24uZXF1YWwsXG4gICAgJy8nOiBBY3Rpb24uc2xhc2hcbn07XG5cbnZhciBnZXRBY3Rpb24gPSBmdW5jdGlvbiBnZXRBY3Rpb24oY2hhcikge1xuICAgIHJldHVybiBjaGFyVG9BY3Rpb25bY2hhcl0gfHwgQWN0aW9uLmNoYXI7XG59O1xuXG4vKipcbiAqIEBwYXJhbSAge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtICB7Qm9vbGVhbn0gb3B0aW9ucy5kZWJ1Z1xuICogQHJldHVybiB7T2JqZWN0fVxuICovXG52YXIgY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKG9wdGlvbnMpIHtcbiAgICB2YXIgX1N0YXRlJGRhdGEsIF9TdGF0ZSR0YWdCZWdpbiwgX1N0YXRlJHRhZ05hbWUsIF9TdGF0ZSR0YWdFbmQsIF9TdGF0ZSRhdHRyaWJ1dGVOYW1lUywgX1N0YXRlJGF0dHJpYnV0ZU5hbWUsIF9TdGF0ZSRhdHRyaWJ1dGVOYW1lRSwgX1N0YXRlJGF0dHJpYnV0ZVZhbHVlLCBfU3RhdGUkYXR0cmlidXRlVmFsdWUyLCBfbGV4ZXIkc3RhdGVNYWNoaW5lO1xuXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBkZWJ1ZzogZmFsc2UgfSwgb3B0aW9ucyk7XG4gICAgdmFyIGxleGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICAgIHZhciBzdGF0ZSA9IFN0YXRlLmRhdGE7XG4gICAgdmFyIGRhdGEgPSAnJztcbiAgICB2YXIgdGFnTmFtZSA9ICcnO1xuICAgIHZhciBhdHRyTmFtZSA9ICcnO1xuICAgIHZhciBhdHRyVmFsdWUgPSAnJztcbiAgICB2YXIgaXNDbG9zaW5nID0gJyc7XG4gICAgdmFyIG9wZW5pbmdRdW90ZSA9ICcnO1xuXG4gICAgdmFyIGVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUsIHZhbHVlKSB7XG4gICAgICAgIC8vIGZvciBub3csIGlnbm9yZSB0YWdzIGxpa2U6ICc/eG1sJywgJyFET0NUWVBFJyBvciBjb21tZW50c1xuICAgICAgICBpZiAodGFnTmFtZVswXSA9PT0gJz8nIHx8IHRhZ05hbWVbMF0gPT09ICchJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBldmVudCA9IHsgdHlwZTogdHlwZSwgdmFsdWU6IHZhbHVlIH07XG4gICAgICAgIGlmIChvcHRpb25zLmRlYnVnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZW1pdDonLCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV4ZXIuZW1pdCgnZGF0YScsIGV2ZW50KTtcbiAgICB9O1xuXG4gICAgbGV4ZXIuc3RhdGVNYWNoaW5lID0gKF9sZXhlciRzdGF0ZU1hY2hpbmUgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9sZXhlciRzdGF0ZU1hY2hpbmUsIFN0YXRlLmRhdGEsIChfU3RhdGUkZGF0YSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX1N0YXRlJGRhdGEsIEFjdGlvbi5sdCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZGF0YS50cmltKCkpIHtcbiAgICAgICAgICAgIGVtaXQoVHlwZS50ZXh0LCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB0YWdOYW1lID0gJyc7XG4gICAgICAgIGlzQ2xvc2luZyA9IGZhbHNlO1xuICAgICAgICBzdGF0ZSA9IFN0YXRlLnRhZ0JlZ2luO1xuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX1N0YXRlJGRhdGEsIEFjdGlvbi5jaGFyLCBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICBkYXRhICs9IGNoYXI7XG4gICAgfSksIF9TdGF0ZSRkYXRhKSksIF9kZWZpbmVQcm9wZXJ0eShfbGV4ZXIkc3RhdGVNYWNoaW5lLCBTdGF0ZS5jZGF0YSwgX2RlZmluZVByb3BlcnR5KHt9LCBBY3Rpb24uY2hhciwgZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgICAgZGF0YSArPSBjaGFyO1xuICAgICAgICBpZiAoZGF0YS5zdWJzdHIoLTMpID09PSAnXV0+Jykge1xuICAgICAgICAgICAgZW1pdChUeXBlLnRleHQsIGRhdGEuc2xpY2UoMCwgLTMpKTtcbiAgICAgICAgICAgIGRhdGEgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gU3RhdGUuZGF0YTtcbiAgICAgICAgfVxuICAgIH0pKSwgX2RlZmluZVByb3BlcnR5KF9sZXhlciRzdGF0ZU1hY2hpbmUsIFN0YXRlLnRhZ0JlZ2luLCAoX1N0YXRlJHRhZ0JlZ2luID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkdGFnQmVnaW4sIEFjdGlvbi5zcGFjZSwgbm9vcCksIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkdGFnQmVnaW4sIEFjdGlvbi5jaGFyLCBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICB0YWdOYW1lID0gY2hhcjtcbiAgICAgICAgc3RhdGUgPSBTdGF0ZS50YWdOYW1lO1xuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX1N0YXRlJHRhZ0JlZ2luLCBBY3Rpb24uc2xhc2gsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGFnTmFtZSA9ICcnO1xuICAgICAgICBpc0Nsb3NpbmcgPSB0cnVlO1xuICAgIH0pLCBfU3RhdGUkdGFnQmVnaW4pKSwgX2RlZmluZVByb3BlcnR5KF9sZXhlciRzdGF0ZU1hY2hpbmUsIFN0YXRlLnRhZ05hbWUsIChfU3RhdGUkdGFnTmFtZSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX1N0YXRlJHRhZ05hbWUsIEFjdGlvbi5zcGFjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNDbG9zaW5nKSB7XG4gICAgICAgICAgICBzdGF0ZSA9IFN0YXRlLnRhZ0VuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlID0gU3RhdGUuYXR0cmlidXRlTmFtZVN0YXJ0O1xuICAgICAgICAgICAgZW1pdChUeXBlLm9wZW5UYWcsIHRhZ05hbWUpO1xuICAgICAgICB9XG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkdGFnTmFtZSwgQWN0aW9uLmd0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc0Nsb3NpbmcpIHtcbiAgICAgICAgICAgIGVtaXQoVHlwZS5jbG9zZVRhZywgdGFnTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbWl0KFR5cGUub3BlblRhZywgdGFnTmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9ICcnO1xuICAgICAgICBzdGF0ZSA9IFN0YXRlLmRhdGE7XG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkdGFnTmFtZSwgQWN0aW9uLnNsYXNoLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0YXRlID0gU3RhdGUudGFnRW5kO1xuICAgICAgICBlbWl0KFR5cGUub3BlblRhZywgdGFnTmFtZSk7XG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkdGFnTmFtZSwgQWN0aW9uLmNoYXIsIGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIHRhZ05hbWUgKz0gY2hhcjtcbiAgICAgICAgaWYgKHRhZ05hbWUgPT09ICchW0NEQVRBWycpIHtcbiAgICAgICAgICAgIHN0YXRlID0gU3RhdGUuY2RhdGE7XG4gICAgICAgICAgICBkYXRhID0gJyc7XG4gICAgICAgICAgICB0YWdOYW1lID0gJyc7XG4gICAgICAgIH1cbiAgICB9KSwgX1N0YXRlJHRhZ05hbWUpKSwgX2RlZmluZVByb3BlcnR5KF9sZXhlciRzdGF0ZU1hY2hpbmUsIFN0YXRlLnRhZ0VuZCwgKF9TdGF0ZSR0YWdFbmQgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9TdGF0ZSR0YWdFbmQsIEFjdGlvbi5ndCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBlbWl0KFR5cGUuY2xvc2VUYWcsIHRhZ05hbWUpO1xuICAgICAgICBkYXRhID0gJyc7XG4gICAgICAgIHN0YXRlID0gU3RhdGUuZGF0YTtcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9TdGF0ZSR0YWdFbmQsIEFjdGlvbi5jaGFyLCBub29wKSwgX1N0YXRlJHRhZ0VuZCkpLCBfZGVmaW5lUHJvcGVydHkoX2xleGVyJHN0YXRlTWFjaGluZSwgU3RhdGUuYXR0cmlidXRlTmFtZVN0YXJ0LCAoX1N0YXRlJGF0dHJpYnV0ZU5hbWVTID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkYXR0cmlidXRlTmFtZVMsIEFjdGlvbi5jaGFyLCBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICBhdHRyTmFtZSA9IGNoYXI7XG4gICAgICAgIHN0YXRlID0gU3RhdGUuYXR0cmlidXRlTmFtZTtcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9TdGF0ZSRhdHRyaWJ1dGVOYW1lUywgQWN0aW9uLmd0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRhdGEgPSAnJztcbiAgICAgICAgc3RhdGUgPSBTdGF0ZS5kYXRhO1xuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX1N0YXRlJGF0dHJpYnV0ZU5hbWVTLCBBY3Rpb24uc3BhY2UsIG5vb3ApLCBfZGVmaW5lUHJvcGVydHkoX1N0YXRlJGF0dHJpYnV0ZU5hbWVTLCBBY3Rpb24uc2xhc2gsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNDbG9zaW5nID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUgPSBTdGF0ZS50YWdFbmQ7XG4gICAgfSksIF9TdGF0ZSRhdHRyaWJ1dGVOYW1lUykpLCBfZGVmaW5lUHJvcGVydHkoX2xleGVyJHN0YXRlTWFjaGluZSwgU3RhdGUuYXR0cmlidXRlTmFtZSwgKF9TdGF0ZSRhdHRyaWJ1dGVOYW1lID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkYXR0cmlidXRlTmFtZSwgQWN0aW9uLnNwYWNlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0YXRlID0gU3RhdGUuYXR0cmlidXRlTmFtZUVuZDtcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9TdGF0ZSRhdHRyaWJ1dGVOYW1lLCBBY3Rpb24uZXF1YWwsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZW1pdChUeXBlLmF0dHJpYnV0ZU5hbWUsIGF0dHJOYW1lKTtcbiAgICAgICAgc3RhdGUgPSBTdGF0ZS5hdHRyaWJ1dGVWYWx1ZUJlZ2luO1xuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX1N0YXRlJGF0dHJpYnV0ZU5hbWUsIEFjdGlvbi5ndCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBhdHRyVmFsdWUgPSAnJztcbiAgICAgICAgZW1pdChUeXBlLmF0dHJpYnV0ZU5hbWUsIGF0dHJOYW1lKTtcbiAgICAgICAgZW1pdChUeXBlLmF0dHJpYnV0ZVZhbHVlLCBhdHRyVmFsdWUpO1xuICAgICAgICBkYXRhID0gJyc7XG4gICAgICAgIHN0YXRlID0gU3RhdGUuZGF0YTtcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9TdGF0ZSRhdHRyaWJ1dGVOYW1lLCBBY3Rpb24uc2xhc2gsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNDbG9zaW5nID0gdHJ1ZTtcbiAgICAgICAgYXR0clZhbHVlID0gJyc7XG4gICAgICAgIGVtaXQoVHlwZS5hdHRyaWJ1dGVOYW1lLCBhdHRyTmFtZSk7XG4gICAgICAgIGVtaXQoVHlwZS5hdHRyaWJ1dGVWYWx1ZSwgYXR0clZhbHVlKTtcbiAgICAgICAgc3RhdGUgPSBTdGF0ZS50YWdFbmQ7XG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkYXR0cmlidXRlTmFtZSwgQWN0aW9uLmNoYXIsIGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGF0dHJOYW1lICs9IGNoYXI7XG4gICAgfSksIF9TdGF0ZSRhdHRyaWJ1dGVOYW1lKSksIF9kZWZpbmVQcm9wZXJ0eShfbGV4ZXIkc3RhdGVNYWNoaW5lLCBTdGF0ZS5hdHRyaWJ1dGVOYW1lRW5kLCAoX1N0YXRlJGF0dHJpYnV0ZU5hbWVFID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkYXR0cmlidXRlTmFtZUUsIEFjdGlvbi5zcGFjZSwgbm9vcCksIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkYXR0cmlidXRlTmFtZUUsIEFjdGlvbi5lcXVhbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBlbWl0KFR5cGUuYXR0cmlidXRlTmFtZSwgYXR0ck5hbWUpO1xuICAgICAgICBzdGF0ZSA9IFN0YXRlLmF0dHJpYnV0ZVZhbHVlQmVnaW47XG4gICAgfSksIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkYXR0cmlidXRlTmFtZUUsIEFjdGlvbi5ndCwgZnVuY3Rpb24gKCkge1xuICAgICAgICBhdHRyVmFsdWUgPSAnJztcbiAgICAgICAgZW1pdChUeXBlLmF0dHJpYnV0ZU5hbWUsIGF0dHJOYW1lKTtcbiAgICAgICAgZW1pdChUeXBlLmF0dHJpYnV0ZVZhbHVlLCBhdHRyVmFsdWUpO1xuICAgICAgICBkYXRhID0gJyc7XG4gICAgICAgIHN0YXRlID0gU3RhdGUuZGF0YTtcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9TdGF0ZSRhdHRyaWJ1dGVOYW1lRSwgQWN0aW9uLmNoYXIsIGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGF0dHJWYWx1ZSA9ICcnO1xuICAgICAgICBlbWl0KFR5cGUuYXR0cmlidXRlTmFtZSwgYXR0ck5hbWUpO1xuICAgICAgICBlbWl0KFR5cGUuYXR0cmlidXRlVmFsdWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgIGF0dHJOYW1lID0gY2hhcjtcbiAgICAgICAgc3RhdGUgPSBTdGF0ZS5hdHRyaWJ1dGVOYW1lO1xuICAgIH0pLCBfU3RhdGUkYXR0cmlidXRlTmFtZUUpKSwgX2RlZmluZVByb3BlcnR5KF9sZXhlciRzdGF0ZU1hY2hpbmUsIFN0YXRlLmF0dHJpYnV0ZVZhbHVlQmVnaW4sIChfU3RhdGUkYXR0cmlidXRlVmFsdWUgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9TdGF0ZSRhdHRyaWJ1dGVWYWx1ZSwgQWN0aW9uLnNwYWNlLCBub29wKSwgX2RlZmluZVByb3BlcnR5KF9TdGF0ZSRhdHRyaWJ1dGVWYWx1ZSwgQWN0aW9uLnF1b3RlLCBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICBvcGVuaW5nUXVvdGUgPSBjaGFyO1xuICAgICAgICBhdHRyVmFsdWUgPSAnJztcbiAgICAgICAgc3RhdGUgPSBTdGF0ZS5hdHRyaWJ1dGVWYWx1ZTtcbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9TdGF0ZSRhdHRyaWJ1dGVWYWx1ZSwgQWN0aW9uLmd0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGF0dHJWYWx1ZSA9ICcnO1xuICAgICAgICBlbWl0KFR5cGUuYXR0cmlidXRlVmFsdWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgIGRhdGEgPSAnJztcbiAgICAgICAgc3RhdGUgPSBTdGF0ZS5kYXRhO1xuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX1N0YXRlJGF0dHJpYnV0ZVZhbHVlLCBBY3Rpb24uY2hhciwgZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgICAgb3BlbmluZ1F1b3RlID0gJyc7XG4gICAgICAgIGF0dHJWYWx1ZSA9IGNoYXI7XG4gICAgICAgIHN0YXRlID0gU3RhdGUuYXR0cmlidXRlVmFsdWU7XG4gICAgfSksIF9TdGF0ZSRhdHRyaWJ1dGVWYWx1ZSkpLCBfZGVmaW5lUHJvcGVydHkoX2xleGVyJHN0YXRlTWFjaGluZSwgU3RhdGUuYXR0cmlidXRlVmFsdWUsIChfU3RhdGUkYXR0cmlidXRlVmFsdWUyID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfU3RhdGUkYXR0cmlidXRlVmFsdWUyLCBBY3Rpb24uc3BhY2UsIGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGlmIChvcGVuaW5nUXVvdGUpIHtcbiAgICAgICAgICAgIGF0dHJWYWx1ZSArPSBjaGFyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZW1pdChUeXBlLmF0dHJpYnV0ZVZhbHVlLCBhdHRyVmFsdWUpO1xuICAgICAgICAgICAgc3RhdGUgPSBTdGF0ZS5hdHRyaWJ1dGVOYW1lU3RhcnQ7XG4gICAgICAgIH1cbiAgICB9KSwgX2RlZmluZVByb3BlcnR5KF9TdGF0ZSRhdHRyaWJ1dGVWYWx1ZTIsIEFjdGlvbi5xdW90ZSwgZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgICAgaWYgKG9wZW5pbmdRdW90ZSA9PT0gY2hhcikge1xuICAgICAgICAgICAgZW1pdChUeXBlLmF0dHJpYnV0ZVZhbHVlLCBhdHRyVmFsdWUpO1xuICAgICAgICAgICAgc3RhdGUgPSBTdGF0ZS5hdHRyaWJ1dGVOYW1lU3RhcnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhdHRyVmFsdWUgKz0gY2hhcjtcbiAgICAgICAgfVxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX1N0YXRlJGF0dHJpYnV0ZVZhbHVlMiwgQWN0aW9uLmd0LCBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICBpZiAob3BlbmluZ1F1b3RlKSB7XG4gICAgICAgICAgICBhdHRyVmFsdWUgKz0gY2hhcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVtaXQoVHlwZS5hdHRyaWJ1dGVWYWx1ZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIGRhdGEgPSAnJztcbiAgICAgICAgICAgIHN0YXRlID0gU3RhdGUuZGF0YTtcbiAgICAgICAgfVxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX1N0YXRlJGF0dHJpYnV0ZVZhbHVlMiwgQWN0aW9uLnNsYXNoLCBmdW5jdGlvbiAoY2hhcikge1xuICAgICAgICBpZiAob3BlbmluZ1F1b3RlKSB7XG4gICAgICAgICAgICBhdHRyVmFsdWUgKz0gY2hhcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVtaXQoVHlwZS5hdHRyaWJ1dGVWYWx1ZSwgYXR0clZhbHVlKTtcbiAgICAgICAgICAgIGlzQ2xvc2luZyA9IHRydWU7XG4gICAgICAgICAgICBzdGF0ZSA9IFN0YXRlLnRhZ0VuZDtcbiAgICAgICAgfVxuICAgIH0pLCBfZGVmaW5lUHJvcGVydHkoX1N0YXRlJGF0dHJpYnV0ZVZhbHVlMiwgQWN0aW9uLmNoYXIsIGZ1bmN0aW9uIChjaGFyKSB7XG4gICAgICAgIGF0dHJWYWx1ZSArPSBjaGFyO1xuICAgIH0pLCBfU3RhdGUkYXR0cmlidXRlVmFsdWUyKSksIF9sZXhlciRzdGF0ZU1hY2hpbmUpO1xuXG4gICAgdmFyIHN0ZXAgPSBmdW5jdGlvbiBzdGVwKGNoYXIpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGVidWcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLCBjaGFyKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWN0aW9ucyA9IGxleGVyLnN0YXRlTWFjaGluZVtzdGF0ZV07XG4gICAgICAgIHZhciBhY3Rpb24gPSBhY3Rpb25zW2dldEFjdGlvbihjaGFyKV0gfHwgYWN0aW9uc1tBY3Rpb24uZXJyb3JdIHx8IGFjdGlvbnNbQWN0aW9uLmNoYXJdO1xuICAgICAgICBhY3Rpb24oY2hhcik7XG4gICAgfTtcblxuICAgIGxleGVyLndyaXRlID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB2YXIgbGVuID0gc3RyLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgc3RlcChzdHJbaV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBsZXhlcjtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIFN0YXRlOiBTdGF0ZSxcbiAgICBBY3Rpb246IEFjdGlvbixcbiAgICBUeXBlOiBUeXBlLFxuICAgIGNyZWF0ZTogY3JlYXRlXG59OyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/xml-lexer/dist/lexer.js\n");

/***/ }),

/***/ "./node_modules/xml-query/dist/index.js":
/*!**********************************************!*\
  !*** ./node_modules/xml-query/dist/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar flatMap = function (arr, fn) {\n    return Array.prototype.concat.apply([], arr.map(fn));\n};\nvar xmlQuery = function (ast) {\n    var nodes = Array.isArray(ast) ? ast : (ast ? [ast] : []);\n    var length = nodes.length;\n    var get = function (index) { return nodes[index]; };\n    var children = function () {\n        return xmlQuery(flatMap(nodes, function (node) { return node.children; }));\n    };\n    var findInNode = function (node, sel) {\n        var res = (node.name === sel) ? [node] : [];\n        return res.concat(flatMap(node.children, function (node) { return findInNode(node, sel); }));\n    };\n    var find = function (sel) {\n        return xmlQuery(flatMap(nodes, function (node) { return findInNode(node, sel); }));\n    };\n    var has = function (sel) {\n        if (nodes.length === 0) {\n            return false;\n        }\n        if (nodes.some(function (node) { return node.name === sel; })) {\n            return true;\n        }\n        return children().has(sel);\n    };\n    var attr = function (name) {\n        if (length) {\n            var attrs = nodes[0].attributes;\n            return name ? attrs[name] : attrs;\n        }\n    };\n    var eq = function (index) { return xmlQuery(nodes[index]); };\n    var first = function () { return eq(0); };\n    var last = function () { return eq(length - 1); };\n    var map = function (fn) { return nodes.map(fn); };\n    var each = function (fn) { return nodes.forEach(fn); };\n    var size = function () { return length; };\n    var prop = function (name) {\n        var node = get(0);\n        if (node) {\n            return node[name];\n        }\n    };\n    var text = function () {\n        var res = '';\n        each(function (node) {\n            if (node.type === 'text') {\n                res += node.value;\n            }\n            else {\n                res += xmlQuery(node).children().text();\n            }\n        });\n        return res;\n    };\n    return {\n        attr: attr,\n        children: children,\n        each: each,\n        eq: eq,\n        find: find,\n        has: has,\n        first: first,\n        get: get,\n        last: last,\n        length: length,\n        map: map,\n        prop: prop,\n        size: size,\n        text: text,\n        ast: ast,\n    };\n};\nmodule.exports = xmlQuery;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMveG1sLXF1ZXJ5L2Rpc3QvaW5kZXguanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZGhlcmUtbGliLy4vbm9kZV9tb2R1bGVzL3htbC1xdWVyeS9kaXN0L2luZGV4LmpzP2YzZDMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgZmxhdE1hcCA9IGZ1bmN0aW9uIChhcnIsIGZuKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIGFyci5tYXAoZm4pKTtcbn07XG52YXIgeG1sUXVlcnkgPSBmdW5jdGlvbiAoYXN0KSB7XG4gICAgdmFyIG5vZGVzID0gQXJyYXkuaXNBcnJheShhc3QpID8gYXN0IDogKGFzdCA/IFthc3RdIDogW10pO1xuICAgIHZhciBsZW5ndGggPSBub2Rlcy5sZW5ndGg7XG4gICAgdmFyIGdldCA9IGZ1bmN0aW9uIChpbmRleCkgeyByZXR1cm4gbm9kZXNbaW5kZXhdOyB9O1xuICAgIHZhciBjaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHhtbFF1ZXJ5KGZsYXRNYXAobm9kZXMsIGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLmNoaWxkcmVuOyB9KSk7XG4gICAgfTtcbiAgICB2YXIgZmluZEluTm9kZSA9IGZ1bmN0aW9uIChub2RlLCBzZWwpIHtcbiAgICAgICAgdmFyIHJlcyA9IChub2RlLm5hbWUgPT09IHNlbCkgPyBbbm9kZV0gOiBbXTtcbiAgICAgICAgcmV0dXJuIHJlcy5jb25jYXQoZmxhdE1hcChub2RlLmNoaWxkcmVuLCBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gZmluZEluTm9kZShub2RlLCBzZWwpOyB9KSk7XG4gICAgfTtcbiAgICB2YXIgZmluZCA9IGZ1bmN0aW9uIChzZWwpIHtcbiAgICAgICAgcmV0dXJuIHhtbFF1ZXJ5KGZsYXRNYXAobm9kZXMsIGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBmaW5kSW5Ob2RlKG5vZGUsIHNlbCk7IH0pKTtcbiAgICB9O1xuICAgIHZhciBoYXMgPSBmdW5jdGlvbiAoc2VsKSB7XG4gICAgICAgIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZXMuc29tZShmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5uYW1lID09PSBzZWw7IH0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW4oKS5oYXMoc2VsKTtcbiAgICB9O1xuICAgIHZhciBhdHRyID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGF0dHJzID0gbm9kZXNbMF0uYXR0cmlidXRlcztcbiAgICAgICAgICAgIHJldHVybiBuYW1lID8gYXR0cnNbbmFtZV0gOiBhdHRycztcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGVxID0gZnVuY3Rpb24gKGluZGV4KSB7IHJldHVybiB4bWxRdWVyeShub2Rlc1tpbmRleF0pOyB9O1xuICAgIHZhciBmaXJzdCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVxKDApOyB9O1xuICAgIHZhciBsYXN0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZXEobGVuZ3RoIC0gMSk7IH07XG4gICAgdmFyIG1hcCA9IGZ1bmN0aW9uIChmbikgeyByZXR1cm4gbm9kZXMubWFwKGZuKTsgfTtcbiAgICB2YXIgZWFjaCA9IGZ1bmN0aW9uIChmbikgeyByZXR1cm4gbm9kZXMuZm9yRWFjaChmbik7IH07XG4gICAgdmFyIHNpemUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBsZW5ndGg7IH07XG4gICAgdmFyIHByb3AgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgbm9kZSA9IGdldCgwKTtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlW25hbWVdO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgdGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlcyA9ICcnO1xuICAgICAgICBlYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICBpZiAobm9kZS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICByZXMgKz0gbm9kZS52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlcyArPSB4bWxRdWVyeShub2RlKS5jaGlsZHJlbigpLnRleHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhdHRyOiBhdHRyLFxuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgICAgIGVhY2g6IGVhY2gsXG4gICAgICAgIGVxOiBlcSxcbiAgICAgICAgZmluZDogZmluZCxcbiAgICAgICAgaGFzOiBoYXMsXG4gICAgICAgIGZpcnN0OiBmaXJzdCxcbiAgICAgICAgZ2V0OiBnZXQsXG4gICAgICAgIGxhc3Q6IGxhc3QsXG4gICAgICAgIGxlbmd0aDogbGVuZ3RoLFxuICAgICAgICBtYXA6IG1hcCxcbiAgICAgICAgcHJvcDogcHJvcCxcbiAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgYXN0OiBhc3QsXG4gICAgfTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IHhtbFF1ZXJ5O1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/xml-query/dist/index.js\n");

/***/ }),

/***/ "./node_modules/xml-reader/dist/reader.js":
/*!************************************************!*\
  !*** ./node_modules/xml-reader/dist/reader.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar EventEmitter = __webpack_require__(/*! eventemitter3 */ \"./node_modules/eventemitter3/index.js\");\nvar Lexer = __webpack_require__(/*! xml-lexer */ \"./node_modules/xml-lexer/dist/lexer.js\");\nvar Type = Lexer.Type;\n\nvar NodeType = {\n    element: 'element',\n    text: 'text'\n};\n\nvar createNode = function createNode(params) {\n    return Object.assign({\n        name: '',\n        type: NodeType.element,\n        value: '',\n        parent: null,\n        attributes: {},\n        children: []\n    }, params);\n};\n\nvar create = function create(options) {\n    options = Object.assign({\n        stream: false,\n        parentNodes: true,\n        doneEvent: 'done',\n        tagPrefix: 'tag:',\n        emitTopLevelOnly: false,\n        debug: false\n    }, options);\n\n    var lexer = void 0,\n        rootNode = void 0,\n        current = void 0,\n        attrName = void 0;\n\n    var reader = new EventEmitter();\n\n    var handleLexerData = function handleLexerData(data) {\n        switch (data.type) {\n\n            case Type.openTag:\n                if (current === null) {\n                    current = rootNode;\n                    current.name = data.value;\n                } else {\n                    var node = createNode({\n                        name: data.value,\n                        parent: current\n                    });\n                    current.children.push(node);\n                    current = node;\n                }\n                break;\n\n            case Type.closeTag:\n                var parent = current.parent;\n                if (!options.parentNodes) {\n                    current.parent = null;\n                }\n                if (current.name !== data.value) {\n                    // ignore unexpected closing tag\n                    break;\n                }\n                if (options.stream && parent === rootNode) {\n                    rootNode.children = [];\n                    // do not expose parent node in top level nodes\n                    current.parent = null;\n                }\n                if (!options.emitTopLevelOnly || parent === rootNode) {\n                    reader.emit(options.tagPrefix + current.name, current);\n                    reader.emit('tag', current.name, current);\n                }\n                if (current === rootNode) {\n                    // end of document, stop listening\n                    lexer.removeAllListeners('data');\n                    reader.emit(options.doneEvent, current);\n                    rootNode = null;\n                }\n                current = parent;\n                break;\n\n            case Type.text:\n                if (current) {\n                    current.children.push(createNode({\n                        type: NodeType.text,\n                        value: data.value,\n                        parent: options.parentNodes ? current : null\n                    }));\n                }\n                break;\n\n            case Type.attributeName:\n                attrName = data.value;\n                current.attributes[attrName] = '';\n                break;\n\n            case Type.attributeValue:\n                current.attributes[attrName] = data.value;\n                break;\n        }\n    };\n\n    reader.reset = function () {\n        lexer = Lexer.create({ debug: options.debug });\n        lexer.on('data', handleLexerData);\n        rootNode = createNode();\n        current = null;\n        attrName = '';\n        reader.parse = lexer.write;\n    };\n\n    reader.reset();\n    return reader;\n};\n\nvar parseSync = function parseSync(xml, options) {\n    options = Object.assign({}, options, { stream: false, tagPrefix: ':' });\n    var reader = create(options);\n    var res = void 0;\n    reader.on('done', function (ast) {\n        res = ast;\n    });\n    reader.parse(xml);\n    return res;\n};\n\nmodule.exports = {\n    parseSync: parseSync,\n    create: create,\n    NodeType: NodeType\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMveG1sLXJlYWRlci9kaXN0L3JlYWRlci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkaGVyZS1saWIvLi9ub2RlX21vZHVsZXMveG1sLXJlYWRlci9kaXN0L3JlYWRlci5qcz9hMmMxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50ZW1pdHRlcjMnKTtcbnZhciBMZXhlciA9IHJlcXVpcmUoJ3htbC1sZXhlcicpO1xudmFyIFR5cGUgPSBMZXhlci5UeXBlO1xuXG52YXIgTm9kZVR5cGUgPSB7XG4gICAgZWxlbWVudDogJ2VsZW1lbnQnLFxuICAgIHRleHQ6ICd0ZXh0J1xufTtcblxudmFyIGNyZWF0ZU5vZGUgPSBmdW5jdGlvbiBjcmVhdGVOb2RlKHBhcmFtcykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgbmFtZTogJycsXG4gICAgICAgIHR5cGU6IE5vZGVUeXBlLmVsZW1lbnQsXG4gICAgICAgIHZhbHVlOiAnJyxcbiAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICAgICAgY2hpbGRyZW46IFtdXG4gICAgfSwgcGFyYW1zKTtcbn07XG5cbnZhciBjcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgc3RyZWFtOiBmYWxzZSxcbiAgICAgICAgcGFyZW50Tm9kZXM6IHRydWUsXG4gICAgICAgIGRvbmVFdmVudDogJ2RvbmUnLFxuICAgICAgICB0YWdQcmVmaXg6ICd0YWc6JyxcbiAgICAgICAgZW1pdFRvcExldmVsT25seTogZmFsc2UsXG4gICAgICAgIGRlYnVnOiBmYWxzZVxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgdmFyIGxleGVyID0gdm9pZCAwLFxuICAgICAgICByb290Tm9kZSA9IHZvaWQgMCxcbiAgICAgICAgY3VycmVudCA9IHZvaWQgMCxcbiAgICAgICAgYXR0ck5hbWUgPSB2b2lkIDA7XG5cbiAgICB2YXIgcmVhZGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgdmFyIGhhbmRsZUxleGVyRGF0YSA9IGZ1bmN0aW9uIGhhbmRsZUxleGVyRGF0YShkYXRhKSB7XG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgVHlwZS5vcGVuVGFnOlxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSByb290Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5uYW1lID0gZGF0YS52YWx1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGNyZWF0ZU5vZGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZGF0YS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3VycmVudFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5jaGlsZHJlbi5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gbm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgVHlwZS5jbG9zZVRhZzpcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLnBhcmVudE5vZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQubmFtZSAhPT0gZGF0YS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgdW5leHBlY3RlZCBjbG9zaW5nIHRhZ1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3RyZWFtICYmIHBhcmVudCA9PT0gcm9vdE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vdE5vZGUuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGV4cG9zZSBwYXJlbnQgbm9kZSBpbiB0b3AgbGV2ZWwgbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMuZW1pdFRvcExldmVsT25seSB8fCBwYXJlbnQgPT09IHJvb3ROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5lbWl0KG9wdGlvbnMudGFnUHJlZml4ICsgY3VycmVudC5uYW1lLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLmVtaXQoJ3RhZycsIGN1cnJlbnQubmFtZSwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSByb290Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbmQgb2YgZG9jdW1lbnQsIHN0b3AgbGlzdGVuaW5nXG4gICAgICAgICAgICAgICAgICAgIGxleGVyLnJlbW92ZUFsbExpc3RlbmVycygnZGF0YScpO1xuICAgICAgICAgICAgICAgICAgICByZWFkZXIuZW1pdChvcHRpb25zLmRvbmVFdmVudCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJvb3ROb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBUeXBlLnRleHQ6XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5jaGlsZHJlbi5wdXNoKGNyZWF0ZU5vZGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogTm9kZVR5cGUudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkYXRhLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBvcHRpb25zLnBhcmVudE5vZGVzID8gY3VycmVudCA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBUeXBlLmF0dHJpYnV0ZU5hbWU6XG4gICAgICAgICAgICAgICAgYXR0ck5hbWUgPSBkYXRhLnZhbHVlO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlc1thdHRyTmFtZV0gPSAnJztcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBUeXBlLmF0dHJpYnV0ZVZhbHVlOlxuICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cmlidXRlc1thdHRyTmFtZV0gPSBkYXRhLnZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJlYWRlci5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbGV4ZXIgPSBMZXhlci5jcmVhdGUoeyBkZWJ1Zzogb3B0aW9ucy5kZWJ1ZyB9KTtcbiAgICAgICAgbGV4ZXIub24oJ2RhdGEnLCBoYW5kbGVMZXhlckRhdGEpO1xuICAgICAgICByb290Tm9kZSA9IGNyZWF0ZU5vZGUoKTtcbiAgICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICAgIGF0dHJOYW1lID0gJyc7XG4gICAgICAgIHJlYWRlci5wYXJzZSA9IGxleGVyLndyaXRlO1xuICAgIH07XG5cbiAgICByZWFkZXIucmVzZXQoKTtcbiAgICByZXR1cm4gcmVhZGVyO1xufTtcblxudmFyIHBhcnNlU3luYyA9IGZ1bmN0aW9uIHBhcnNlU3luYyh4bWwsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgeyBzdHJlYW06IGZhbHNlLCB0YWdQcmVmaXg6ICc6JyB9KTtcbiAgICB2YXIgcmVhZGVyID0gY3JlYXRlKG9wdGlvbnMpO1xuICAgIHZhciByZXMgPSB2b2lkIDA7XG4gICAgcmVhZGVyLm9uKCdkb25lJywgZnVuY3Rpb24gKGFzdCkge1xuICAgICAgICByZXMgPSBhc3Q7XG4gICAgfSk7XG4gICAgcmVhZGVyLnBhcnNlKHhtbCk7XG4gICAgcmV0dXJuIHJlcztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHBhcnNlU3luYzogcGFyc2VTeW5jLFxuICAgIGNyZWF0ZTogY3JlYXRlLFxuICAgIE5vZGVUeXBlOiBOb2RlVHlwZVxufTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/xml-reader/dist/reader.js\n");

/***/ }),

/***/ "./src/AdLeafNode.es6":
/*!****************************!*\
  !*** ./src/AdLeafNode.es6 ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undefined;\n\nvar _AudioNub2 = __webpack_require__(/*! ./AudioNub.es6 */ \"./src/AudioNub.es6\");\n\nvar _AudioNub3 = _interopRequireDefault(_AudioNub2);\n\nvar _Logger = __webpack_require__(/*! ./Logger.es6 */ \"./src/Logger.es6\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _TextPresenter = __webpack_require__(/*! ./TextPresenter.es6 */ \"./src/TextPresenter.es6\");\n\nvar _TextPresenter2 = _interopRequireDefault(_TextPresenter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar defaultOutput = null;\n\nvar AdLeafNode = /*#__PURE__*/function (_AudioNub) {\n  _inherits(AdLeafNode, _AudioNub);\n\n  var _super = _createSuper(AdLeafNode);\n\n  function AdLeafNode(parent, node, audioContext) {\n    var _this;\n\n    _classCallCheck(this, AdLeafNode);\n\n    _this = _super.call(this, parent, node, audioContext);\n\n    if (!_this._name) {\n      _this._name = \"span (anonymous)\";\n    }\n\n    return _this;\n  }\n\n  _createClass(AdLeafNode, [{\n    key: \"makeDefaultOutput\",\n    value: function makeDefaultOutput() {\n      if (defaultOutput) {\n        defaultOutput.onInactive();\n      }\n\n      this.onActive();\n      defaultOutput = this;\n    }\n  }, {\n    key: \"onActive\",\n    value: function onActive() {\n      if (!this.isActive) {\n        this.output.connect(this.audioContext.destination);\n\n        if (defaultOutput && defaultOutput !== this) {\n          defaultOutput.onInactive();\n        }\n\n        _Logger2[\"default\"].log(\"Active leaf: \".concat(this.pathString));\n      }\n\n      _get(_getPrototypeOf(AdLeafNode.prototype), \"onActive\", this).call(this);\n\n      if (this.value) {\n        this.tpKey = _TextPresenter2[\"default\"].present(this.value, this.pathString);\n      }\n    }\n  }, {\n    key: \"onInactive\",\n    value: function onInactive() {\n      if (this.isActive) {\n        if (this.tpKey) {\n          _TextPresenter2[\"default\"].unPresent(this.tpKey);\n        }\n\n        this.output.disconnect(this.audioContext.destination);\n\n        if (defaultOutput && defaultOutput !== this) {\n          defaultOutput.onActive();\n        }\n\n        _Logger2[\"default\"].log(\"Inactive leaf: \".concat(this.pathString));\n      }\n\n      _get(_getPrototypeOf(AdLeafNode.prototype), \"onInactive\", this).call(this);\n    }\n  }]);\n\n  return AdLeafNode;\n}(_AudioNub3[\"default\"]);\n\nexports[\"default\"] = AdLeafNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvQWRMZWFmTm9kZS5lczYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZGhlcmUtbGliLy4vc3JjL0FkTGVhZk5vZGUuZXM2P2JkY2EiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTkgQnJpdGlzaCBCcm9hZGNhc3RpbmcgQ29ycG9yYXRpb25cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCBBdWRpb051YiBmcm9tIFwiLi9BdWRpb051Yi5lczZcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4vTG9nZ2VyLmVzNlwiO1xuaW1wb3J0IFRleHRQcmVzZW50ZXIgZnJvbSBcIi4vVGV4dFByZXNlbnRlci5lczZcIjtcblxubGV0IGRlZmF1bHRPdXRwdXQgPSBudWxsO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZExlYWZOb2RlIGV4dGVuZHMgQXVkaW9OdWIge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIG5vZGUsIGF1ZGlvQ29udGV4dCkge1xuICAgIHN1cGVyKHBhcmVudCwgbm9kZSwgYXVkaW9Db250ZXh0KTtcblxuICAgIGlmICghdGhpcy5fbmFtZSkge1xuICAgICAgdGhpcy5fbmFtZSA9IFwic3BhbiAoYW5vbnltb3VzKVwiO1xuICAgIH1cbiAgfVxuXG4gIG1ha2VEZWZhdWx0T3V0cHV0KCkge1xuICAgIGlmIChkZWZhdWx0T3V0cHV0KSB7XG4gICAgICBkZWZhdWx0T3V0cHV0Lm9uSW5hY3RpdmUoKTtcbiAgICB9XG4gICAgdGhpcy5vbkFjdGl2ZSgpO1xuICAgIGRlZmF1bHRPdXRwdXQgPSB0aGlzO1xuICB9XG5cbiAgb25BY3RpdmUoKSB7XG4gICAgaWYgKCF0aGlzLmlzQWN0aXZlKSB7XG4gICAgICB0aGlzLm91dHB1dC5jb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgIGlmIChkZWZhdWx0T3V0cHV0ICYmIGRlZmF1bHRPdXRwdXQgIT09IHRoaXMpIHtcbiAgICAgICAgZGVmYXVsdE91dHB1dC5vbkluYWN0aXZlKCk7XG4gICAgICB9XG4gICAgICBMb2dnZXIubG9nKGBBY3RpdmUgbGVhZjogJHsgdGhpcy5wYXRoU3RyaW5nfWApO1xuICAgIH1cbiAgICBzdXBlci5vbkFjdGl2ZSgpO1xuICAgIGlmICh0aGlzLnZhbHVlKSB7XG4gICAgICB0aGlzLnRwS2V5ID0gVGV4dFByZXNlbnRlci5wcmVzZW50KHRoaXMudmFsdWUsIHRoaXMucGF0aFN0cmluZyk7XG4gICAgfVxuICB9XG5cbiAgb25JbmFjdGl2ZSgpIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuICAgICAgaWYgKHRoaXMudHBLZXkpIHtcbiAgICAgICAgVGV4dFByZXNlbnRlci51blByZXNlbnQodGhpcy50cEtleSk7XG4gICAgICB9XG4gICAgICB0aGlzLm91dHB1dC5kaXNjb25uZWN0KHRoaXMuYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgIGlmIChkZWZhdWx0T3V0cHV0ICYmIGRlZmF1bHRPdXRwdXQgIT09IHRoaXMpIHtcbiAgICAgICAgZGVmYXVsdE91dHB1dC5vbkFjdGl2ZSgpO1xuICAgICAgfVxuICAgICAgTG9nZ2VyLmxvZyhgSW5hY3RpdmUgbGVhZjogJHsgdGhpcy5wYXRoU3RyaW5nfWApO1xuICAgIH1cbiAgICBzdXBlci5vbkluYWN0aXZlKCk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBY0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBTUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTs7OztBQTNDQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/AdLeafNode.es6\n");

/***/ }),

/***/ "./src/AdNode.es6":
/*!************************!*\
  !*** ./src/AdNode.es6 ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undefined;\n\nvar _Utils = __webpack_require__(/*! ./Utils.es6 */ \"./src/Utils.es6\");\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nvar _Logger = __webpack_require__(/*! ./Logger.es6 */ \"./src/Logger.es6\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _TimingCalculator = __webpack_require__(/*! ./TimingCalculator.es6 */ \"./src/TimingCalculator.es6\");\n\nvar _TimingCalculator2 = _interopRequireDefault(_TimingCalculator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar AdNode = /*#__PURE__*/function () {\n  function AdNode(parent, xmlNode, audioContext) {\n    _classCallCheck(this, AdNode);\n\n    this._xmlNode = xmlNode;\n    this.parent = parent;\n    this.time = {\n      begin: _TimingCalculator2[\"default\"].computeBegin(xmlNode),\n      end: undefined\n    };\n    this._name = xmlNode.name;\n    this._value = xmlNode.value;\n\n    if (xmlNode.attributes) {\n      this._pitch = _Utils2[\"default\"].getAttributeByFullyQualifiedName(xmlNode, \"\".concat(_Utils2[\"default\"].NS_TTML_AUDIO_URI, \"%%pitch\"));\n      this._speak = _Utils2[\"default\"].getAttributeByFullyQualifiedName(xmlNode, \"\".concat(_Utils2[\"default\"].NS_TTML_AUDIO_URI, \"%%speak\"));\n      this._id = _Utils2[\"default\"].getAttributeByFullyQualifiedName(xmlNode, \"\".concat(_Utils2[\"default\"].NS_XML_URI, \"%%id\"));\n    }\n\n    if (audioContext) {\n      this.ac = audioContext;\n    } // Logger.log(`Constructed an AdNode for ${this.pathString}, value \\\"${this.value}\\\"\n    // ${this.begin} --> ${this.end}`); // DEBUG\n\n  }\n\n  _createClass(AdNode, [{\n    key: \"postComputeEnd\",\n    value: function postComputeEnd() {\n      this.time.end = _TimingCalculator2[\"default\"].computeEnd(this._xmlNode); // Logger.log(`postComputeEnd() for ${this.pathString}, value \\\"${this.value}\\\"\n      // ${this.begin} --> ${this.end}`); // DEBUG\n\n      if (this.children) {\n        this.children.forEach(function (c) {\n          c.postComputeEnd();\n        });\n      }\n    }\n  }, {\n    key: \"audioContext\",\n    get: function get() {\n      if (this.ac) {\n        return this.ac;\n      }\n\n      if (this.parent) {\n        return this.parent.audioContext;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"begin\",\n    get: function get() {\n      var begin = NaN;\n\n      if (this.time) {\n        begin = this.time.begin;\n      }\n\n      return begin;\n    }\n  }, {\n    key: \"end\",\n    get: function get() {\n      var end = NaN;\n\n      if (this.time) {\n        end = this.time.end;\n      }\n\n      return end;\n    }\n  }, {\n    key: \"pitch\",\n    get: function get() {\n      if (this._pitch || this._pitch === 0) {\n        return this._pitch;\n      } else if (this.parent) {\n        return this.parent.pitch;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"speak\",\n    get: function get() {\n      if (this._speak) {\n        return this._speak;\n      } else if (this.parent) {\n        return this.parent.speak;\n      }\n\n      return undefined;\n    }\n  }, {\n    key: \"value\",\n    get: function get() {\n      return this._value;\n    }\n  }, {\n    key: \"videoMedia\",\n    get: function get() {\n      return this._videoMedia;\n    },\n    set: function set(vm) {\n      this._videoMedia = vm;\n    }\n  }, {\n    key: \"makeCueObjects\",\n    value: function makeCueObjects(arr, videoMedia) {\n      var _this = this;\n\n      this.videoMedia = videoMedia;\n      var b = this.begin;\n      var e = !isNaN(this.end) ? this.end : videoMedia.duration;\n      var v = this.value;\n\n      if (!isNaN(b) && !isNaN(e)) {\n        // Logger.log(`Making a cue for ${ this.pathString }, \\\"${ v }\\\",\n        // ${b} --> ${e}.`); // DEBUG\n        var newCue = new VTTCue(b, e, v);\n\n        newCue.onenter = function () {\n          return _this.onActive();\n        };\n\n        newCue.onexit = function () {\n          return _this.onInactive();\n        };\n\n        arr.push(newCue); // } else {\n        //   Logger.log(`Not making a cue for ${ this.pathString }, \\\"${ v }\\\"\n        //   because b (${b}) or e (${e}) is NaN.`); // DEBUG\n      }\n\n      if (this.children) {\n        var _iterator = _createForOfIteratorHelper(this.children),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var c = _step.value;\n            c.makeCueObjects(arr, videoMedia);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    } //Go down the tree, apply fn(c) to all children\n\n  }, {\n    key: \"traverse\",\n    value: function traverse(fn) {\n      fn(this);\n\n      if (this.children) {\n        var _iterator2 = _createForOfIteratorHelper(this.children),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var c = _step2.value;\n            c.traverse(fn);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    }\n  }, {\n    key: \"name\",\n    get: function get() {\n      return this._name;\n    }\n  }, {\n    key: \"pathString\",\n    get: function get() {\n      return (this.parent ? \"\".concat(this.parent.pathString, \" -> \") : \"\") + \"\".concat(this.name).concat(this.idString);\n    }\n  }, {\n    key: \"idString\",\n    get: function get() {\n      return this._id ? \" id:\\\"\".concat(this._id, \"\\\"\") : \"\";\n    }\n  }, {\n    key: \"onActive\",\n    value: function onActive() {\n      this.isActive = true;\n\n      _Logger2[\"default\"].log(\"Active AdNode: \".concat(this.pathString));\n    }\n  }, {\n    key: \"onInactive\",\n    value: function onInactive() {\n      this.isActive = false;\n\n      _Logger2[\"default\"].log(\"Inactive AdNode: \".concat(this.pathString));\n    }\n  }, {\n    key: \"onFinalise\",\n    value: function onFinalise() {\n      if (this.isActive) {\n        this.onInactive();\n      }\n    }\n  }]);\n\n  return AdNode;\n}();\n\nexports[\"default\"] = AdNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvQWROb2RlLmVzNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkaGVyZS1saWIvLi9zcmMvQWROb2RlLmVzNj9lMGNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5IEJyaXRpc2ggQnJvYWRjYXN0aW5nIENvcnBvcmF0aW9uXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4vVXRpbHMuZXM2XCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL0xvZ2dlci5lczZcIjtcbmltcG9ydCBUaW1pbmdDYWxjdWxhdG9yIGZyb20gXCIuL1RpbWluZ0NhbGN1bGF0b3IuZXM2XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFkTm9kZSB7XG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgeG1sTm9kZSwgYXVkaW9Db250ZXh0KSB7XG4gICAgdGhpcy5feG1sTm9kZSA9IHhtbE5vZGU7XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy50aW1lID0ge1xuICAgICAgYmVnaW46IFRpbWluZ0NhbGN1bGF0b3IuY29tcHV0ZUJlZ2luKHhtbE5vZGUpLFxuICAgICAgZW5kOiB1bmRlZmluZWRcbiAgICB9O1xuXG4gICAgdGhpcy5fbmFtZSA9IHhtbE5vZGUubmFtZTtcbiAgICB0aGlzLl92YWx1ZSA9IHhtbE5vZGUudmFsdWU7XG4gICAgaWYgKHhtbE5vZGUuYXR0cmlidXRlcykge1xuICAgICAgdGhpcy5fcGl0Y2ggPSBVdGlscy5nZXRBdHRyaWJ1dGVCeUZ1bGx5UXVhbGlmaWVkTmFtZSh4bWxOb2RlLCBgJHtVdGlscy5OU19UVE1MX0FVRElPX1VSSX0lJXBpdGNoYCk7XG4gICAgICB0aGlzLl9zcGVhayA9IFV0aWxzLmdldEF0dHJpYnV0ZUJ5RnVsbHlRdWFsaWZpZWROYW1lKHhtbE5vZGUsIGAke1V0aWxzLk5TX1RUTUxfQVVESU9fVVJJfSUlc3BlYWtgKTtcbiAgICAgIHRoaXMuX2lkID0gVXRpbHMuZ2V0QXR0cmlidXRlQnlGdWxseVF1YWxpZmllZE5hbWUoeG1sTm9kZSwgYCR7VXRpbHMuTlNfWE1MX1VSSX0lJWlkYCk7XG4gICAgfVxuICAgIGlmIChhdWRpb0NvbnRleHQpIHtcbiAgICAgIHRoaXMuYWMgPSBhdWRpb0NvbnRleHQ7XG4gICAgfVxuICAgIC8vIExvZ2dlci5sb2coYENvbnN0cnVjdGVkIGFuIEFkTm9kZSBmb3IgJHt0aGlzLnBhdGhTdHJpbmd9LCB2YWx1ZSBcXFwiJHt0aGlzLnZhbHVlfVxcXCJcbiAgICAvLyAke3RoaXMuYmVnaW59IC0tPiAke3RoaXMuZW5kfWApOyAvLyBERUJVR1xuICB9XG5cbiAgcG9zdENvbXB1dGVFbmQoKSB7XG4gICAgdGhpcy50aW1lLmVuZCA9IFRpbWluZ0NhbGN1bGF0b3IuY29tcHV0ZUVuZCh0aGlzLl94bWxOb2RlKTtcbiAgICAvLyBMb2dnZXIubG9nKGBwb3N0Q29tcHV0ZUVuZCgpIGZvciAke3RoaXMucGF0aFN0cmluZ30sIHZhbHVlIFxcXCIke3RoaXMudmFsdWV9XFxcIlxuICAgIC8vICR7dGhpcy5iZWdpbn0gLS0+ICR7dGhpcy5lbmR9YCk7IC8vIERFQlVHXG4gICAgaWYgKHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaCgoYykgPT4geyBjLnBvc3RDb21wdXRlRW5kKCk7IH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldCBhdWRpb0NvbnRleHQoKSB7XG4gICAgaWYgKHRoaXMuYWMpIHtcbiAgICAgIHJldHVybiB0aGlzLmFjO1xuICAgIH1cbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnBhcmVudC5hdWRpb0NvbnRleHQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0IGJlZ2luKCkge1xuICAgIGxldCBiZWdpbiA9IE5hTjtcbiAgICBpZiAodGhpcy50aW1lKSB7XG4gICAgICBiZWdpbiA9IHRoaXMudGltZS5iZWdpbjtcbiAgICB9XG4gICAgcmV0dXJuIGJlZ2luO1xuICB9XG5cbiAgZ2V0IGVuZCgpIHtcbiAgICBsZXQgZW5kID0gTmFOO1xuICAgIGlmICh0aGlzLnRpbWUpIHtcbiAgICAgIGVuZCA9IHRoaXMudGltZS5lbmQ7XG4gICAgfVxuICAgIHJldHVybiBlbmQ7XG4gIH1cblxuICBnZXQgcGl0Y2goKSB7XG4gICAgaWYgKHRoaXMuX3BpdGNoIHx8IHRoaXMuX3BpdGNoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGl0Y2g7XG4gICAgfSBlbHNlIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50LnBpdGNoO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXQgc3BlYWsoKSB7XG4gICAgaWYgKHRoaXMuX3NwZWFrKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3BlYWs7XG4gICAgfSBlbHNlIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50LnNwZWFrO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBnZXQgdmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG5cbiAgZ2V0IHZpZGVvTWVkaWEoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZGVvTWVkaWE7XG4gIH1cblxuICBzZXQgdmlkZW9NZWRpYSh2bSkge1xuICAgIHRoaXMuX3ZpZGVvTWVkaWEgPSB2bTtcbiAgfVxuXG4gIG1ha2VDdWVPYmplY3RzKGFyciwgdmlkZW9NZWRpYSkge1xuICAgIHRoaXMudmlkZW9NZWRpYSA9IHZpZGVvTWVkaWE7XG4gICAgY29uc3QgYiA9IHRoaXMuYmVnaW47XG4gICAgY29uc3QgZSA9ICghaXNOYU4odGhpcy5lbmQpKSA/IHRoaXMuZW5kIDogdmlkZW9NZWRpYS5kdXJhdGlvbjtcbiAgICBjb25zdCB2ID0gdGhpcy52YWx1ZTtcbiAgICBpZiAoIWlzTmFOKGIpICYmICFpc05hTihlKSkge1xuICAgICAgLy8gTG9nZ2VyLmxvZyhgTWFraW5nIGEgY3VlIGZvciAkeyB0aGlzLnBhdGhTdHJpbmcgfSwgXFxcIiR7IHYgfVxcXCIsXG4gICAgICAvLyAke2J9IC0tPiAke2V9LmApOyAvLyBERUJVR1xuICAgICAgY29uc3QgbmV3Q3VlID0gbmV3IFZUVEN1ZShiLCBlLCB2KTtcbiAgICAgIG5ld0N1ZS5vbmVudGVyID0gKCkgPT4gdGhpcy5vbkFjdGl2ZSgpO1xuICAgICAgbmV3Q3VlLm9uZXhpdCA9ICgpID0+IHRoaXMub25JbmFjdGl2ZSgpO1xuICAgICAgYXJyLnB1c2gobmV3Q3VlKTtcbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgTG9nZ2VyLmxvZyhgTm90IG1ha2luZyBhIGN1ZSBmb3IgJHsgdGhpcy5wYXRoU3RyaW5nIH0sIFxcXCIkeyB2IH1cXFwiXG4gICAgLy8gICBiZWNhdXNlIGIgKCR7Yn0pIG9yIGUgKCR7ZX0pIGlzIE5hTi5gKTsgLy8gREVCVUdcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jaGlsZHJlbikge1xuICAgICAgZm9yIChjb25zdCBjIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgYy5tYWtlQ3VlT2JqZWN0cyhhcnIsIHZpZGVvTWVkaWEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vR28gZG93biB0aGUgdHJlZSwgYXBwbHkgZm4oYykgdG8gYWxsIGNoaWxkcmVuXG4gIHRyYXZlcnNlKGZuKSB7XG4gICAgZm4odGhpcyk7XG4gICAgaWYgKHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgIGZvciAoY29uc3QgYyBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgIGMudHJhdmVyc2UoZm4pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldCBuYW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICB9XG5cbiAgZ2V0IHBhdGhTdHJpbmcoKSB7XG4gICAgcmV0dXJuICgodGhpcy5wYXJlbnQpID8gYCR7dGhpcy5wYXJlbnQucGF0aFN0cmluZyB9IC0+IGAgOiBcIlwiKSArIGAke3RoaXMubmFtZX0ke3RoaXMuaWRTdHJpbmd9YDtcbiAgfVxuXG4gIGdldCBpZFN0cmluZygpIHtcbiAgICByZXR1cm4gKHRoaXMuX2lkKSA/IGAgaWQ6XFxcIiR7IHRoaXMuX2lkIH1cXFwiYCA6IFwiXCI7XG4gIH1cblxuICBvbkFjdGl2ZSgpIHtcbiAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICBMb2dnZXIubG9nKGBBY3RpdmUgQWROb2RlOiAkeyB0aGlzLnBhdGhTdHJpbmd9YCk7XG4gIH1cblxuICBvbkluYWN0aXZlKCkge1xuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICBMb2dnZXIubG9nKGBJbmFjdGl2ZSBBZE5vZGU6ICR7IHRoaXMucGF0aFN0cmluZ31gKTtcbiAgfVxuXG4gIG9uRmluYWxpc2UoKSB7XG4gICAgaWYgKHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgIHRoaXMub25JbmFjdGl2ZSgpO1xuICAgIH1cbiAgfVxuXG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFjQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7OztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQXRKQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/AdNode.es6\n");

/***/ }),

/***/ "./src/AdSourceNode.es6":
/*!******************************!*\
  !*** ./src/AdSourceNode.es6 ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undefined;\n\nvar _AudioNub2 = __webpack_require__(/*! ./AudioNub.es6 */ \"./src/AudioNub.es6\");\n\nvar _AudioNub3 = _interopRequireDefault(_AudioNub2);\n\nvar _TimingCalculator = __webpack_require__(/*! ./TimingCalculator.es6 */ \"./src/TimingCalculator.es6\");\n\nvar _TimingCalculator2 = _interopRequireDefault(_TimingCalculator);\n\nvar _Logger = __webpack_require__(/*! ./Logger.es6 */ \"./src/Logger.es6\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _PlaybackProperties = __webpack_require__(/*! ./PlaybackProperties.es6 */ \"./src/PlaybackProperties.es6\");\n\nvar _PlaybackProperties2 = _interopRequireDefault(_PlaybackProperties);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar readyStateMap = {\n  0: \"HAVE_NOTHING\",\n  1: \"HAVE_METADATA\",\n  2: \"HAVE_CURRENT_DATA\",\n  3: \"HAVE_FUTURE_DATA\",\n  4: \"HAVE_ENOUGH_DATA\"\n}; // This guy is a little weird - It's the input to it's parent; i.e. in the graph\n// it is the parent, but in the tree (and xml), it's a child.\n// Don't use it for user controlled sources like video elements:\n// instead user AdUserControlledSourceNode for them.\n\nvar AdSourceNode = /*#__PURE__*/function (_AudioNub) {\n  _inherits(AdSourceNode, _AudioNub);\n\n  var _super = _createSuper(AdSourceNode);\n\n  function AdSourceNode(parent, xmlNode, audioContext, mediaPair) {\n    var _this;\n\n    _classCallCheck(this, AdSourceNode);\n\n    _this = _super.call(this, parent, xmlNode, audioContext);\n    _this.mediaPair = mediaPair;\n    _this.media = mediaPair.media;\n    _this.mediaNode = mediaPair.mediaNode;\n\n    if (xmlNode.attributes.clipBegin) {\n      _this.clipBegin = _TimingCalculator2[\"default\"].parseSeconds(xmlNode.attributes.clipBegin) || 0;\n    } else {\n      _this.clipBegin = 0;\n    }\n\n    if (xmlNode.attributes.clipEnd) {\n      _this.clipEnd = _TimingCalculator2[\"default\"].parseSeconds(xmlNode.attributes.clipEnd) || NaN;\n    }\n\n    return _this;\n  }\n\n  _createClass(AdSourceNode, [{\n    key: \"mediaReadyState\",\n    value: function mediaReadyState(m) {\n      var readyState = m.readyState;\n      return readyStateMap[readyState];\n    }\n  }, {\n    key: \"addDebugEventHandlers\",\n    value: function addDebugEventHandlers() {\n      var _this2 = this;\n\n      var m = this.mediaPair.media;\n\n      if (m) {\n        m.addEventListener(\"abort\", function () {\n          _Logger2[\"default\"].log(\"Audio source aborted loading. readyState = \".concat(_this2.mediaReadyState(m)));\n        });\n        m.addEventListener(\"error\", function () {\n          _Logger2[\"default\"].log(\"Audio source error. readyState = \".concat(_this2.mediaReadyState(m)));\n        });\n        m.addEventListener(\"loadeddata\", function () {\n          _Logger2[\"default\"].log(\"Audio source loaded data. readyState = \".concat(_this2.mediaReadyState(m)));\n        });\n        m.addEventListener(\"loadstart\", function () {\n          _Logger2[\"default\"].log(\"Audio source loadstart. readyState = \".concat(_this2.mediaReadyState(m)));\n        });\n        m.addEventListener(\"playing\", function () {\n          _Logger2[\"default\"].log(\"Audio source is playing. readyState = \".concat(_this2.mediaReadyState(m)));\n        });\n        m.addEventListener(\"progress\", function () {\n          _Logger2[\"default\"].log(\"Audio source making progress. readyState = \".concat(_this2.mediaReadyState(m)));\n        });\n        m.addEventListener(\"waiting\", function () {\n          _Logger2[\"default\"].log(\"Audio source is waiting for more data. readyState = \".concat(_this2.mediaReadyState(m)));\n        });\n      }\n    }\n  }, {\n    key: \"end\",\n    get: function get() {\n      var ret;\n\n      var normalEnd = _get(_getPrototypeOf(AdSourceNode.prototype), \"end\", this);\n\n      if (this.clipEnd) {\n        //The duration of the clip added to the start time, or the span end, whichever comes first.\n        ret = Math.min(normalEnd, this.begin + (this.clipEnd - this.clipBegin));\n      } else {\n        ret = normalEnd;\n      } // Logger.log(`AdSourceNode end() super said ${normalEnd} but I'm saying ${ret}`); // DEBUG\n\n\n      return ret;\n    }\n  }, {\n    key: \"onActive\",\n    value: function onActive() {\n      var _this3 = this;\n\n      if (this.mediaPair && !this.isActive) {\n        _Logger2[\"default\"].log(\"Active AdSourceNode: \".concat(this.pathString));\n\n        var offset = this.videoMedia.currentTime - this.begin;\n        this.media.currentTime = this.clipBegin ? this.clipBegin + offset : offset;\n        this.input = this.mediaNode;\n        this.gainNode.gain.value = this.gain * _PlaybackProperties2[\"default\"].getCurrentGain();\n        this.input.connect(this.gainNode);\n\n        _Logger2[\"default\"].log(\"Connected to media element source with src= \".concat(this.input.mediaElement.currentSrc));\n\n        this.media.play()[\"catch\"](function (e) {\n          _Logger2[\"default\"].log(\"AdSourceNode play rejected with error: \".concat(e, \".\"));\n        });\n        this.output.connect(this.parent.gainNode); //TODO Make formal with .input\n\n        _Logger2[\"default\"].log(\"Active source into: \".concat(this.parent.name, \"; src: \").concat(this.media.src, \"; from: \").concat(this.media.currentTime, \" including offset of \").concat(offset, \".\"));\n\n        this.startTime = this.media.currentTime;\n        this.isActive = true;\n        this.gainId = _PlaybackProperties2[\"default\"].registerCallback(function (uiGain) {\n          //const oldVal = this.gainNode.gain.value;\n          //console.info(\"Base gain\", this.gain, \"UI gain\", uiGain);\n          _this3.gainNode.gain.value = _this3.gain * uiGain; //console.info(\"Final gain changes from\", oldVal, \"to\", this.gainNode.gain.value);\n        });\n      }\n    }\n  }, {\n    key: \"onInactive\",\n    value: function onInactive() {\n      if (this.media && this.isActive) {\n        _Logger2[\"default\"].log(\"Inactive AdSourceNode: \".concat(this.pathString));\n\n        this.media.pause();\n        this.input.disconnect(this.gainNode);\n        this.input = null;\n        this.output.disconnect(this.parent.gainNode);\n\n        _Logger2[\"default\"].log(\"Inactive source into: \".concat(this.parent.name, \"; src: \").concat(this.media.src));\n\n        this.endTime = this.media.currentTime; // DEBUG: clipBegin/clipEnd\n\n        _Logger2[\"default\"].log( // eslint-disable-next-line max-len\n        \"ran source for: \".concat(this.endTime - this.startTime, \" clipBegin: \").concat(this.startTime, \" clipEnd: \").concat(this.endTime));\n\n        this.isActive = false;\n\n        _PlaybackProperties2[\"default\"].deregisterCallback(this.gainId);\n      }\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      if (this.media && this.isActive) {\n        this.media.pause();\n      }\n    }\n  }, {\n    key: \"onRestart\",\n    value: function onRestart() {\n      if (this.media && this.isActive) {\n        this.media.play();\n      }\n    }\n  }, {\n    key: \"onFinalise\",\n    value: function onFinalise() {\n      if (this.media) {\n        _get(_getPrototypeOf(AdSourceNode.prototype), \"onFinalise\", this).call(this);\n\n        var src = this.media.src;\n\n        if ((src + \"\").indexOf(\"blob://\") > 0) {\n          _Logger2[\"default\"].log(\"Clear audio src \" + this.media.src);\n\n          this.media.src = \"\";\n          URL.revokeObjectURL(src);\n        }\n\n        if (this.input) {\n          this.input.disconnect(this.gainNode);\n        }\n      }\n    }\n  }]);\n\n  return AdSourceNode;\n}(_AudioNub3[\"default\"]);\n\nexports[\"default\"] = AdSourceNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvQWRTb3VyY2VOb2RlLmVzNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkaGVyZS1saWIvLi9zcmMvQWRTb3VyY2VOb2RlLmVzNj9hYWQ4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5IEJyaXRpc2ggQnJvYWRjYXN0aW5nIENvcnBvcmF0aW9uXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgQXVkaW9OdWIgZnJvbSBcIi4vQXVkaW9OdWIuZXM2XCI7XG5pbXBvcnQgVGltaW5nQ2FsY3VsYXRvciBmcm9tIFwiLi9UaW1pbmdDYWxjdWxhdG9yLmVzNlwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi9Mb2dnZXIuZXM2XCI7XG5pbXBvcnQgcHJvcHMgZnJvbSBcIi4vUGxheWJhY2tQcm9wZXJ0aWVzLmVzNlwiO1xuXG5jb25zdCByZWFkeVN0YXRlTWFwID1cbiAge1xuICAgIDA6IFwiSEFWRV9OT1RISU5HXCIsXG4gICAgMTogXCJIQVZFX01FVEFEQVRBXCIsXG4gICAgMjogXCJIQVZFX0NVUlJFTlRfREFUQVwiLFxuICAgIDM6IFwiSEFWRV9GVVRVUkVfREFUQVwiLFxuICAgIDQ6IFwiSEFWRV9FTk9VR0hfREFUQVwiXG4gIH07XG5cbi8vIFRoaXMgZ3V5IGlzIGEgbGl0dGxlIHdlaXJkIC0gSXQncyB0aGUgaW5wdXQgdG8gaXQncyBwYXJlbnQ7IGkuZS4gaW4gdGhlIGdyYXBoXG4vLyBpdCBpcyB0aGUgcGFyZW50LCBidXQgaW4gdGhlIHRyZWUgKGFuZCB4bWwpLCBpdCdzIGEgY2hpbGQuXG4vLyBEb24ndCB1c2UgaXQgZm9yIHVzZXIgY29udHJvbGxlZCBzb3VyY2VzIGxpa2UgdmlkZW8gZWxlbWVudHM6XG4vLyBpbnN0ZWFkIHVzZXIgQWRVc2VyQ29udHJvbGxlZFNvdXJjZU5vZGUgZm9yIHRoZW0uXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZFNvdXJjZU5vZGUgZXh0ZW5kcyBBdWRpb051YiB7XG4gIGNvbnN0cnVjdG9yKHBhcmVudCwgeG1sTm9kZSwgYXVkaW9Db250ZXh0LCBtZWRpYVBhaXIpIHtcbiAgICBzdXBlcihwYXJlbnQsIHhtbE5vZGUsIGF1ZGlvQ29udGV4dCk7XG5cbiAgICB0aGlzLm1lZGlhUGFpciA9IG1lZGlhUGFpcjtcbiAgICB0aGlzLm1lZGlhID0gbWVkaWFQYWlyLm1lZGlhO1xuICAgIHRoaXMubWVkaWFOb2RlID0gbWVkaWFQYWlyLm1lZGlhTm9kZTtcbiAgICBpZiAoeG1sTm9kZS5hdHRyaWJ1dGVzLmNsaXBCZWdpbikge1xuICAgICAgdGhpcy5jbGlwQmVnaW4gPSBUaW1pbmdDYWxjdWxhdG9yLnBhcnNlU2Vjb25kcyh4bWxOb2RlLmF0dHJpYnV0ZXMuY2xpcEJlZ2luKSB8fCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsaXBCZWdpbiA9IDA7XG4gICAgfVxuXG4gICAgaWYgKHhtbE5vZGUuYXR0cmlidXRlcy5jbGlwRW5kKSB7XG4gICAgICB0aGlzLmNsaXBFbmQgPSBUaW1pbmdDYWxjdWxhdG9yLnBhcnNlU2Vjb25kcyh4bWxOb2RlLmF0dHJpYnV0ZXMuY2xpcEVuZCkgfHwgTmFOO1xuICAgIH1cbiAgfVxuXG4gIG1lZGlhUmVhZHlTdGF0ZShtKSB7XG4gICAgY29uc3QgcmVhZHlTdGF0ZSA9IG0ucmVhZHlTdGF0ZTtcbiAgICByZXR1cm4gcmVhZHlTdGF0ZU1hcFtyZWFkeVN0YXRlXTtcbiAgfVxuXG4gIGFkZERlYnVnRXZlbnRIYW5kbGVycygpIHtcbiAgICBjb25zdCBtID0gdGhpcy5tZWRpYVBhaXIubWVkaWE7XG4gICAgaWYgKG0pIHtcbiAgICAgIG0uYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IHtcbiAgICAgICAgTG9nZ2VyLmxvZyhgQXVkaW8gc291cmNlIGFib3J0ZWQgbG9hZGluZy4gcmVhZHlTdGF0ZSA9ICR7dGhpcy5tZWRpYVJlYWR5U3RhdGUobSl9YCk7XG4gICAgICB9KTtcbiAgICAgIG0uYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsICgpID0+IHtcbiAgICAgICAgTG9nZ2VyLmxvZyhgQXVkaW8gc291cmNlIGVycm9yLiByZWFkeVN0YXRlID0gJHt0aGlzLm1lZGlhUmVhZHlTdGF0ZShtKX1gKTtcbiAgICAgIH0pO1xuICAgICAgbS5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkZGF0YVwiLCAoKSA9PiB7XG4gICAgICAgIExvZ2dlci5sb2coYEF1ZGlvIHNvdXJjZSBsb2FkZWQgZGF0YS4gcmVhZHlTdGF0ZSA9ICR7dGhpcy5tZWRpYVJlYWR5U3RhdGUobSl9YCk7XG4gICAgICB9KTtcbiAgICAgIG0uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdGFydFwiLCAoKSA9PiB7XG4gICAgICAgIExvZ2dlci5sb2coYEF1ZGlvIHNvdXJjZSBsb2Fkc3RhcnQuIHJlYWR5U3RhdGUgPSAke3RoaXMubWVkaWFSZWFkeVN0YXRlKG0pfWApO1xuICAgICAgfSk7XG4gICAgICBtLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsICgpID0+IHtcbiAgICAgICAgTG9nZ2VyLmxvZyhgQXVkaW8gc291cmNlIGlzIHBsYXlpbmcuIHJlYWR5U3RhdGUgPSAke3RoaXMubWVkaWFSZWFkeVN0YXRlKG0pfWApO1xuICAgICAgfSk7XG4gICAgICBtLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLCAoKSA9PiB7XG4gICAgICAgIExvZ2dlci5sb2coYEF1ZGlvIHNvdXJjZSBtYWtpbmcgcHJvZ3Jlc3MuIHJlYWR5U3RhdGUgPSAke3RoaXMubWVkaWFSZWFkeVN0YXRlKG0pfWApO1xuICAgICAgfSk7XG4gICAgICBtLmFkZEV2ZW50TGlzdGVuZXIoXCJ3YWl0aW5nXCIsICgpID0+IHtcbiAgICAgICAgTG9nZ2VyLmxvZyhgQXVkaW8gc291cmNlIGlzIHdhaXRpbmcgZm9yIG1vcmUgZGF0YS4gcmVhZHlTdGF0ZSA9ICR7dGhpcy5tZWRpYVJlYWR5U3RhdGUobSl9YCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBnZXQgZW5kKCkge1xuICAgIGxldCByZXQ7XG4gICAgY29uc3Qgbm9ybWFsRW5kID0gc3VwZXIuZW5kO1xuXG4gICAgaWYgKHRoaXMuY2xpcEVuZCkge1xuICAgICAgLy9UaGUgZHVyYXRpb24gb2YgdGhlIGNsaXAgYWRkZWQgdG8gdGhlIHN0YXJ0IHRpbWUsIG9yIHRoZSBzcGFuIGVuZCwgd2hpY2hldmVyIGNvbWVzIGZpcnN0LlxuICAgICAgcmV0ID0gTWF0aC5taW4obm9ybWFsRW5kLCB0aGlzLmJlZ2luICsgKHRoaXMuY2xpcEVuZCAtIHRoaXMuY2xpcEJlZ2luKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldCA9IG5vcm1hbEVuZDtcbiAgICB9XG5cbiAgICAvLyBMb2dnZXIubG9nKGBBZFNvdXJjZU5vZGUgZW5kKCkgc3VwZXIgc2FpZCAke25vcm1hbEVuZH0gYnV0IEknbSBzYXlpbmcgJHtyZXR9YCk7IC8vIERFQlVHXG4gICAgcmV0dXJuIHJldDtcbiAgfVxuXG4gIG9uQWN0aXZlKCkge1xuICAgIGlmICh0aGlzLm1lZGlhUGFpciAmJiAhdGhpcy5pc0FjdGl2ZSkge1xuICAgICAgTG9nZ2VyLmxvZyhgQWN0aXZlIEFkU291cmNlTm9kZTogJHsgdGhpcy5wYXRoU3RyaW5nfWApO1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy52aWRlb01lZGlhLmN1cnJlbnRUaW1lIC0gdGhpcy5iZWdpbjtcbiAgICAgIHRoaXMubWVkaWEuY3VycmVudFRpbWUgPSAodGhpcy5jbGlwQmVnaW4pID8gdGhpcy5jbGlwQmVnaW4gKyBvZmZzZXQgOiBvZmZzZXQ7XG4gICAgICB0aGlzLmlucHV0ID0gdGhpcy5tZWRpYU5vZGU7XG4gICAgICB0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUgPSB0aGlzLmdhaW4gKiBwcm9wcy5nZXRDdXJyZW50R2FpbigpO1xuICAgICAgdGhpcy5pbnB1dC5jb25uZWN0KHRoaXMuZ2Fpbk5vZGUpO1xuICAgICAgTG9nZ2VyLmxvZyhgQ29ubmVjdGVkIHRvIG1lZGlhIGVsZW1lbnQgc291cmNlIHdpdGggc3JjPSAkeyB0aGlzLmlucHV0Lm1lZGlhRWxlbWVudC5jdXJyZW50U3JjIH1gKTtcblxuICAgICAgdGhpcy5tZWRpYS5wbGF5KCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgTG9nZ2VyLmxvZyhgQWRTb3VyY2VOb2RlIHBsYXkgcmVqZWN0ZWQgd2l0aCBlcnJvcjogJHtlfS5gKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5vdXRwdXQuY29ubmVjdCh0aGlzLnBhcmVudC5nYWluTm9kZSk7Ly9UT0RPIE1ha2UgZm9ybWFsIHdpdGggLmlucHV0XG4gICAgICBMb2dnZXIubG9nKGBBY3RpdmUgc291cmNlIGludG86ICR7IHRoaXMucGFyZW50Lm5hbWUgfTsgc3JjOiAkeyB0aGlzLm1lZGlhLnNyY307IGZyb206ICR7IHRoaXMubWVkaWEuY3VycmVudFRpbWUgfSBpbmNsdWRpbmcgb2Zmc2V0IG9mICR7b2Zmc2V0fS5gKTtcbiAgICAgIHRoaXMuc3RhcnRUaW1lID0gdGhpcy5tZWRpYS5jdXJyZW50VGltZTtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgICB0aGlzLmdhaW5JZCA9IHByb3BzLnJlZ2lzdGVyQ2FsbGJhY2soKHVpR2FpbikgPT4ge1xuICAgICAgICAvL2NvbnN0IG9sZFZhbCA9IHRoaXMuZ2Fpbk5vZGUuZ2Fpbi52YWx1ZTtcbiAgICAgICAgLy9jb25zb2xlLmluZm8oXCJCYXNlIGdhaW5cIiwgdGhpcy5nYWluLCBcIlVJIGdhaW5cIiwgdWlHYWluKTtcbiAgICAgICAgdGhpcy5nYWluTm9kZS5nYWluLnZhbHVlID0gdGhpcy5nYWluICogdWlHYWluO1xuICAgICAgICAvL2NvbnNvbGUuaW5mbyhcIkZpbmFsIGdhaW4gY2hhbmdlcyBmcm9tXCIsIG9sZFZhbCwgXCJ0b1wiLCB0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUpO1xuICAgICAgfSk7XG5cbiAgICB9XG4gIH1cblxuICBvbkluYWN0aXZlKCkge1xuICAgIGlmICh0aGlzLm1lZGlhICYmIHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgIExvZ2dlci5sb2coYEluYWN0aXZlIEFkU291cmNlTm9kZTogJHsgdGhpcy5wYXRoU3RyaW5nfWApO1xuICAgICAgdGhpcy5tZWRpYS5wYXVzZSgpO1xuICAgICAgdGhpcy5pbnB1dC5kaXNjb25uZWN0KHRoaXMuZ2Fpbk5vZGUpO1xuICAgICAgdGhpcy5pbnB1dCA9IG51bGw7XG5cbiAgICAgIHRoaXMub3V0cHV0LmRpc2Nvbm5lY3QodGhpcy5wYXJlbnQuZ2Fpbk5vZGUpO1xuICAgICAgTG9nZ2VyLmxvZyhcbiAgICAgICAgYEluYWN0aXZlIHNvdXJjZSBpbnRvOiAkeyB0aGlzLnBhcmVudC5uYW1lIH07IHNyYzogJHsgdGhpcy5tZWRpYS5zcmN9YCk7XG4gICAgICB0aGlzLmVuZFRpbWUgPSB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgLy8gREVCVUc6IGNsaXBCZWdpbi9jbGlwRW5kXG4gICAgICBMb2dnZXIubG9nKFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICBgcmFuIHNvdXJjZSBmb3I6ICR7IHRoaXMuZW5kVGltZSAtIHRoaXMuc3RhcnRUaW1lIH0gY2xpcEJlZ2luOiAkeyB0aGlzLnN0YXJ0VGltZSB9IGNsaXBFbmQ6ICR7IHRoaXMuZW5kVGltZX1gKTtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgIHByb3BzLmRlcmVnaXN0ZXJDYWxsYmFjayh0aGlzLmdhaW5JZCk7XG4gICAgfVxuICB9XG5cbiAgb25QYXVzZSgpIHtcbiAgICBpZiAodGhpcy5tZWRpYSAmJiB0aGlzLmlzQWN0aXZlKSB7XG4gICAgICB0aGlzLm1lZGlhLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgb25SZXN0YXJ0KCkge1xuICAgIGlmICh0aGlzLm1lZGlhICYmIHRoaXMuaXNBY3RpdmUpIHtcbiAgICAgIHRoaXMubWVkaWEucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uRmluYWxpc2UoKSB7XG4gICAgaWYgKHRoaXMubWVkaWEpIHtcbiAgICAgIHN1cGVyLm9uRmluYWxpc2UoKTtcbiAgICAgIGNvbnN0IHNyYyA9IHRoaXMubWVkaWEuc3JjO1xuICAgICAgaWYgKChzcmMgKyBcIlwiKS5pbmRleE9mKFwiYmxvYjovL1wiKSA+IDApIHtcbiAgICAgICAgTG9nZ2VyLmxvZyhcIkNsZWFyIGF1ZGlvIHNyYyBcIiArIHRoaXMubWVkaWEuc3JjKTtcbiAgICAgICAgdGhpcy5tZWRpYS5zcmMgPSBcIlwiO1xuICAgICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHNyYyk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pbnB1dCkge1xuICAgICAgICB0aGlzLmlucHV0LmRpc2Nvbm5lY3QodGhpcy5nYWluTm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQWNBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFmQTtBQWVBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUExSUE7QUFDQTtBQURBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/AdSourceNode.es6\n");

/***/ }),

/***/ "./src/AdUserControlledSourceNode.es6":
/*!********************************************!*\
  !*** ./src/AdUserControlledSourceNode.es6 ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undefined;\n\nvar _AdSourceNode2 = __webpack_require__(/*! ./AdSourceNode.es6 */ \"./src/AdSourceNode.es6\");\n\nvar _AdSourceNode3 = _interopRequireDefault(_AdSourceNode2);\n\nvar _Logger = __webpack_require__(/*! ./Logger.es6 */ \"./src/Logger.es6\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n// This guy is a little weird - It's the input to it's parent; i.e. in the graph\n// it is the parent, but in the tree (and xml), it's a child.\n// This subclass is for user controlled sources like <video> elements, as\n// opposed to sources generated by the TTML source document.\nvar AdUserControlledSourceNode = /*#__PURE__*/function (_AdSourceNode) {\n  _inherits(AdUserControlledSourceNode, _AdSourceNode);\n\n  var _super = _createSuper(AdUserControlledSourceNode);\n\n  function AdUserControlledSourceNode(parent, xmlNode, audioContext, media) {\n    _classCallCheck(this, AdUserControlledSourceNode);\n\n    return _super.call(this, parent, xmlNode, audioContext, media);\n  }\n\n  _createClass(AdUserControlledSourceNode, [{\n    key: \"onActive\",\n    value: function onActive() {\n      if (this.media && !this.isActive) {\n        this.input = this.mediaNode;\n        this.input.connect(this.gainNode);\n\n        _Logger2[\"default\"].log(\"Connected to media element source with src= \".concat(this.input.mediaElement.currentSrc));\n\n        if (this.parent) {\n          this.output.connect(this.parent.gainNode); //TODO Make formal with .input\n\n          _Logger2[\"default\"].log(\"Active source into: \".concat(this.parent.name, \"; src: \").concat(this.media.src, \"; from: \").concat(this.media.currentTime));\n        } else {\n          _Logger2[\"default\"].log(\"No parent to connect\");\n        }\n\n        this.startTime = this.media.currentTime;\n        this.isActive = true;\n      }\n    }\n  }, {\n    key: \"onInactive\",\n    value: function onInactive() {\n      if (this.media && this.isActive) {\n        this.input.disconnect(this.gainNode);\n        this.input = null;\n\n        if (this.parent) {\n          this.output.disconnect(this.parent.gainNode);\n\n          _Logger2[\"default\"].log(\"Inactive source into: \".concat(this.parent.name, \"; src: \").concat(this.media.src));\n        } else {\n          _Logger2[\"default\"].log(\"No parent to disconnect\");\n        }\n\n        this.endTime = this.media.currentTime;\n        this.isActive = false;\n      }\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {}\n  }, {\n    key: \"onRestart\",\n    value: function onRestart() {}\n  }, {\n    key: \"onFinalise\",\n    value: function onFinalise() {}\n  }]);\n\n  return AdUserControlledSourceNode;\n}(_AdSourceNode3[\"default\"]);\n\nexports[\"default\"] = AdUserControlledSourceNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvQWRVc2VyQ29udHJvbGxlZFNvdXJjZU5vZGUuZXM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRoZXJlLWxpYi8uL3NyYy9BZFVzZXJDb250cm9sbGVkU291cmNlTm9kZS5lczY/ZjZhMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAyMCBCcml0aXNoIEJyb2FkY2FzdGluZyBDb3Jwb3JhdGlvblxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IEFkU291cmNlTm9kZSBmcm9tIFwiLi9BZFNvdXJjZU5vZGUuZXM2XCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL0xvZ2dlci5lczZcIjtcblxuLy8gVGhpcyBndXkgaXMgYSBsaXR0bGUgd2VpcmQgLSBJdCdzIHRoZSBpbnB1dCB0byBpdCdzIHBhcmVudDsgaS5lLiBpbiB0aGUgZ3JhcGhcbi8vIGl0IGlzIHRoZSBwYXJlbnQsIGJ1dCBpbiB0aGUgdHJlZSAoYW5kIHhtbCksIGl0J3MgYSBjaGlsZC5cbi8vIFRoaXMgc3ViY2xhc3MgaXMgZm9yIHVzZXIgY29udHJvbGxlZCBzb3VyY2VzIGxpa2UgPHZpZGVvPiBlbGVtZW50cywgYXNcbi8vIG9wcG9zZWQgdG8gc291cmNlcyBnZW5lcmF0ZWQgYnkgdGhlIFRUTUwgc291cmNlIGRvY3VtZW50LlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWRVc2VyQ29udHJvbGxlZFNvdXJjZU5vZGUgZXh0ZW5kcyBBZFNvdXJjZU5vZGUge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIHhtbE5vZGUsIGF1ZGlvQ29udGV4dCwgbWVkaWEpIHtcbiAgICBzdXBlcihwYXJlbnQsIHhtbE5vZGUsIGF1ZGlvQ29udGV4dCwgbWVkaWEpO1xuICB9XG5cbiAgb25BY3RpdmUoKSB7XG4gICAgaWYgKHRoaXMubWVkaWEgJiYgIXRoaXMuaXNBY3RpdmUpIHtcbiAgICAgIHRoaXMuaW5wdXQgPSB0aGlzLm1lZGlhTm9kZTtcbiAgICAgIHRoaXMuaW5wdXQuY29ubmVjdCh0aGlzLmdhaW5Ob2RlKTtcbiAgICAgIExvZ2dlci5sb2coYENvbm5lY3RlZCB0byBtZWRpYSBlbGVtZW50IHNvdXJjZSB3aXRoIHNyYz0gJHsgdGhpcy5pbnB1dC5tZWRpYUVsZW1lbnQuY3VycmVudFNyYyB9YCk7XG5cbiAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgIHRoaXMub3V0cHV0LmNvbm5lY3QodGhpcy5wYXJlbnQuZ2Fpbk5vZGUpOy8vVE9ETyBNYWtlIGZvcm1hbCB3aXRoIC5pbnB1dFxuICAgICAgICAgIExvZ2dlci5sb2coYEFjdGl2ZSBzb3VyY2UgaW50bzogJHsgdGhpcy5wYXJlbnQubmFtZSB9OyBzcmM6ICR7IHRoaXMubWVkaWEuc3JjfTsgZnJvbTogJHsgdGhpcy5tZWRpYS5jdXJyZW50VGltZSB9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIExvZ2dlci5sb2coXCJObyBwYXJlbnQgdG8gY29ubmVjdFwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhcnRUaW1lID0gdGhpcy5tZWRpYS5jdXJyZW50VGltZTtcbiAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIG9uSW5hY3RpdmUoKSB7XG4gICAgaWYgKHRoaXMubWVkaWEgJiYgdGhpcy5pc0FjdGl2ZSkge1xuICAgICAgICB0aGlzLmlucHV0LmRpc2Nvbm5lY3QodGhpcy5nYWluTm9kZSk7XG4gICAgICAgIHRoaXMuaW5wdXQgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXQuZGlzY29ubmVjdCh0aGlzLnBhcmVudC5nYWluTm9kZSk7XG4gICAgICAgICAgICBMb2dnZXIubG9nKFxuICAgICAgICAgICAgYEluYWN0aXZlIHNvdXJjZSBpbnRvOiAkeyB0aGlzLnBhcmVudC5uYW1lIH07IHNyYzogJHsgdGhpcy5tZWRpYS5zcmN9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBMb2dnZXIubG9nKFwiTm8gcGFyZW50IHRvIGRpc2Nvbm5lY3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbmRUaW1lID0gdGhpcy5tZWRpYS5jdXJyZW50VGltZTtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG9uUGF1c2UoKSB7XG4gIH1cblxuICBvblJlc3RhcnQoKSB7XG4gIH1cblxuICBvbkZpbmFsaXNlKCkge1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQWNBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBOzs7QUFHQTs7O0FBR0E7Ozs7QUE3Q0E7QUFDQTtBQURBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/AdUserControlledSourceNode.es6\n");

/***/ }),

/***/ "./src/AnimateNode.es6":
/*!*****************************!*\
  !*** ./src/AnimateNode.es6 ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undefined;\n\nvar _AdNode2 = __webpack_require__(/*! ./AdNode.es6 */ \"./src/AdNode.es6\");\n\nvar _AdNode3 = _interopRequireDefault(_AdNode2);\n\nvar _Logger = __webpack_require__(/*! ./Logger.es6 */ \"./src/Logger.es6\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _Utils = __webpack_require__(/*! ./Utils.es6 */ \"./src/Utils.es6\");\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar AnimateNode = /*#__PURE__*/function (_AdNode) {\n  _inherits(AnimateNode, _AdNode);\n\n  var _super = _createSuper(AnimateNode);\n\n  function AnimateNode(parent, xmlNode, audioContext) {\n    var _this;\n\n    _classCallCheck(this, AnimateNode);\n\n    _this = _super.call(this, parent, xmlNode, audioContext);\n\n    if (_Utils2[\"default\"].getAttributeByFullyQualifiedName(xmlNode, \"\".concat(_Utils2[\"default\"].NS_TTML_AUDIO_URI, \"%%gain\"))) {\n      _this.gains = _Utils2[\"default\"].getAttributeByFullyQualifiedName(xmlNode, \"\".concat(_Utils2[\"default\"].NS_TTML_AUDIO_URI, \"%%gain\")).split(\";\").map(parseFloat);\n    }\n\n    if (_Utils2[\"default\"].getAttributeByFullyQualifiedName(xmlNode, \"\".concat(_Utils2[\"default\"].NS_TTML_AUDIO_URI, \"%%pan\"))) {\n      _this.pans = _Utils2[\"default\"].getAttributeByFullyQualifiedName(xmlNode, \"\".concat(_Utils2[\"default\"].NS_TTML_AUDIO_URI, \"%%pan\")).split(\";\").map(parseFloat);\n    }\n\n    return _this;\n  }\n\n  _createClass(AnimateNode, [{\n    key: \"onActive\",\n    value: function onActive() {\n      _get(_getPrototypeOf(AnimateNode.prototype), \"onActive\", this).call(this);\n\n      var duration = this.end - this.begin;\n\n      if (this.gains && this.gains.length > 0) {\n        this.parent.gainNode.gain.setValueCurveAtTime(Float32Array.from(this.gains), this.audioContext.currentTime, duration);\n\n        _Logger2[\"default\"].log( // eslint-disable-next-line max-len\n        \"Active animate node into: \".concat(this.parent.name, \"; gain: \").concat(this.gains.join(\", \"), \"; dur: \").concat(duration));\n      }\n\n      if (this.pans && this.pans.length > 0) {\n        // Try to work around older spec support in Webkit, noting that\n        // the PannerNode interface does not use AudioParam and therefore\n        // the attempt to use setValueCurveAtTime fails.\n        var panPosition = this.parent.panNode.pan || this.parent.panNode.position;\n        panPosition.setValueCurveAtTime(Float32Array.from(this.pans), this.audioContext.currentTime, duration);\n\n        _Logger2[\"default\"].log( // eslint-disable-next-line max-len\n        \"Active animate node into: \".concat(this.parent.name, \"; pan: \").concat(this.pans.join(\", \"), \"; dur: \").concat(duration));\n      }\n    }\n  }, {\n    key: \"onInactive\",\n    value: function onInactive() {\n      _get(_getPrototypeOf(AnimateNode.prototype), \"onInactive\", this).call(this);\n    }\n  }]);\n\n  return AnimateNode;\n}(_AdNode3[\"default\"]);\n\nexports[\"default\"] = AnimateNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvQW5pbWF0ZU5vZGUuZXM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRoZXJlLWxpYi8uL3NyYy9BbmltYXRlTm9kZS5lczY/NmE4NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOSBCcml0aXNoIEJyb2FkY2FzdGluZyBDb3Jwb3JhdGlvblxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IEFkTm9kZSBmcm9tIFwiLi9BZE5vZGUuZXM2XCI7XG5pbXBvcnQgTG9nZ2VyIGZyb20gXCIuL0xvZ2dlci5lczZcIjtcbmltcG9ydCBVdGlscyBmcm9tIFwiLi9VdGlscy5lczZcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5pbWF0ZU5vZGUgZXh0ZW5kcyBBZE5vZGUge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIHhtbE5vZGUsIGF1ZGlvQ29udGV4dCkge1xuICAgIHN1cGVyKHBhcmVudCwgeG1sTm9kZSwgYXVkaW9Db250ZXh0KTtcblxuICAgIGlmIChVdGlscy5nZXRBdHRyaWJ1dGVCeUZ1bGx5UXVhbGlmaWVkTmFtZSh4bWxOb2RlLCBgJHtVdGlscy5OU19UVE1MX0FVRElPX1VSSX0lJWdhaW5gKSkge1xuICAgICAgdGhpcy5nYWlucyA9IFV0aWxzLmdldEF0dHJpYnV0ZUJ5RnVsbHlRdWFsaWZpZWROYW1lKHhtbE5vZGUsIGAke1V0aWxzLk5TX1RUTUxfQVVESU9fVVJJfSUlZ2FpbmApLnNwbGl0KFwiO1wiKS5tYXAocGFyc2VGbG9hdCk7XG4gICAgfVxuXG4gICAgaWYgKFV0aWxzLmdldEF0dHJpYnV0ZUJ5RnVsbHlRdWFsaWZpZWROYW1lKHhtbE5vZGUsIGAke1V0aWxzLk5TX1RUTUxfQVVESU9fVVJJfSUlcGFuYCkpIHtcbiAgICAgIHRoaXMucGFucyA9IFV0aWxzLmdldEF0dHJpYnV0ZUJ5RnVsbHlRdWFsaWZpZWROYW1lKHhtbE5vZGUsIGAke1V0aWxzLk5TX1RUTUxfQVVESU9fVVJJfSUlcGFuYCkuc3BsaXQoXCI7XCIpLm1hcChwYXJzZUZsb2F0KTtcbiAgICB9XG4gIH1cblxuICBvbkFjdGl2ZSgpIHtcbiAgICBzdXBlci5vbkFjdGl2ZSgpO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gdGhpcy5lbmQgLSB0aGlzLmJlZ2luO1xuICAgIGlmICh0aGlzLmdhaW5zICYmIHRoaXMuZ2FpbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5wYXJlbnQuZ2Fpbk5vZGUuZ2Fpbi5zZXRWYWx1ZUN1cnZlQXRUaW1lKFxuICAgICAgICBGbG9hdDMyQXJyYXkuZnJvbSh0aGlzLmdhaW5zKSxcbiAgICAgICAgdGhpcy5hdWRpb0NvbnRleHQuY3VycmVudFRpbWUsXG4gICAgICAgIGR1cmF0aW9uKTtcbiAgICAgIExvZ2dlci5sb2coXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgIGBBY3RpdmUgYW5pbWF0ZSBub2RlIGludG86ICR7IHRoaXMucGFyZW50Lm5hbWUgfTsgZ2FpbjogJHsgdGhpcy5nYWlucy5qb2luKFwiLCBcIikgfTsgZHVyOiAkeyBkdXJhdGlvbn1gKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYW5zICYmIHRoaXMucGFucy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBUcnkgdG8gd29yayBhcm91bmQgb2xkZXIgc3BlYyBzdXBwb3J0IGluIFdlYmtpdCwgbm90aW5nIHRoYXRcbiAgICAgIC8vIHRoZSBQYW5uZXJOb2RlIGludGVyZmFjZSBkb2VzIG5vdCB1c2UgQXVkaW9QYXJhbSBhbmQgdGhlcmVmb3JlXG4gICAgICAvLyB0aGUgYXR0ZW1wdCB0byB1c2Ugc2V0VmFsdWVDdXJ2ZUF0VGltZSBmYWlscy5cbiAgICAgIGNvbnN0IHBhblBvc2l0aW9uID0gdGhpcy5wYXJlbnQucGFuTm9kZS5wYW4gfHwgdGhpcy5wYXJlbnQucGFuTm9kZS5wb3NpdGlvbjtcbiAgICAgIHBhblBvc2l0aW9uLnNldFZhbHVlQ3VydmVBdFRpbWUoXG4gICAgICAgIEZsb2F0MzJBcnJheS5mcm9tKHRoaXMucGFucyksXG4gICAgICAgIHRoaXMuYXVkaW9Db250ZXh0LmN1cnJlbnRUaW1lLFxuICAgICAgICBkdXJhdGlvbik7XG4gICAgICBMb2dnZXIubG9nKFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICAgICAgICBgQWN0aXZlIGFuaW1hdGUgbm9kZSBpbnRvOiAkeyB0aGlzLnBhcmVudC5uYW1lIH07IHBhbjogJHsgdGhpcy5wYW5zLmpvaW4oXCIsIFwiKSB9OyBkdXI6ICR7IGR1cmF0aW9ufWApO1xuICAgIH1cbiAgfVxuXG4gIG9uSW5hY3RpdmUoKSB7XG4gICAgc3VwZXIub25JbmFjdGl2ZSgpO1xuICB9XG5cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBY0E7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTs7Ozs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQVVBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUdBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7OztBQTNDQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/AnimateNode.es6\n");

/***/ }),

/***/ "./src/AudioNub.es6":
/*!**************************!*\
  !*** ./src/AudioNub.es6 ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undefined;\n\nvar _AdNode2 = __webpack_require__(/*! ./AdNode.es6 */ \"./src/AdNode.es6\");\n\nvar _AdNode3 = _interopRequireDefault(_AdNode2);\n\nvar _Utils = __webpack_require__(/*! ./Utils.es6 */ \"./src/Utils.es6\");\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar AudioNub = /*#__PURE__*/function (_AdNode) {\n  _inherits(AudioNub, _AdNode);\n\n  var _super = _createSuper(AudioNub);\n\n  function AudioNub(parent, xmlNode, audioContext) {\n    var _this;\n\n    _classCallCheck(this, AudioNub);\n\n    _this = _super.call(this, parent, xmlNode, audioContext);\n\n    _this.copyAudioAttributes(xmlNode);\n\n    _this.createAudioNodes();\n\n    return _this;\n  }\n\n  _createClass(AudioNub, [{\n    key: \"createAudioNodes\",\n    value: function createAudioNodes() {\n      this.gainNode = this.audioContext.createGain(); // Check that StereoPanner is supported. Webkit currently only\n      // supports the older interface's Panner.\n\n      var supportsStereoPanner = this.audioContext.createStereoPanner;\n      var supportsPanner = this.audioContext.createPanner;\n\n      if (supportsStereoPanner) {\n        this.panNode = this.audioContext.createStereoPanner();\n      } else if (supportsPanner) {\n        this.panNode = this.audioContext.createPanner();\n      }\n\n      this.gainNode.connect(this.panNode);\n      this.output = this.panNode;\n\n      if (supportsStereoPanner) {\n        this.panNode.pan.value = this.pan;\n      } else if (supportsPanner) {\n        this.panNode.position = 90 * this.pan;\n      }\n\n      this.gainNode.gain.value = this.gain;\n    }\n  }, {\n    key: \"onActive\",\n    value: function onActive() {\n      if (this.parent && !this.isActive) {\n        this.parent.output.connect(this.gainNode);\n      }\n\n      _get(_getPrototypeOf(AudioNub.prototype), \"onActive\", this).call(this);\n    }\n  }, {\n    key: \"onInactive\",\n    value: function onInactive() {\n      if (this.parent && this.isActive) {\n        this.parent.output.disconnect(this.gainNode);\n      }\n\n      _get(_getPrototypeOf(AudioNub.prototype), \"onInactive\", this).call(this);\n    }\n  }, {\n    key: \"onFinalise\",\n    value: function onFinalise() {\n      _get(_getPrototypeOf(AudioNub.prototype), \"onFinalise\", this).call(this);\n\n      this.gainNode.disconnect(this.panNode);\n    }\n  }, {\n    key: \"gain\",\n    get: function get() {\n      return !isNaN(this._gain) ? this._gain : 1;\n    }\n  }, {\n    key: \"pan\",\n    get: function get() {\n      return !isNaN(this._pan) ? this._pan : 0;\n    }\n  }, {\n    key: \"copyAudioAttributes\",\n    value: function copyAudioAttributes(xmlNode) {\n      if (xmlNode.attributes) {\n        this._gain = parseFloat(_Utils2[\"default\"].getAttributeByFullyQualifiedName(xmlNode, \"\".concat(_Utils2[\"default\"].NS_TTML_AUDIO_URI, \"%%gain\")));\n        this._pan = parseFloat(_Utils2[\"default\"].getAttributeByFullyQualifiedName(xmlNode, \"\".concat(_Utils2[\"default\"].NS_TTML_AUDIO_URI, \"%%pan\")));\n      }\n    }\n  }]);\n\n  return AudioNub;\n}(_AdNode3[\"default\"]);\n\nexports[\"default\"] = AudioNub;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvQXVkaW9OdWIuZXM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRoZXJlLWxpYi8uL3NyYy9BdWRpb051Yi5lczY/MmQ4NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOSBCcml0aXNoIEJyb2FkY2FzdGluZyBDb3Jwb3JhdGlvblxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IEFkTm9kZSBmcm9tIFwiLi9BZE5vZGUuZXM2XCI7XG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4vVXRpbHMuZXM2XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1ZGlvTnViIGV4dGVuZHMgQWROb2RlIHtcbiAgY29uc3RydWN0b3IocGFyZW50LCB4bWxOb2RlLCBhdWRpb0NvbnRleHQpIHtcbiAgICBzdXBlcihwYXJlbnQsIHhtbE5vZGUsIGF1ZGlvQ29udGV4dCk7XG4gICAgdGhpcy5jb3B5QXVkaW9BdHRyaWJ1dGVzKHhtbE5vZGUpO1xuICAgIHRoaXMuY3JlYXRlQXVkaW9Ob2RlcygpO1xuICB9XG5cbiAgY3JlYXRlQXVkaW9Ob2RlcygpIHtcbiAgICB0aGlzLmdhaW5Ob2RlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlR2FpbigpO1xuXG4gICAgLy8gQ2hlY2sgdGhhdCBTdGVyZW9QYW5uZXIgaXMgc3VwcG9ydGVkLiBXZWJraXQgY3VycmVudGx5IG9ubHlcbiAgICAvLyBzdXBwb3J0cyB0aGUgb2xkZXIgaW50ZXJmYWNlJ3MgUGFubmVyLlxuICAgIGNvbnN0IHN1cHBvcnRzU3RlcmVvUGFubmVyID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlU3RlcmVvUGFubmVyO1xuICAgIGNvbnN0IHN1cHBvcnRzUGFubmVyID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlUGFubmVyO1xuICAgIGlmIChzdXBwb3J0c1N0ZXJlb1Bhbm5lcikge1xuICAgICAgdGhpcy5wYW5Ob2RlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlU3RlcmVvUGFubmVyKCk7XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0c1Bhbm5lcikge1xuICAgICAgdGhpcy5wYW5Ob2RlID0gdGhpcy5hdWRpb0NvbnRleHQuY3JlYXRlUGFubmVyKCk7XG4gICAgfVxuICAgIHRoaXMuZ2Fpbk5vZGUuY29ubmVjdCh0aGlzLnBhbk5vZGUpO1xuICAgIHRoaXMub3V0cHV0ID0gdGhpcy5wYW5Ob2RlO1xuXG4gICAgaWYgKHN1cHBvcnRzU3RlcmVvUGFubmVyKSB7XG4gICAgICB0aGlzLnBhbk5vZGUucGFuLnZhbHVlID0gdGhpcy5wYW47XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0c1Bhbm5lcikge1xuICAgICAgdGhpcy5wYW5Ob2RlLnBvc2l0aW9uID0gOTAgKiB0aGlzLnBhbjtcbiAgICB9XG5cbiAgICB0aGlzLmdhaW5Ob2RlLmdhaW4udmFsdWUgPSB0aGlzLmdhaW47XG4gIH1cblxuICBvbkFjdGl2ZSgpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQgJiYgIXRoaXMuaXNBY3RpdmUpIHtcbiAgICAgIHRoaXMucGFyZW50Lm91dHB1dC5jb25uZWN0KHRoaXMuZ2Fpbk5vZGUpO1xuICAgIH1cbiAgICBzdXBlci5vbkFjdGl2ZSgpO1xuICB9XG5cbiAgb25JbmFjdGl2ZSgpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy5pc0FjdGl2ZSkge1xuICAgICAgdGhpcy5wYXJlbnQub3V0cHV0LmRpc2Nvbm5lY3QodGhpcy5nYWluTm9kZSk7XG4gICAgfVxuICAgIHN1cGVyLm9uSW5hY3RpdmUoKTtcbiAgfVxuXG4gIG9uRmluYWxpc2UoKSB7XG4gICAgc3VwZXIub25GaW5hbGlzZSgpO1xuICAgIHRoaXMuZ2Fpbk5vZGUuZGlzY29ubmVjdCh0aGlzLnBhbk5vZGUpO1xuICB9XG5cbiAgZ2V0IGdhaW4oKSB7XG4gICAgcmV0dXJuICFpc05hTih0aGlzLl9nYWluKSA/IHRoaXMuX2dhaW4gOiAxO1xuICB9XG5cbiAgZ2V0IHBhbigpIHtcbiAgICByZXR1cm4gIWlzTmFOKHRoaXMuX3BhbikgPyB0aGlzLl9wYW4gOiAwO1xuICB9XG5cbiAgY29weUF1ZGlvQXR0cmlidXRlcyh4bWxOb2RlKSB7XG4gICAgaWYgKHhtbE5vZGUuYXR0cmlidXRlcykge1xuICAgICAgdGhpcy5fZ2FpbiA9IHBhcnNlRmxvYXQoVXRpbHMuZ2V0QXR0cmlidXRlQnlGdWxseVF1YWxpZmllZE5hbWUoeG1sTm9kZSwgYCR7VXRpbHMuTlNfVFRNTF9BVURJT19VUkl9JSVnYWluYCkpO1xuICAgICAgdGhpcy5fcGFuID0gcGFyc2VGbG9hdChVdGlscy5nZXRBdHRyaWJ1dGVCeUZ1bGx5UXVhbGlmaWVkTmFtZSh4bWxOb2RlLCBgJHtVdGlscy5OU19UVE1MX0FVRElPX1VSSX0lJXBhbmApKTtcbiAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBY0E7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTs7Ozs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBSkE7QUFJQTtBQUNBOzs7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQS9EQTtBQUNBO0FBREEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/AudioNub.es6\n");

/***/ }),

/***/ "./src/Logger.es6":
/*!************************!*\
  !*** ./src/Logger.es6 ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Copyright 2019 British Broadcasting Corporation\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar callbacks = [];\nvar consoleEnabled = false;\nvar callbacksEnabled = true;\nvar videoplayer;\n/*eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"log\", \"dir\"] }] */\n\nvar Logger = /*#__PURE__*/function () {\n  function Logger() {\n    _classCallCheck(this, Logger);\n  }\n\n  _createClass(Logger, null, [{\n    key: \"log\",\n    value: function log(str) {\n      if (videoplayer) {\n        str = \"\".concat(videoplayer.currentTime.toFixed(3).padStart(8, \" \"), \" \").concat(str);\n      }\n\n      if (consoleEnabled) {\n        console.log(str);\n      }\n\n      if (callbacksEnabled) {\n        callbacks.forEach(function (cb) {\n          return cb(str);\n        });\n      }\n    }\n  }, {\n    key: \"addCallback\",\n    value: function addCallback(cb) {\n      callbacks.push(cb);\n    }\n  }, {\n    key: \"enableBrowserLogging\",\n    value: function enableBrowserLogging(value) {\n      consoleEnabled = value;\n    }\n  }, {\n    key: \"error\",\n    value: function error(str) {\n      if (consoleEnabled) {\n        console.error(str);\n      }\n\n      if (callbacksEnabled) {\n        callbacks.forEach(function (cb) {\n          return cb(str);\n        });\n      }\n    }\n  }, {\n    key: \"enableCallbacks\",\n    value: function enableCallbacks(value) {\n      if (consoleEnabled) {\n        console.log(\"Setting consoleEnabled to \".concat(value, \".\"));\n      }\n\n      callbacksEnabled = value;\n    }\n  }, {\n    key: \"setVideoPlayer\",\n    value: function setVideoPlayer(player) {\n      videoplayer = player;\n\n      if (videoplayer) {\n        this.log(\"Videoplayer set, log lines will be prefixed with video player currentTime.\");\n      } else {\n        this.log(\"Videoplayer unset, log lines will not have a timestamp.\");\n      }\n    }\n  }]);\n\n  return Logger;\n}();\n\nexports[\"default\"] = Logger;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvTG9nZ2VyLmVzNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkaGVyZS1saWIvLi9zcmMvTG9nZ2VyLmVzNj81OTlhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5IEJyaXRpc2ggQnJvYWRjYXN0aW5nIENvcnBvcmF0aW9uXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5jb25zdCBjYWxsYmFja3MgPSBbXTtcbmxldCBjb25zb2xlRW5hYmxlZCA9IGZhbHNlO1xubGV0IGNhbGxiYWNrc0VuYWJsZWQgPSB0cnVlO1xubGV0IHZpZGVvcGxheWVyO1xuLyplc2xpbnQgbm8tY29uc29sZTogW1wiZXJyb3JcIiwgeyBhbGxvdzogW1wid2FyblwiLCBcImVycm9yXCIsIFwibG9nXCIsIFwiZGlyXCJdIH1dICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvZ2dlciB7XG5cbiAgc3RhdGljIGxvZyhzdHIpIHtcbiAgICBpZiAodmlkZW9wbGF5ZXIpIHtcbiAgICAgIHN0ciA9IGAke3ZpZGVvcGxheWVyLmN1cnJlbnRUaW1lLnRvRml4ZWQoMykucGFkU3RhcnQoOCwgXCIgXCIpfSAke3N0cn1gO1xuICAgIH1cbiAgICBpZiAoY29uc29sZUVuYWJsZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKHN0cik7XG4gICAgfVxuICAgIGlmIChjYWxsYmFja3NFbmFibGVkKSB7XG4gICAgICBjYWxsYmFja3MuZm9yRWFjaCgoY2IpID0+IGNiKHN0cikpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhZGRDYWxsYmFjayhjYikge1xuICAgIGNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgfVxuXG4gIHN0YXRpYyBlbmFibGVCcm93c2VyTG9nZ2luZyh2YWx1ZSkge1xuICAgIGNvbnNvbGVFbmFibGVkID0gdmFsdWU7XG4gIH1cblxuICBzdGF0aWMgZXJyb3Ioc3RyKSB7XG4gICAgaWYgKGNvbnNvbGVFbmFibGVkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKHN0cik7XG4gICAgfVxuICAgIGlmIChjYWxsYmFja3NFbmFibGVkKSB7XG4gICAgICBjYWxsYmFja3MuZm9yRWFjaCgoY2IpID0+IGNiKHN0cikpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBlbmFibGVDYWxsYmFja3ModmFsdWUpIHtcbiAgICBpZiAoY29uc29sZUVuYWJsZWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBTZXR0aW5nIGNvbnNvbGVFbmFibGVkIHRvICR7IHZhbHVlfS5gKTtcbiAgICB9XG4gICAgY2FsbGJhY2tzRW5hYmxlZCA9IHZhbHVlO1xuICB9XG5cbiAgc3RhdGljIHNldFZpZGVvUGxheWVyKHBsYXllcikge1xuICAgIHZpZGVvcGxheWVyID0gcGxheWVyO1xuICAgIGlmICh2aWRlb3BsYXllcikge1xuICAgICAgdGhpcy5sb2coXCJWaWRlb3BsYXllciBzZXQsIGxvZyBsaW5lcyB3aWxsIGJlIHByZWZpeGVkIHdpdGggdmlkZW8gcGxheWVyIGN1cnJlbnRUaW1lLlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sb2coXCJWaWRlb3BsYXllciB1bnNldCwgbG9nIGxpbmVzIHdpbGwgbm90IGhhdmUgYSB0aW1lc3RhbXAuXCIpO1xuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBN0NBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Logger.es6\n");

/***/ }),

/***/ "./src/Parser.es6":
/*!************************!*\
  !*** ./src/Parser.es6 ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = parseTree;\nexports.setAudioCacheStrategy = setAudioCacheStrategy;\nexports.getAudioCacheStrategy = getAudioCacheStrategy;\n\nvar _Utils = __webpack_require__(/*! ./Utils.es6 */ \"./src/Utils.es6\");\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nvar _AdSourceNode = __webpack_require__(/*! ./AdSourceNode.es6 */ \"./src/AdSourceNode.es6\");\n\nvar _AdSourceNode2 = _interopRequireDefault(_AdSourceNode);\n\nvar _AdLeafNode = __webpack_require__(/*! ./AdLeafNode.es6 */ \"./src/AdLeafNode.es6\");\n\nvar _AdLeafNode2 = _interopRequireDefault(_AdLeafNode);\n\nvar _AdUserControlledSourceNode = __webpack_require__(/*! ./AdUserControlledSourceNode.es6 */ \"./src/AdUserControlledSourceNode.es6\");\n\nvar _AdUserControlledSourceNode2 = _interopRequireDefault(_AdUserControlledSourceNode);\n\nvar _SpeechSourceNode = __webpack_require__(/*! ./SpeechSourceNode.es6 */ \"./src/SpeechSourceNode.es6\");\n\nvar _SpeechSourceNode2 = _interopRequireDefault(_SpeechSourceNode);\n\nvar _AudioNub = __webpack_require__(/*! ./AudioNub.es6 */ \"./src/AudioNub.es6\");\n\nvar _AudioNub2 = _interopRequireDefault(_AudioNub);\n\nvar _AnimateNode = __webpack_require__(/*! ./AnimateNode.es6 */ \"./src/AnimateNode.es6\");\n\nvar _AnimateNode2 = _interopRequireDefault(_AnimateNode);\n\nvar _Logger = __webpack_require__(/*! ./Logger.es6 */ \"./src/Logger.es6\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nvar _base64Js = __webpack_require__(/*! base64-js */ \"./node_modules/base64-js/index.js\");\n\nvar _base64Js2 = _interopRequireDefault(_base64Js);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar CACHE_STRATEGY_REUSE = true;\nvar CACHE_STRATEGY_NOCACHE = false;\nvar currentUrl = \"\";\nvar audioElements = {};\nvar audioResources = {};\nvar trackPrefix = \";track=\";\nvar defaultVideoGain = 1;\nvar audioCacheStrategy = CACHE_STRATEGY_NOCACHE;\n/*eslint func-style: [\"error\", \"declaration\"]*/\n\n/*eslint no-use-before-define: [\"error\", { \"functions\": false }]*/\n\n/*eslint max-statements: [\"error\", 25]*/\n\nfunction isName(fullyQualifiedName, node) {\n  return node.fullyQualifiedName === fullyQualifiedName;\n}\n\nfunction getNamedChildren(fullyQualifiedName, node) {\n  return node.children.filter(isName.bind(null, fullyQualifiedName));\n} //For an audio with a <source> element, make a mediaSrc url from the base64.\n\n\nfunction parseEmbeddedSource(node) {\n  var source = getNamedChildren(\"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%source\"), node)[0];\n  var data = getNamedChildren(\"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%data\"), source)[0];\n  var dataType = data.attributes.type;\n  var chunks = getNamedChildren(\"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%chunk\"), data);\n  var chunk = chunks[0]; //TODO: merge multiple chunks\n\n  if (chunk.children.length > 0) {\n    chunk.value = chunk.children[0].value;\n  }\n\n  var wsRegex = /\\s/gi; // eslint-disable-next-line no-undef\n\n  var dataChunk = _base64Js2[\"default\"].toByteArray(chunk.value.replace(wsRegex, \"\"));\n\n  var blob = new Blob([dataChunk], {\n    type: dataType\n  });\n  return URL.createObjectURL(blob);\n}\n\nfunction grabAudioResources(headNode) {\n  var ret = {};\n  var resources = getNamedChildren(\"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%resources\"), headNode)[0];\n\n  if (resources) {\n    var audios = getNamedChildren(\"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%audio\"), resources);\n\n    var _iterator = _createForOfIteratorHelper(audios),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var a = _step.value;\n\n        var id = _Utils2[\"default\"].getAttributeByFullyQualifiedName(a, \"\".concat(_Utils2[\"default\"].NS_XML_URI, \"%%id\"));\n\n        if (id) {\n          audioResources[id] = parseEmbeddedSource(a);\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n\n  return ret;\n}\n\nfunction getAudioElement(audioSrc, audioContext) {\n  if (audioCacheStrategy === CACHE_STRATEGY_REUSE && audioSrc in audioElements) {\n    // Yay reuse this one\n    return audioElements[audioSrc];\n  } // Need to make one\n\n\n  var media = new Audio();\n\n  media.onError = function () {\n    _Logger2[\"default\"].error(\"Error \".concat(media.error.code, \"; details: \").concat(media.error.message));\n  };\n\n  media.src = audioSrc;\n  media.preload = \"metadata\";\n  var node = audioContext.createMediaElementSource(media);\n  var pair = {\n    media: media,\n    mediaNode: node\n  };\n\n  if (audioCacheStrategy === CACHE_STRATEGY_REUSE) {\n    audioElements[audioSrc] = pair;\n  }\n\n  return pair;\n}\n\nfunction propagateNamespaces(xmlNode) {\n  if (xmlNode.parent === null) {\n    xmlNode.namespaces = _Utils2[\"default\"].gleanNamespaces(xmlNode);\n    xmlNode.fullyQualifiedName = _Utils2[\"default\"].getFullyQualifiedName(xmlNode);\n  }\n\n  if (xmlNode.children) {\n    var _iterator2 = _createForOfIteratorHelper(xmlNode.children),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var c = _step2.value;\n\n        if (c.parent === null || c.parent.namespaces === {}) {\n          c.namespaces = _Utils2[\"default\"].gleanNamespaces(c);\n        } else {\n          c.namespaces = Object.assign(c.parent.namespaces, _Utils2[\"default\"].gleanNamespaces(c));\n        }\n\n        c.fullyQualifiedName = _Utils2[\"default\"].getFullyQualifiedName(c);\n        propagateNamespaces(c);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n} //The xml parser makes anonymous spans under real spans, let's flatten the two together.\n\n\nfunction flattenSpans(xmlNode) {\n  if (xmlNode.children) {\n    for (var i = 0; i < xmlNode.children.length;) {\n      var c = xmlNode.children[i];\n\n      if ((xmlNode.fullyQualifiedName === \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%span\") || xmlNode.fullyQualifiedName === \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%chunk\")) && c.fullyQualifiedName === \"\") {\n        xmlNode.value = c.value; //Take the text inside it\n\n        xmlNode.children.splice(i, 1);\n      } else {\n        flattenSpans(c);\n        i++;\n      }\n    }\n  }\n} //remove any nodes that don't fall under the isAudioType definition\n//clear out the unrelated ttml stuff\n\n\nfunction removeOther(xmlNode) {\n  if (xmlNode.children) {\n    for (var i = 0; i < xmlNode.children.length;) {\n      var c = xmlNode.children[i];\n\n      if (!_Utils2[\"default\"].isAudioType(c.fullyQualifiedName)) {\n        xmlNode.children.splice(i, 1);\n      } else {\n        removeOther(c);\n        i++;\n      }\n    }\n  }\n}\n\nfunction siblingsHaveAudio(xmlNode) {\n  var siblings = xmlNode.parent.children;\n\n  var _iterator3 = _createForOfIteratorHelper(siblings),\n      _step3;\n\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var s = _step3.value;\n\n      // eslint-disable-next-line eqeqeq\n      if (s != xmlNode && s.fullyQualifiedName === \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%audio\")) {\n        return true;\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n\n  return false;\n}\n\nfunction markAudio(xmlNode) {\n  if (xmlNode.parent) {\n    xmlNode.hasAudio = xmlNode.parent.hasAudio;\n  }\n\n  if (_Utils2[\"default\"].isAudioElement(xmlNode) || (xmlNode.fullyQualifiedName === \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%p\") || xmlNode.fullyQualifiedName === \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%div\") || xmlNode.fullyQualifiedName === \"\" || xmlNode.fullyQualifiedName === \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%span\")) && siblingsHaveAudio(xmlNode)) {\n    xmlNode.hasAudio = true;\n  }\n\n  if (xmlNode.children) {\n    var _iterator4 = _createForOfIteratorHelper(xmlNode.children),\n        _step4;\n\n    try {\n      for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n        var c = _step4.value;\n        markAudio(c);\n      }\n    } catch (err) {\n      _iterator4.e(err);\n    } finally {\n      _iterator4.f();\n    }\n\n    xmlNode.hasAudio = xmlNode.hasAudio || xmlNode.children.some(function (c) {\n      return c.hasAudio;\n    });\n  }\n}\n\nfunction markSpeech(xmlNode, parentSpeech) {\n  var speechSpecified = false;\n\n  if (xmlNode.attributes) {\n    var speakAttribute = _Utils2[\"default\"].getAttributeByFullyQualifiedName(xmlNode, \"\".concat(_Utils2[\"default\"].NS_TTML_AUDIO_URI, \"%%speak\"));\n\n    if (speakAttribute) {\n      speechSpecified = true;\n      xmlNode.hasSpeech = !(speakAttribute === \"none\");\n    }\n  }\n\n  if (!speechSpecified) {\n    // it's inherited downwards, if I don't specify, I get what my parent specifies.\n    xmlNode.hasSpeech = parentSpeech;\n  }\n\n  if (xmlNode.children) {\n    var hasSpeech = xmlNode.hasSpeech;\n\n    var _iterator5 = _createForOfIteratorHelper(xmlNode.children),\n        _step5;\n\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var c = _step5.value;\n        var thisChildHasSpeech = markSpeech(c, hasSpeech);\n        xmlNode.hasSpeech = thisChildHasSpeech || xmlNode.hasSpeech; //If any children have speech, I have speech (but that doesn't mean all my children do).\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n  }\n\n  return xmlNode.hasSpeech;\n}\n\nfunction removeNotAudio(xmlNode) {\n  //Remove anythin without .hasAudio or .hasSpeech.\n  if (xmlNode.children) {\n    for (var i = 0; i < xmlNode.children.length;) {\n      var c = xmlNode.children[i];\n\n      if (c.hasAudio || c.hasSpeech) {\n        removeNotAudio(c);\n        i++;\n      } else {\n        xmlNode.children.splice(i, 1);\n      }\n    }\n  }\n}\n\nfunction prepareXML(xmlNode) {\n  propagateNamespaces(xmlNode);\n  flattenSpans(xmlNode);\n  removeOther(xmlNode); //Mark nodes for hasSpeech and hasAudio\n  //Basically am I used in the pathway; if I or my descendants or my ascendants\n  //have speech or audio attributes, I'm marked too.\n\n  markAudio(xmlNode);\n  markSpeech(xmlNode);\n  removeNotAudio(xmlNode);\n}\n\nfunction parseAnimateNode(parent, node, audioContext) {\n  var ret = new _AnimateNode2[\"default\"](parent, node, audioContext);\n  return ret;\n}\n\nfunction isLeafNode(node) {\n  return node.fullyQualifiedName === \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%span\") || node.fullyQualifiedName === \"\"; //span or anonymous span/\n}\n\nfunction parseSpeechNode(parent, node, audioContext) {\n  var ret = new _SpeechSourceNode2[\"default\"](parent, node, audioContext);\n  return ret;\n}\n\nfunction parseAudioSourceNode(parent, node) {\n  var src = node.attributes.src;\n\n  if (src && src.indexOf(trackPrefix) >= 0) {\n    //Ignore body level track specifiers.\n    return undefined;\n  }\n\n  var audioSrc;\n\n  if (src) {\n    if (src.indexOf(\"#\") === 0) {\n      audioSrc = audioResources[src.substring(1)];\n    } else {\n      audioSrc = currentUrl + src;\n    }\n  } else if (!src && node.children) {\n    audioSrc = parseEmbeddedSource(node);\n  } else {\n    _Logger2[\"default\"].error(\"Found an audio node but couldn't work out what its source is supposed to be.\");\n  }\n\n  var ret;\n\n  if (audioSrc) {\n    var mediaPair = getAudioElement(audioSrc, parent.audioContext);\n    ret = new _AdSourceNode2[\"default\"](parent, node, undefined, mediaPair);\n  }\n\n  return ret;\n}\n\nfunction parseNode(parent, node) {\n  var ret = null;\n\n  if (node.fullyQualifiedName === \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%audio\")) {\n    ret = parseAudioSourceNode(parent, node);\n  } else if (node.fullyQualifiedName === \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%animate\")) {\n    ret = parseAnimateNode(parent, node);\n  } else if (isLeafNode(node)) {\n    ret = parseLeafNode(parent, node);\n  } else {\n    ret = parseIntermediateNode(parent, node);\n  }\n\n  return ret;\n}\n\nfunction parseLeafNode(parent, node, audioContext) {\n  var ret = new _AdLeafNode2[\"default\"](parent, node, audioContext);\n  ret.children = node.children.map(parseNode.bind(null, ret)); //Remove nulls. These are nodes to nowhere. We should also remove anonymous spans if we're a leaf.\n\n  ret.children = ret.children.filter(function (n) {\n    return !!n && (n._xmlNode.fullyQualifiedName === \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%audio\") || n._xmlNode.fullyQualifiedName === \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%animate\"));\n  });\n\n  if (node.hasSpeech) {\n    ret.children.push(parseSpeechNode(ret, node, audioContext));\n  }\n\n  return ret;\n}\n\nfunction parseIntermediateNode(parent, node, audioContext) {\n  var ret = new _AudioNub2[\"default\"](parent, node, audioContext);\n  ret.children = node.children.map(parseNode.bind(null, ret));\n  ret.children = ret.children.filter(function (n) {\n    return !!n;\n  }); //Remove nulls. These are nodes to nowhere\n\n  return ret;\n}\n\nfunction parseBody(parent, node, audioContext) {\n  var body = parseNode(parent, node, audioContext);\n  body.postComputeEnd();\n  return body;\n}\n\nfunction parseTree(audioContext, media, url, xmlTree, startRoot) {\n  var root;\n\n  if (startRoot) {\n    //We can't make a new AdSourceNode on the media without\n    root = startRoot;\n  } else {\n    //Make an magic source node for the media - there's no xml for this so fake it.\n    var mediaPair = {\n      media: media,\n      mediaNode: audioContext.createMediaElementSource(media)\n    };\n    root = new _AdUserControlledSourceNode2[\"default\"](null, {\n      name: \"root(mediaAudio)\",\n      attributes: {\n        \"tta:gain\": defaultVideoGain,\n        \"tta:pan\": 0\n      },\n      namespaces: {\n        \"default\": _Utils2[\"default\"].NS_TTML_URI,\n        \"xml\": _Utils2[\"default\"].NS_XML_URI,\n        \"tta\": \"\".concat(_Utils2[\"default\"].NS_TTML_AUDIO_URI)\n      },\n      fullyQualifiedName: \"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%tt\")\n    }, audioContext, mediaPair);\n  }\n\n  var defaultOutput = new _AdLeafNode2[\"default\"](root, {\n    name: \"default audio out\",\n    attributes: {},\n    namespaces: {\n      \"xml\": _Utils2[\"default\"].NS_XML_URI\n    },\n    fullyQualifiedName: \"\"\n  }, audioContext);\n  defaultOutput.makeDefaultOutput();\n  root.children = [defaultOutput];\n\n  if (typeof url === \"string\") {\n    currentUrl = \"\".concat(url.slice(0, url.lastIndexOf(\"/\")), \"/\");\n  } else {\n    currentUrl = \"\";\n  }\n\n  prepareXML(xmlTree);\n  var head = getNamedChildren(\"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%head\"), xmlTree)[0];\n\n  if (head) {\n    grabAudioResources(head);\n  }\n\n  if (isName(\"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%tt\"), xmlTree)) {\n    var body = getNamedChildren(\"\".concat(_Utils2[\"default\"].NS_TTML_URI, \"%%body\"), xmlTree)[0];\n\n    if (body) {\n      root.children.push(parseBody(root, body, null));\n    } else {\n      _Logger2[\"default\"].error(\"Couldn't find body element in the ttml document\");\n    }\n  }\n\n  return root;\n}\n\nfunction setAudioCacheStrategy(cacheStrategy) {\n  audioCacheStrategy = cacheStrategy;\n\n  _Logger2[\"default\"].log(\"Audio cache strategy set to \".concat(cacheStrategy === CACHE_STRATEGY_REUSE ? \"REUSE\" : \"NO CACHE\"));\n}\n\nfunction getAudioCacheStrategy() {\n  return audioCacheStrategy;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGFyc2VyLmVzNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkaGVyZS1saWIvLi9zcmMvUGFyc2VyLmVzNj83OTkwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5IEJyaXRpc2ggQnJvYWRjYXN0aW5nIENvcnBvcmF0aW9uXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgVXRpbHMgZnJvbSBcIi4vVXRpbHMuZXM2XCI7XG5pbXBvcnQgQWRTb3VyY2VOb2RlIGZyb20gXCIuL0FkU291cmNlTm9kZS5lczZcIjtcbmltcG9ydCBBZExlYWZOb2RlIGZyb20gXCIuL0FkTGVhZk5vZGUuZXM2XCI7XG5pbXBvcnQgQWRVc2VyQ29udHJvbGxlZFNvdXJjZU5vZGUgZnJvbSBcIi4vQWRVc2VyQ29udHJvbGxlZFNvdXJjZU5vZGUuZXM2XCI7XG5pbXBvcnQgU3BlZWNoU291cmNlTm9kZSBmcm9tIFwiLi9TcGVlY2hTb3VyY2VOb2RlLmVzNlwiO1xuaW1wb3J0IEF1ZGlvTnViIGZyb20gXCIuL0F1ZGlvTnViLmVzNlwiO1xuaW1wb3J0IEFuaW1hdGVOb2RlIGZyb20gXCIuL0FuaW1hdGVOb2RlLmVzNlwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi9Mb2dnZXIuZXM2XCI7XG5pbXBvcnQgYmFzZTY0anMgZnJvbSBcImJhc2U2NC1qc1wiO1xuXG5jb25zdCBDQUNIRV9TVFJBVEVHWV9SRVVTRSA9IHRydWU7XG5jb25zdCBDQUNIRV9TVFJBVEVHWV9OT0NBQ0hFID0gZmFsc2U7XG5cbmxldCBjdXJyZW50VXJsID0gXCJcIjtcbmNvbnN0IGF1ZGlvRWxlbWVudHMgPSB7fTtcbmNvbnN0IGF1ZGlvUmVzb3VyY2VzID0ge307XG5jb25zdCB0cmFja1ByZWZpeCA9IFwiO3RyYWNrPVwiO1xuY29uc3QgZGVmYXVsdFZpZGVvR2FpbiA9IDE7XG5sZXQgYXVkaW9DYWNoZVN0cmF0ZWd5ID0gQ0FDSEVfU1RSQVRFR1lfTk9DQUNIRTtcblxuLyplc2xpbnQgZnVuYy1zdHlsZTogW1wiZXJyb3JcIiwgXCJkZWNsYXJhdGlvblwiXSovXG4vKmVzbGludCBuby11c2UtYmVmb3JlLWRlZmluZTogW1wiZXJyb3JcIiwgeyBcImZ1bmN0aW9uc1wiOiBmYWxzZSB9XSovXG4vKmVzbGludCBtYXgtc3RhdGVtZW50czogW1wiZXJyb3JcIiwgMjVdKi9cblxuZnVuY3Rpb24gaXNOYW1lKGZ1bGx5UXVhbGlmaWVkTmFtZSwgbm9kZSkge1xuICByZXR1cm4gbm9kZS5mdWxseVF1YWxpZmllZE5hbWUgPT09IGZ1bGx5UXVhbGlmaWVkTmFtZTtcbn1cblxuZnVuY3Rpb24gZ2V0TmFtZWRDaGlsZHJlbihmdWxseVF1YWxpZmllZE5hbWUsIG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuY2hpbGRyZW4uZmlsdGVyKGlzTmFtZS5iaW5kKG51bGwsIGZ1bGx5UXVhbGlmaWVkTmFtZSkpO1xufVxuXG4vL0ZvciBhbiBhdWRpbyB3aXRoIGEgPHNvdXJjZT4gZWxlbWVudCwgbWFrZSBhIG1lZGlhU3JjIHVybCBmcm9tIHRoZSBiYXNlNjQuXG5mdW5jdGlvbiBwYXJzZUVtYmVkZGVkU291cmNlKG5vZGUpIHtcbiAgY29uc3Qgc291cmNlID0gZ2V0TmFtZWRDaGlsZHJlbihgJHtVdGlscy5OU19UVE1MX1VSSX0lJXNvdXJjZWAsIG5vZGUpWzBdO1xuICBjb25zdCBkYXRhID0gZ2V0TmFtZWRDaGlsZHJlbihgJHtVdGlscy5OU19UVE1MX1VSSX0lJWRhdGFgLCBzb3VyY2UpWzBdO1xuICBjb25zdCBkYXRhVHlwZSA9IGRhdGEuYXR0cmlidXRlcy50eXBlO1xuICBjb25zdCBjaHVua3MgPSBnZXROYW1lZENoaWxkcmVuKGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlY2h1bmtgLCBkYXRhKTtcbiAgY29uc3QgY2h1bmsgPSBjaHVua3NbMF07IC8vVE9ETzogbWVyZ2UgbXVsdGlwbGUgY2h1bmtzXG4gIGlmIChjaHVuay5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgY2h1bmsudmFsdWUgPSBjaHVuay5jaGlsZHJlblswXS52YWx1ZTtcbiAgfVxuICBjb25zdCB3c1JlZ2V4ID0gL1xccy9naTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIGNvbnN0IGRhdGFDaHVuayA9IGJhc2U2NGpzLnRvQnl0ZUFycmF5KGNodW5rLnZhbHVlLnJlcGxhY2Uod3NSZWdleCwgXCJcIikpO1xuICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2RhdGFDaHVua10sIHt0eXBlOiBkYXRhVHlwZX0pO1xuXG4gIHJldHVybiBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xufVxuXG5mdW5jdGlvbiBncmFiQXVkaW9SZXNvdXJjZXMoaGVhZE5vZGUpIHtcbiAgY29uc3QgcmV0ID0ge307XG4gIGNvbnN0IHJlc291cmNlcyA9IGdldE5hbWVkQ2hpbGRyZW4oYCR7VXRpbHMuTlNfVFRNTF9VUkl9JSVyZXNvdXJjZXNgLCBoZWFkTm9kZSlbMF07XG4gIGlmIChyZXNvdXJjZXMpIHtcbiAgICBjb25zdCBhdWRpb3MgPSBnZXROYW1lZENoaWxkcmVuKGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlYXVkaW9gLCByZXNvdXJjZXMpO1xuICAgIGZvciAoY29uc3QgYSBvZiBhdWRpb3MpIHtcbiAgICAgIGNvbnN0IGlkID0gVXRpbHMuZ2V0QXR0cmlidXRlQnlGdWxseVF1YWxpZmllZE5hbWUoYSwgYCR7VXRpbHMuTlNfWE1MX1VSSX0lJWlkYCk7XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgYXVkaW9SZXNvdXJjZXNbaWRdID0gcGFyc2VFbWJlZGRlZFNvdXJjZShhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBnZXRBdWRpb0VsZW1lbnQoYXVkaW9TcmMsIGF1ZGlvQ29udGV4dCkge1xuICBpZiAoYXVkaW9DYWNoZVN0cmF0ZWd5ID09PSBDQUNIRV9TVFJBVEVHWV9SRVVTRSAmJiBhdWRpb1NyYyBpbiBhdWRpb0VsZW1lbnRzKSB7XG4gICAgLy8gWWF5IHJldXNlIHRoaXMgb25lXG4gICAgcmV0dXJuIGF1ZGlvRWxlbWVudHNbYXVkaW9TcmNdO1xuICB9XG5cbiAgLy8gTmVlZCB0byBtYWtlIG9uZVxuICBjb25zdCBtZWRpYSA9IG5ldyBBdWRpbygpO1xuICBtZWRpYS5vbkVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgIExvZ2dlci5lcnJvcihgRXJyb3IgJHsgbWVkaWEuZXJyb3IuY29kZSB9OyBkZXRhaWxzOiAkeyBtZWRpYS5lcnJvci5tZXNzYWdlIH1gKTtcbiAgfTtcbiAgbWVkaWEuc3JjID0gYXVkaW9TcmM7XG4gIG1lZGlhLnByZWxvYWQgPSBcIm1ldGFkYXRhXCI7XG4gIGNvbnN0IG5vZGUgPSBhdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKG1lZGlhKTtcbiAgY29uc3QgcGFpciA9IHttZWRpYSwgbWVkaWFOb2RlOiBub2RlfTtcbiAgaWYgKGF1ZGlvQ2FjaGVTdHJhdGVneSA9PT0gQ0FDSEVfU1RSQVRFR1lfUkVVU0UpIHtcbiAgICBhdWRpb0VsZW1lbnRzW2F1ZGlvU3JjXSA9IHBhaXI7XG4gIH1cblxuICByZXR1cm4gcGFpcjtcbn1cblxuZnVuY3Rpb24gcHJvcGFnYXRlTmFtZXNwYWNlcyh4bWxOb2RlKSB7XG4gIGlmICh4bWxOb2RlLnBhcmVudCA9PT0gbnVsbCkge1xuICAgIHhtbE5vZGUubmFtZXNwYWNlcyA9IFV0aWxzLmdsZWFuTmFtZXNwYWNlcyh4bWxOb2RlKTtcbiAgICB4bWxOb2RlLmZ1bGx5UXVhbGlmaWVkTmFtZSA9IFV0aWxzLmdldEZ1bGx5UXVhbGlmaWVkTmFtZSh4bWxOb2RlKTtcbiAgfVxuICBpZiAoeG1sTm9kZS5jaGlsZHJlbikge1xuICAgIGZvciAoY29uc3QgYyBvZiB4bWxOb2RlLmNoaWxkcmVuKSB7XG4gICAgICBpZiAoYy5wYXJlbnQgPT09IG51bGwgfHwgYy5wYXJlbnQubmFtZXNwYWNlcyA9PT0ge30pIHtcbiAgICAgICAgYy5uYW1lc3BhY2VzID0gVXRpbHMuZ2xlYW5OYW1lc3BhY2VzKGMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYy5uYW1lc3BhY2VzID0gT2JqZWN0LmFzc2lnbihjLnBhcmVudC5uYW1lc3BhY2VzLCBVdGlscy5nbGVhbk5hbWVzcGFjZXMoYykpO1xuICAgICAgfVxuICAgICAgYy5mdWxseVF1YWxpZmllZE5hbWUgPSBVdGlscy5nZXRGdWxseVF1YWxpZmllZE5hbWUoYyk7XG4gICAgICBwcm9wYWdhdGVOYW1lc3BhY2VzKGMpO1xuICAgIH1cbiAgfVxufVxuXG4vL1RoZSB4bWwgcGFyc2VyIG1ha2VzIGFub255bW91cyBzcGFucyB1bmRlciByZWFsIHNwYW5zLCBsZXQncyBmbGF0dGVuIHRoZSB0d28gdG9nZXRoZXIuXG5mdW5jdGlvbiBmbGF0dGVuU3BhbnMoeG1sTm9kZSkge1xuICBpZiAoeG1sTm9kZS5jaGlsZHJlbikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeG1sTm9kZS5jaGlsZHJlbi5sZW5ndGg7KSB7XG4gICAgICBjb25zdCBjID0geG1sTm9kZS5jaGlsZHJlbltpXTtcbiAgICAgIGlmICgoeG1sTm9kZS5mdWxseVF1YWxpZmllZE5hbWUgPT09IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlc3BhbmAgfHwgeG1sTm9kZS5mdWxseVF1YWxpZmllZE5hbWUgPT09IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlY2h1bmtgKVxuICAgICAgICAgICYmIGMuZnVsbHlRdWFsaWZpZWROYW1lID09PSBcIlwiKSB7XG4gICAgICAgIHhtbE5vZGUudmFsdWUgPSBjLnZhbHVlOyAvL1Rha2UgdGhlIHRleHQgaW5zaWRlIGl0XG4gICAgICAgIHhtbE5vZGUuY2hpbGRyZW4uc3BsaWNlKGksIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmxhdHRlblNwYW5zKGMpO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vcmVtb3ZlIGFueSBub2RlcyB0aGF0IGRvbid0IGZhbGwgdW5kZXIgdGhlIGlzQXVkaW9UeXBlIGRlZmluaXRpb25cbi8vY2xlYXIgb3V0IHRoZSB1bnJlbGF0ZWQgdHRtbCBzdHVmZlxuZnVuY3Rpb24gcmVtb3ZlT3RoZXIoeG1sTm9kZSkge1xuICBpZiAoeG1sTm9kZS5jaGlsZHJlbikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeG1sTm9kZS5jaGlsZHJlbi5sZW5ndGg7KSB7XG4gICAgICBjb25zdCBjID0geG1sTm9kZS5jaGlsZHJlbltpXTtcbiAgICAgIGlmICghVXRpbHMuaXNBdWRpb1R5cGUoYy5mdWxseVF1YWxpZmllZE5hbWUpKSB7XG4gICAgICAgIHhtbE5vZGUuY2hpbGRyZW4uc3BsaWNlKGksIDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3ZlT3RoZXIoYyk7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2libGluZ3NIYXZlQXVkaW8oeG1sTm9kZSkge1xuICBjb25zdCBzaWJsaW5ncyA9IHhtbE5vZGUucGFyZW50LmNoaWxkcmVuO1xuICBmb3IgKGNvbnN0IHMgb2Ygc2libGluZ3MpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZXFlcWVxXG4gICAgaWYgKHMgIT0geG1sTm9kZSAmJiBzLmZ1bGx5UXVhbGlmaWVkTmFtZSA9PT0gYCR7VXRpbHMuTlNfVFRNTF9VUkl9JSVhdWRpb2ApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIG1hcmtBdWRpbyh4bWxOb2RlKSB7XG4gIGlmICh4bWxOb2RlLnBhcmVudCkge1xuICAgIHhtbE5vZGUuaGFzQXVkaW8gPSB4bWxOb2RlLnBhcmVudC5oYXNBdWRpbztcbiAgfVxuICBpZiAoVXRpbHMuaXNBdWRpb0VsZW1lbnQoeG1sTm9kZSlcbiAgICAgIHx8ICgoeG1sTm9kZS5mdWxseVF1YWxpZmllZE5hbWUgPT09IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlcGBcbiAgICAgIHx8IHhtbE5vZGUuZnVsbHlRdWFsaWZpZWROYW1lID09PSBgJHtVdGlscy5OU19UVE1MX1VSSX0lJWRpdmBcbiAgICAgIHx8IHhtbE5vZGUuZnVsbHlRdWFsaWZpZWROYW1lID09PSBcIlwiXG4gICAgICB8fCB4bWxOb2RlLmZ1bGx5UXVhbGlmaWVkTmFtZSA9PT0gYCR7VXRpbHMuTlNfVFRNTF9VUkl9JSVzcGFuYClcbiAgICAmJiBzaWJsaW5nc0hhdmVBdWRpbyh4bWxOb2RlKSkpIHtcbiAgICB4bWxOb2RlLmhhc0F1ZGlvID0gdHJ1ZTtcbiAgfVxuICBpZiAoeG1sTm9kZS5jaGlsZHJlbikge1xuICAgIGZvciAoY29uc3QgYyBvZiB4bWxOb2RlLmNoaWxkcmVuKSB7XG4gICAgICBtYXJrQXVkaW8oYyk7XG4gICAgfVxuXG4gICAgeG1sTm9kZS5oYXNBdWRpbyA9IHhtbE5vZGUuaGFzQXVkaW8gfHwgeG1sTm9kZS5jaGlsZHJlbi5zb21lKChjKSA9PiBjLmhhc0F1ZGlvKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXJrU3BlZWNoKHhtbE5vZGUsIHBhcmVudFNwZWVjaCkge1xuICBsZXQgc3BlZWNoU3BlY2lmaWVkID0gZmFsc2U7XG4gIGlmICh4bWxOb2RlLmF0dHJpYnV0ZXMpIHtcbiAgICBjb25zdCBzcGVha0F0dHJpYnV0ZSA9IFV0aWxzLmdldEF0dHJpYnV0ZUJ5RnVsbHlRdWFsaWZpZWROYW1lKHhtbE5vZGUsIGAke1V0aWxzLk5TX1RUTUxfQVVESU9fVVJJfSUlc3BlYWtgKTtcbiAgICBpZiAoc3BlYWtBdHRyaWJ1dGUpIHtcbiAgICAgIHNwZWVjaFNwZWNpZmllZCA9IHRydWU7XG4gICAgICB4bWxOb2RlLmhhc1NwZWVjaCA9ICEoc3BlYWtBdHRyaWJ1dGUgPT09IFwibm9uZVwiKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFzcGVlY2hTcGVjaWZpZWQpIHsvLyBpdCdzIGluaGVyaXRlZCBkb3dud2FyZHMsIGlmIEkgZG9uJ3Qgc3BlY2lmeSwgSSBnZXQgd2hhdCBteSBwYXJlbnQgc3BlY2lmaWVzLlxuICAgIHhtbE5vZGUuaGFzU3BlZWNoID0gcGFyZW50U3BlZWNoO1xuICB9XG5cbiAgaWYgKHhtbE5vZGUuY2hpbGRyZW4pIHtcbiAgICBjb25zdCBoYXNTcGVlY2ggPSB4bWxOb2RlLmhhc1NwZWVjaDtcbiAgICBmb3IgKGNvbnN0IGMgb2YgeG1sTm9kZS5jaGlsZHJlbikge1xuICAgICAgY29uc3QgdGhpc0NoaWxkSGFzU3BlZWNoID0gbWFya1NwZWVjaChjLCBoYXNTcGVlY2gpO1xuICAgICAgeG1sTm9kZS5oYXNTcGVlY2ggPSB0aGlzQ2hpbGRIYXNTcGVlY2ggfHwgeG1sTm9kZS5oYXNTcGVlY2g7Ly9JZiBhbnkgY2hpbGRyZW4gaGF2ZSBzcGVlY2gsIEkgaGF2ZSBzcGVlY2ggKGJ1dCB0aGF0IGRvZXNuJ3QgbWVhbiBhbGwgbXkgY2hpbGRyZW4gZG8pLlxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB4bWxOb2RlLmhhc1NwZWVjaDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm90QXVkaW8oeG1sTm9kZSkgeyAvL1JlbW92ZSBhbnl0aGluIHdpdGhvdXQgLmhhc0F1ZGlvIG9yIC5oYXNTcGVlY2guXG4gIGlmICh4bWxOb2RlLmNoaWxkcmVuKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4bWxOb2RlLmNoaWxkcmVuLmxlbmd0aDspIHtcbiAgICAgIGNvbnN0IGMgPSB4bWxOb2RlLmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGMuaGFzQXVkaW8gfHwgYy5oYXNTcGVlY2gpIHtcbiAgICAgICAgcmVtb3ZlTm90QXVkaW8oYyk7XG4gICAgICAgIGkrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHhtbE5vZGUuY2hpbGRyZW4uc3BsaWNlKGksIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwYXJlWE1MKHhtbE5vZGUpIHtcbiAgcHJvcGFnYXRlTmFtZXNwYWNlcyh4bWxOb2RlKTtcbiAgZmxhdHRlblNwYW5zKHhtbE5vZGUpO1xuICByZW1vdmVPdGhlcih4bWxOb2RlKTtcblxuICAvL01hcmsgbm9kZXMgZm9yIGhhc1NwZWVjaCBhbmQgaGFzQXVkaW9cbiAgLy9CYXNpY2FsbHkgYW0gSSB1c2VkIGluIHRoZSBwYXRod2F5OyBpZiBJIG9yIG15IGRlc2NlbmRhbnRzIG9yIG15IGFzY2VuZGFudHNcbiAgLy9oYXZlIHNwZWVjaCBvciBhdWRpbyBhdHRyaWJ1dGVzLCBJJ20gbWFya2VkIHRvby5cbiAgbWFya0F1ZGlvKHhtbE5vZGUpO1xuICBtYXJrU3BlZWNoKHhtbE5vZGUpO1xuICByZW1vdmVOb3RBdWRpbyh4bWxOb2RlKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VBbmltYXRlTm9kZShwYXJlbnQsIG5vZGUsIGF1ZGlvQ29udGV4dCkge1xuICBjb25zdCByZXQgPSBuZXcgQW5pbWF0ZU5vZGUocGFyZW50LCBub2RlLCBhdWRpb0NvbnRleHQpO1xuXG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGlzTGVhZk5vZGUobm9kZSkge1xuICByZXR1cm4gbm9kZS5mdWxseVF1YWxpZmllZE5hbWUgPT09IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlc3BhbmAgfHwgbm9kZS5mdWxseVF1YWxpZmllZE5hbWUgPT09IFwiXCI7Ly9zcGFuIG9yIGFub255bW91cyBzcGFuL1xufVxuXG5mdW5jdGlvbiBwYXJzZVNwZWVjaE5vZGUocGFyZW50LCBub2RlLCBhdWRpb0NvbnRleHQpIHtcbiAgY29uc3QgcmV0ID0gbmV3IFNwZWVjaFNvdXJjZU5vZGUocGFyZW50LCBub2RlLCBhdWRpb0NvbnRleHQpO1xuXG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQXVkaW9Tb3VyY2VOb2RlKHBhcmVudCwgbm9kZSkge1xuICBjb25zdCBzcmMgPSBub2RlLmF0dHJpYnV0ZXMuc3JjO1xuICBpZiAoc3JjICYmIHNyYy5pbmRleE9mKHRyYWNrUHJlZml4KSA+PSAwKSB7IC8vSWdub3JlIGJvZHkgbGV2ZWwgdHJhY2sgc3BlY2lmaWVycy5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGV0IGF1ZGlvU3JjO1xuICBpZiAoc3JjKSB7XG4gICAgaWYgKHNyYy5pbmRleE9mKFwiI1wiKSA9PT0gMCkge1xuICAgICAgYXVkaW9TcmMgPSBhdWRpb1Jlc291cmNlc1tzcmMuc3Vic3RyaW5nKDEpXTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXVkaW9TcmMgPSBjdXJyZW50VXJsICsgc3JjO1xuICAgIH1cbiAgfSBlbHNlIGlmICghc3JjICYmIG5vZGUuY2hpbGRyZW4pIHtcbiAgICBhdWRpb1NyYyA9IHBhcnNlRW1iZWRkZWRTb3VyY2Uobm9kZSk7XG4gIH0gZWxzZSB7XG4gICAgTG9nZ2VyLmVycm9yKFwiRm91bmQgYW4gYXVkaW8gbm9kZSBidXQgY291bGRuJ3Qgd29yayBvdXQgd2hhdCBpdHMgc291cmNlIGlzIHN1cHBvc2VkIHRvIGJlLlwiKTtcbiAgfVxuXG4gIGxldCByZXQ7XG4gIGlmIChhdWRpb1NyYykge1xuICAgIGNvbnN0IG1lZGlhUGFpciA9IGdldEF1ZGlvRWxlbWVudChhdWRpb1NyYywgcGFyZW50LmF1ZGlvQ29udGV4dCk7XG4gICAgcmV0ID0gbmV3IEFkU291cmNlTm9kZShwYXJlbnQsIG5vZGUsIHVuZGVmaW5lZCwgbWVkaWFQYWlyKTtcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTm9kZShwYXJlbnQsIG5vZGUpIHtcbiAgbGV0IHJldCA9IG51bGw7XG4gIGlmIChub2RlLmZ1bGx5UXVhbGlmaWVkTmFtZSA9PT0gYCR7VXRpbHMuTlNfVFRNTF9VUkl9JSVhdWRpb2ApIHtcbiAgICByZXQgPSBwYXJzZUF1ZGlvU291cmNlTm9kZShwYXJlbnQsIG5vZGUpO1xuICB9IGVsc2UgaWYgKG5vZGUuZnVsbHlRdWFsaWZpZWROYW1lID09PSBgJHtVdGlscy5OU19UVE1MX1VSSX0lJWFuaW1hdGVgKSB7XG4gICAgcmV0ID0gcGFyc2VBbmltYXRlTm9kZShwYXJlbnQsIG5vZGUpO1xuICB9IGVsc2UgaWYgKGlzTGVhZk5vZGUobm9kZSkpIHtcbiAgICByZXQgPSBwYXJzZUxlYWZOb2RlKHBhcmVudCwgbm9kZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0ID0gcGFyc2VJbnRlcm1lZGlhdGVOb2RlKHBhcmVudCwgbm9kZSk7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBwYXJzZUxlYWZOb2RlKHBhcmVudCwgbm9kZSwgYXVkaW9Db250ZXh0KSB7XG4gIGNvbnN0IHJldCA9IG5ldyBBZExlYWZOb2RlKHBhcmVudCwgbm9kZSwgYXVkaW9Db250ZXh0KTtcbiAgcmV0LmNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbi5tYXAocGFyc2VOb2RlLmJpbmQobnVsbCwgcmV0KSk7XG5cbiAgLy9SZW1vdmUgbnVsbHMuIFRoZXNlIGFyZSBub2RlcyB0byBub3doZXJlLiBXZSBzaG91bGQgYWxzbyByZW1vdmUgYW5vbnltb3VzIHNwYW5zIGlmIHdlJ3JlIGEgbGVhZi5cbiAgcmV0LmNoaWxkcmVuID0gcmV0LmNoaWxkcmVuLmZpbHRlcihcbiAgICAobikgPT4gISFuICYmIChuLl94bWxOb2RlLmZ1bGx5UXVhbGlmaWVkTmFtZSA9PT0gYCR7VXRpbHMuTlNfVFRNTF9VUkl9JSVhdWRpb2AgfHxcbiAgICAgICAgICAgICAgICAgICBuLl94bWxOb2RlLmZ1bGx5UXVhbGlmaWVkTmFtZSA9PT0gYCR7VXRpbHMuTlNfVFRNTF9VUkl9JSVhbmltYXRlYCkpO1xuXG4gIGlmIChub2RlLmhhc1NwZWVjaCkge1xuICAgIHJldC5jaGlsZHJlbi5wdXNoKHBhcnNlU3BlZWNoTm9kZShyZXQsIG5vZGUsIGF1ZGlvQ29udGV4dCkpO1xuICB9XG5cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gcGFyc2VJbnRlcm1lZGlhdGVOb2RlKHBhcmVudCwgbm9kZSwgYXVkaW9Db250ZXh0KSB7XG4gIGNvbnN0IHJldCA9IG5ldyBBdWRpb051YihwYXJlbnQsIG5vZGUsIGF1ZGlvQ29udGV4dCk7XG4gIHJldC5jaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4ubWFwKHBhcnNlTm9kZS5iaW5kKG51bGwsIHJldCkpO1xuICByZXQuY2hpbGRyZW4gPSByZXQuY2hpbGRyZW4uZmlsdGVyKChuKSA9PiAhIW4pOyAvL1JlbW92ZSBudWxscy4gVGhlc2UgYXJlIG5vZGVzIHRvIG5vd2hlcmVcblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBwYXJzZUJvZHkocGFyZW50LCBub2RlLCBhdWRpb0NvbnRleHQpIHtcbiAgY29uc3QgYm9keSA9IHBhcnNlTm9kZShwYXJlbnQsIG5vZGUsIGF1ZGlvQ29udGV4dCk7XG4gIGJvZHkucG9zdENvbXB1dGVFbmQoKTtcblxuICByZXR1cm4gYm9keTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VUcmVlKGF1ZGlvQ29udGV4dCwgbWVkaWEsIHVybCwgeG1sVHJlZSwgc3RhcnRSb290KSB7XG4gIGxldCByb290O1xuICBpZiAoc3RhcnRSb290KSB7IC8vV2UgY2FuJ3QgbWFrZSBhIG5ldyBBZFNvdXJjZU5vZGUgb24gdGhlIG1lZGlhIHdpdGhvdXRcbiAgICByb290ID0gc3RhcnRSb290O1xuICB9IGVsc2Uge1xuICAgIC8vTWFrZSBhbiBtYWdpYyBzb3VyY2Ugbm9kZSBmb3IgdGhlIG1lZGlhIC0gdGhlcmUncyBubyB4bWwgZm9yIHRoaXMgc28gZmFrZSBpdC5cbiAgICBjb25zdCBtZWRpYVBhaXIgPSB7bWVkaWEsIG1lZGlhTm9kZTogYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZShtZWRpYSl9O1xuICAgIHJvb3QgPSBuZXcgQWRVc2VyQ29udHJvbGxlZFNvdXJjZU5vZGUoXG4gICAgICBudWxsLFxuICAgICAge1xuICAgICAgICBuYW1lOiBcInJvb3QobWVkaWFBdWRpbylcIixcbiAgICAgICAgYXR0cmlidXRlczoge1widHRhOmdhaW5cIjogZGVmYXVsdFZpZGVvR2FpbiwgXCJ0dGE6cGFuXCI6IDB9LFxuICAgICAgICBuYW1lc3BhY2VzOiB7XG4gICAgICAgICAgXCJkZWZhdWx0XCI6IFV0aWxzLk5TX1RUTUxfVVJJLFxuICAgICAgICAgIFwieG1sXCI6IFV0aWxzLk5TX1hNTF9VUkksXG4gICAgICAgICAgXCJ0dGFcIjogYCR7VXRpbHMuTlNfVFRNTF9BVURJT19VUkl9YFxuICAgICAgICB9LFxuICAgICAgICBmdWxseVF1YWxpZmllZE5hbWU6IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUldHRgXG4gICAgICB9LFxuICAgICAgYXVkaW9Db250ZXh0LFxuICAgICAgbWVkaWFQYWlyKTtcbiAgfVxuICBjb25zdCBkZWZhdWx0T3V0cHV0ID0gbmV3IEFkTGVhZk5vZGUoXG4gICAgcm9vdCxcbiAgICB7XG4gICAgICBuYW1lOiBcImRlZmF1bHQgYXVkaW8gb3V0XCIsXG4gICAgICBhdHRyaWJ1dGVzOiB7fSxcbiAgICAgIG5hbWVzcGFjZXM6IHtcbiAgICAgICAgXCJ4bWxcIjogVXRpbHMuTlNfWE1MX1VSSVxuICAgICAgfSxcbiAgICAgIGZ1bGx5UXVhbGlmaWVkTmFtZTogXCJcIlxuICAgIH0sXG4gICAgYXVkaW9Db250ZXh0KTtcbiAgZGVmYXVsdE91dHB1dC5tYWtlRGVmYXVsdE91dHB1dCgpO1xuICByb290LmNoaWxkcmVuID0gW2RlZmF1bHRPdXRwdXRdO1xuXG4gIGlmICh0eXBlb2YgdXJsID09PSBcInN0cmluZ1wiKSB7XG4gICAgY3VycmVudFVybCA9IGAke3VybC5zbGljZSgwLCB1cmwubGFzdEluZGV4T2YoXCIvXCIpKSB9L2A7XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudFVybCA9IFwiXCI7XG4gIH1cblxuICBwcmVwYXJlWE1MKHhtbFRyZWUpO1xuXG4gIGNvbnN0IGhlYWQgPSBnZXROYW1lZENoaWxkcmVuKGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlaGVhZGAsIHhtbFRyZWUpWzBdO1xuICBpZiAoaGVhZCkge1xuICAgIGdyYWJBdWRpb1Jlc291cmNlcyhoZWFkKTtcbiAgfVxuXG4gIGlmIChpc05hbWUoYCR7VXRpbHMuTlNfVFRNTF9VUkl9JSV0dGAsIHhtbFRyZWUpKSB7XG4gICAgY29uc3QgYm9keSA9IGdldE5hbWVkQ2hpbGRyZW4oYCR7VXRpbHMuTlNfVFRNTF9VUkl9JSVib2R5YCwgeG1sVHJlZSlbMF07XG4gICAgaWYgKGJvZHkpIHtcbiAgICAgIHJvb3QuY2hpbGRyZW4ucHVzaChwYXJzZUJvZHkocm9vdCwgYm9keSwgbnVsbCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIuZXJyb3IoXCJDb3VsZG4ndCBmaW5kIGJvZHkgZWxlbWVudCBpbiB0aGUgdHRtbCBkb2N1bWVudFwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJvb3Q7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRBdWRpb0NhY2hlU3RyYXRlZ3koY2FjaGVTdHJhdGVneSkge1xuICBhdWRpb0NhY2hlU3RyYXRlZ3kgPSBjYWNoZVN0cmF0ZWd5O1xuICBMb2dnZXIubG9nKGBBdWRpbyBjYWNoZSBzdHJhdGVneSBzZXQgdG8gJHsoY2FjaGVTdHJhdGVneSA9PT0gQ0FDSEVfU1RSQVRFR1lfUkVVU0UpID8gXCJSRVVTRVwiIDogXCJOTyBDQUNIRVwifWApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXVkaW9DYWNoZVN0cmF0ZWd5KCkge1xuICByZXR1cm4gYXVkaW9DYWNoZVN0cmF0ZWd5O1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7OztBQXVVQTtBQTREQTtBQUtBO0FBQ0E7QUEzWEE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBVEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFNQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQVJBO0FBWUE7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBTkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Parser.es6\n");

/***/ }),

/***/ "./src/PlaybackProperties.es6":
/*!************************************!*\
  !*** ./src/PlaybackProperties.es6 ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PlaybackPropertiesSingleton = /*#__PURE__*/function () {\n  function PlaybackPropertiesSingleton() {\n    var _this = this;\n\n    _classCallCheck(this, PlaybackPropertiesSingleton);\n\n    //console.log(\"Created instance\");\n    this.advolCallbacks = [];\n    this.advol = document.querySelector(\"#advol\");\n\n    this.advol.onchange = function () {\n      _this.advolCallbacks.forEach(function (callback) {\n        callback(_this.getCurrentGain());\n      });\n    };\n  } //Fetch UI gain value\n\n\n  _createClass(PlaybackPropertiesSingleton, [{\n    key: \"getCurrentGain\",\n    value: function getCurrentGain() {\n      //console.info(\"Call to get current gain\");\n      return parseFloat(this.advol.value);\n    } //Register function and return its index\n\n  }, {\n    key: \"registerCallback\",\n    value: function registerCallback(fn) {\n      return this.advolCallbacks.push(fn) - 1;\n    } //Deregister callback by index\n\n  }, {\n    key: \"deregisterCallback\",\n    value: function deregisterCallback(index) {\n      delete this.advolCallbacks[index];\n    }\n  }]);\n\n  return PlaybackPropertiesSingleton;\n}();\n\nvar PlaybackProperties = new PlaybackPropertiesSingleton();\nexports[\"default\"] = PlaybackProperties;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvUGxheWJhY2tQcm9wZXJ0aWVzLmVzNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkaGVyZS1saWIvLi9zcmMvUGxheWJhY2tQcm9wZXJ0aWVzLmVzNj81Mzg0Il0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFBsYXliYWNrUHJvcGVydGllc1NpbmdsZXRvbiB7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cblx0XHQvL2NvbnNvbGUubG9nKFwiQ3JlYXRlZCBpbnN0YW5jZVwiKTtcblxuXHRcdHRoaXMuYWR2b2xDYWxsYmFja3MgPSBbXTtcblxuXHRcdHRoaXMuYWR2b2wgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Fkdm9sXCIpO1xuXG5cdFx0dGhpcy5hZHZvbC5vbmNoYW5nZSA9ICgpID0+IHtcblx0XHRcdHRoaXMuYWR2b2xDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiB7XG5cdFx0XHRcdGNhbGxiYWNrKHRoaXMuZ2V0Q3VycmVudEdhaW4oKSk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHR9XG5cblx0Ly9GZXRjaCBVSSBnYWluIHZhbHVlXG5cdGdldEN1cnJlbnRHYWluKCkge1xuXHRcdC8vY29uc29sZS5pbmZvKFwiQ2FsbCB0byBnZXQgY3VycmVudCBnYWluXCIpO1xuXHRcdHJldHVybiBwYXJzZUZsb2F0KHRoaXMuYWR2b2wudmFsdWUpO1xuXHR9XG5cblx0Ly9SZWdpc3RlciBmdW5jdGlvbiBhbmQgcmV0dXJuIGl0cyBpbmRleFxuXHRyZWdpc3RlckNhbGxiYWNrKGZuKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWR2b2xDYWxsYmFja3MucHVzaChmbikgLSAxO1xuXHR9XG5cblx0Ly9EZXJlZ2lzdGVyIGNhbGxiYWNrIGJ5IGluZGV4XG5cdGRlcmVnaXN0ZXJDYWxsYmFjayhpbmRleCkge1xuXHRcdGRlbGV0ZSB0aGlzLmFkdm9sQ2FsbGJhY2tzW2luZGV4XTtcblx0fVxufVxuXG5jb25zdCBQbGF5YmFja1Byb3BlcnRpZXMgPSBuZXcgUGxheWJhY2tQcm9wZXJ0aWVzU2luZ2xldG9uKCk7XG5leHBvcnQgZGVmYXVsdCBQbGF5YmFja1Byb3BlcnRpZXM7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7Ozs7O0FBR0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/PlaybackProperties.es6\n");

/***/ }),

/***/ "./src/SpeechSourceNode.es6":
/*!**********************************!*\
  !*** ./src/SpeechSourceNode.es6 ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undefined;\n\nvar _AdNode2 = __webpack_require__(/*! ./AdNode.es6 */ \"./src/AdNode.es6\");\n\nvar _AdNode3 = _interopRequireDefault(_AdNode2);\n\nvar _Logger = __webpack_require__(/*! ./Logger.es6 */ \"./src/Logger.es6\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n/*eslint func-style: [\"error\", \"declaration\"]*/\nfunction speakToRate(str) {\n  var ret;\n\n  switch (str) {\n    case \"fast\":\n      ret = 1.5;\n      break;\n\n    case \"slow\":\n      ret = 0.66;\n      break;\n\n    case \"normal\":\n    default:\n      ret = 1;\n      break;\n  }\n\n  return ret;\n} //Convert to a value between 0 and 2, 1 being a standard pitch\n//What this output number means isn't clear, and probably up to the browser\n\n\nfunction pitchToValue(str) {\n  var ret = 1;\n\n  if (str) {\n    var pcIdx = str.indexOf(\"%\");\n\n    if (pcIdx >= 0) {\n      var pcstr = str.substring(0, pcIdx);\n      ret = parseFloat(pcstr) / 100 + 1;\n    }\n  }\n\n  return ret;\n}\n\nvar SpeechSourceNode = /*#__PURE__*/function (_AdNode) {\n  _inherits(SpeechSourceNode, _AdNode);\n\n  var _super = _createSuper(SpeechSourceNode);\n\n  function SpeechSourceNode(parent, xmlNode, audioContext) {\n    var _this;\n\n    _classCallCheck(this, SpeechSourceNode);\n\n    _this = _super.call(this, parent, xmlNode, audioContext);\n    _this.utter = new SpeechSynthesisUtterance();\n    _this.utter.text = _this.value;\n    _this.utter.lang = \"en-US\";\n    _this.utter.rate = speakToRate(_this.speak);\n    _this.utter.pitch = pitchToValue(_this.pitch);\n    return _this;\n  }\n\n  _createClass(SpeechSourceNode, [{\n    key: \"onActive\",\n    value: function onActive() {\n      _get(_getPrototypeOf(SpeechSourceNode.prototype), \"onActive\", this).call(this);\n\n      _Logger2[\"default\"].log(\"\".concat(this.name, \" active speak: \").concat(this.utter.text));\n\n      speechSynthesis.speak(this.utter);\n    }\n  }, {\n    key: \"onInactive\",\n    value: function onInactive() {\n      _get(_getPrototypeOf(SpeechSourceNode.prototype), \"onInactive\", this).call(this);\n\n      _Logger2[\"default\"].log(\"\".concat(this.name, \" inactive speak: \").concat(this.utter.text));\n\n      speechSynthesis.cancel(this.utter);\n    }\n  }, {\n    key: \"onPause\",\n    value: function onPause() {\n      speechSynthesis.pause();\n    }\n  }, {\n    key: \"onResume\",\n    value: function onResume() {\n      speechSynthesis.resume();\n    }\n  }]);\n\n  return SpeechSourceNode;\n}(_AdNode3[\"default\"]);\n\nexports[\"default\"] = SpeechSourceNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvU3BlZWNoU291cmNlTm9kZS5lczYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZGhlcmUtbGliLy4vc3JjL1NwZWVjaFNvdXJjZU5vZGUuZXM2P2E3MTciXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTkgQnJpdGlzaCBCcm9hZGNhc3RpbmcgQ29ycG9yYXRpb25cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCBBZE5vZGUgZnJvbSBcIi4vQWROb2RlLmVzNlwiO1xuaW1wb3J0IExvZ2dlciBmcm9tIFwiLi9Mb2dnZXIuZXM2XCI7XG5cbi8qZXNsaW50IGZ1bmMtc3R5bGU6IFtcImVycm9yXCIsIFwiZGVjbGFyYXRpb25cIl0qL1xuXG5mdW5jdGlvbiBzcGVha1RvUmF0ZShzdHIpIHtcbiAgbGV0IHJldDtcbiAgc3dpdGNoIChzdHIpIHtcbiAgICBjYXNlIFwiZmFzdFwiOlxuICAgICAgcmV0ID0gMS41O1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInNsb3dcIjpcbiAgICAgIHJldCA9IDAuNjY7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwibm9ybWFsXCI6XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldCA9IDE7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbi8vQ29udmVydCB0byBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMiwgMSBiZWluZyBhIHN0YW5kYXJkIHBpdGNoXG4vL1doYXQgdGhpcyBvdXRwdXQgbnVtYmVyIG1lYW5zIGlzbid0IGNsZWFyLCBhbmQgcHJvYmFibHkgdXAgdG8gdGhlIGJyb3dzZXJcbmZ1bmN0aW9uIHBpdGNoVG9WYWx1ZShzdHIpIHtcbiAgbGV0IHJldCA9IDE7XG4gIGlmIChzdHIpIHtcbiAgICBjb25zdCBwY0lkeCA9IHN0ci5pbmRleE9mKFwiJVwiKTtcbiAgICBpZiAocGNJZHggPj0gMCkge1xuICAgICAgY29uc3QgcGNzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIHBjSWR4KTtcbiAgICAgIHJldCA9IChwYXJzZUZsb2F0KHBjc3RyKSAvIDEwMCkgKyAxO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwZWVjaFNvdXJjZU5vZGUgZXh0ZW5kcyBBZE5vZGUge1xuICBjb25zdHJ1Y3RvcihwYXJlbnQsIHhtbE5vZGUsIGF1ZGlvQ29udGV4dCkge1xuICAgIHN1cGVyKHBhcmVudCwgeG1sTm9kZSwgYXVkaW9Db250ZXh0KTtcblxuICAgIHRoaXMudXR0ZXIgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKCk7XG4gICAgdGhpcy51dHRlci50ZXh0ID0gdGhpcy52YWx1ZTtcbiAgICB0aGlzLnV0dGVyLmxhbmcgPSBcImVuLVVTXCI7XG4gICAgdGhpcy51dHRlci5yYXRlID0gc3BlYWtUb1JhdGUodGhpcy5zcGVhayk7XG4gICAgdGhpcy51dHRlci5waXRjaCA9IHBpdGNoVG9WYWx1ZSh0aGlzLnBpdGNoKTtcbiAgfVxuXG4gIG9uQWN0aXZlKCkge1xuICAgIHN1cGVyLm9uQWN0aXZlKCk7XG4gICAgTG9nZ2VyLmxvZyhgJHt0aGlzLm5hbWUgfSBhY3RpdmUgc3BlYWs6ICR7IHRoaXMudXR0ZXIudGV4dH1gKTtcbiAgICBzcGVlY2hTeW50aGVzaXMuc3BlYWsodGhpcy51dHRlcik7XG4gIH1cblxuICBvbkluYWN0aXZlKCkge1xuICAgIHN1cGVyLm9uSW5hY3RpdmUoKTtcbiAgICBMb2dnZXIubG9nKGAke3RoaXMubmFtZSB9IGluYWN0aXZlIHNwZWFrOiAkeyB0aGlzLnV0dGVyLnRleHR9YCk7XG4gICAgc3BlZWNoU3ludGhlc2lzLmNhbmNlbCh0aGlzLnV0dGVyKTtcbiAgfVxuXG4gIG9uUGF1c2UoKSB7XG4gICAgc3BlZWNoU3ludGhlc2lzLnBhdXNlKCk7XG4gIH1cblxuICBvblJlc3VtZSgpIHtcbiAgICBzcGVlY2hTeW50aGVzaXMucmVzdW1lKCk7XG4gIH1cblxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFjQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFWQTtBQUNBO0FBWUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVFBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7QUE3QkE7QUFDQTtBQURBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/SpeechSourceNode.es6\n");

/***/ }),

/***/ "./src/TextPresenter.es6":
/*!*******************************!*\
  !*** ./src/TextPresenter.es6 ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undefined;\n\nvar _Logger = __webpack_require__(/*! ./Logger.es6 */ \"./src/Logger.es6\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar callbacks = [];\nvar presentedStrings = new Map();\nvar key = 1; // if you start with zero, the first one never leaves\n\n/*eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"log\", \"dir\"] }] */\n\nvar TextPresenter = /*#__PURE__*/function () {\n  function TextPresenter() {\n    _classCallCheck(this, TextPresenter);\n  }\n\n  _createClass(TextPresenter, null, [{\n    key: \"present\",\n    value: function present(str, source) {\n      var thisKey = key;\n      presentedStrings.set(thisKey, str);\n      key++;\n\n      _Logger2[\"default\"].log(\"TP: adding key \".concat(thisKey, \" from \").concat(source, \": \").concat(str));\n\n      this.updatePresentedText();\n      return thisKey;\n    }\n  }, {\n    key: \"unPresent\",\n    value: function unPresent(removeKey) {\n      // remove the text with the key\n      _Logger2[\"default\"].log(\"TP: removing value for key \".concat(removeKey));\n\n      presentedStrings[\"delete\"](removeKey);\n      this.updatePresentedText();\n    }\n  }, {\n    key: \"updatePresentedText\",\n    value: function updatePresentedText() {\n      var generatedString = \"\";\n      presentedStrings.forEach(function (v) {\n        generatedString = v; // change = to += to concatenate, or leave as is to just show the last one\n      });\n      callbacks.forEach(function (cb) {\n        return cb(generatedString);\n      });\n    }\n  }, {\n    key: \"addCallback\",\n    value: function addCallback(cb) {\n      callbacks.push(cb);\n    }\n  }]);\n\n  return TextPresenter;\n}();\n\nexports[\"default\"] = TextPresenter;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVGV4dFByZXNlbnRlci5lczYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZGhlcmUtbGliLy4vc3JjL1RleHRQcmVzZW50ZXIuZXM2P2M4MzkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTkgQnJpdGlzaCBCcm9hZGNhc3RpbmcgQ29ycG9yYXRpb25cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4vTG9nZ2VyLmVzNlwiO1xuXG5jb25zdCBjYWxsYmFja3MgPSBbXTtcbmNvbnN0IHByZXNlbnRlZFN0cmluZ3MgPSBuZXcgTWFwKCk7XG5sZXQga2V5ID0gMTsgLy8gaWYgeW91IHN0YXJ0IHdpdGggemVybywgdGhlIGZpcnN0IG9uZSBuZXZlciBsZWF2ZXNcbi8qZXNsaW50IG5vLWNvbnNvbGU6IFtcImVycm9yXCIsIHsgYWxsb3c6IFtcIndhcm5cIiwgXCJlcnJvclwiLCBcImxvZ1wiLCBcImRpclwiXSB9XSAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0UHJlc2VudGVyIHtcblxuICAgIHN0YXRpYyBwcmVzZW50KHN0ciwgc291cmNlKSB7XG4gICAgICAgIGNvbnN0IHRoaXNLZXkgPSBrZXk7XG4gICAgICAgIHByZXNlbnRlZFN0cmluZ3Muc2V0KHRoaXNLZXksIHN0cik7XG4gICAgICAgIGtleSsrO1xuICAgICAgICBMb2dnZXIubG9nKGBUUDogYWRkaW5nIGtleSAkeyB0aGlzS2V5IH0gZnJvbSAkeyBzb3VyY2UgfTogJHsgc3RyIH1gKTtcbiAgICAgICAgdGhpcy51cGRhdGVQcmVzZW50ZWRUZXh0KCk7XG4gICAgICAgIHJldHVybiB0aGlzS2V5O1xuICAgIH1cblxuICAgIHN0YXRpYyB1blByZXNlbnQocmVtb3ZlS2V5KSB7XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgdGV4dCB3aXRoIHRoZSBrZXlcbiAgICAgICAgTG9nZ2VyLmxvZyhgVFA6IHJlbW92aW5nIHZhbHVlIGZvciBrZXkgJHsgcmVtb3ZlS2V5IH1gKTtcbiAgICAgICAgcHJlc2VudGVkU3RyaW5ncy5kZWxldGUocmVtb3ZlS2V5KTtcbiAgICAgICAgdGhpcy51cGRhdGVQcmVzZW50ZWRUZXh0KCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHVwZGF0ZVByZXNlbnRlZFRleHQoKSB7XG4gICAgICAgIGxldCBnZW5lcmF0ZWRTdHJpbmcgPSBcIlwiO1xuICAgICAgICBwcmVzZW50ZWRTdHJpbmdzLmZvckVhY2goKHYpID0+IHtcbiAgICAgICAgICAgIGdlbmVyYXRlZFN0cmluZyA9IHY7IC8vIGNoYW5nZSA9IHRvICs9IHRvIGNvbmNhdGVuYXRlLCBvciBsZWF2ZSBhcyBpcyB0byBqdXN0IHNob3cgdGhlIGxhc3Qgb25lXG4gICAgICAgIH0pO1xuICAgICAgICBjYWxsYmFja3MuZm9yRWFjaCgoY2IpID0+IGNiKGdlbmVyYXRlZFN0cmluZykpO1xuICAgIH1cblxuICAgIHN0YXRpYyBhZGRDYWxsYmFjayhjYikge1xuICAgICAgICBjYWxsYmFja3MucHVzaChjYik7XG4gICAgfVxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQWNBO0FBQ0E7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7Ozs7QUE1QkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/TextPresenter.es6\n");

/***/ }),

/***/ "./src/TimingCalculator.es6":
/*!**********************************!*\
  !*** ./src/TimingCalculator.es6 ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Copyright 2019 British Broadcasting Corporation\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/*eslint func-style: [\"error\", \"declaration\"]*/\nfunction nullOrUndefined(thing) {\n  return thing === undefined || thing === null;\n}\n\nfunction specified(thing) {\n  return !nullOrUndefined(thing);\n}\n\nvar TimingCalculator = /*#__PURE__*/function () {\n  function TimingCalculator() {\n    _classCallCheck(this, TimingCalculator);\n  }\n\n  _createClass(TimingCalculator, null, [{\n    key: \"parseTimeString\",\n    value: function parseTimeString(timeStr) {\n      var rgx = /(\\d{2,}):(\\d{2,}):(\\d{2}(?:\\.\\d*)?)/;\n      var groups = timeStr.match(rgx);\n      var hours = parseInt(groups[1]);\n      var mins = parseInt(groups[2]);\n      var secs = parseFloat(groups[3]);\n      var total = hours * 3600 + mins * 60 + secs;\n      return total;\n    }\n  }, {\n    key: \"parseSeconds\",\n    value: function parseSeconds(timeText) {\n      var lowerTimeText = timeText.toLowerCase();\n      var isSecondsString = lowerTimeText.charAt(timeText.length - 1) === \"s\";\n      return isSecondsString ? this.parseSecondText(timeText) : this.parseTimeString(timeText);\n    }\n  }, {\n    key: \"parseSecondText\",\n    value: function parseSecondText(timingText) {\n      var timing = String(timingText);\n      timing = timing.substring(0, timing.length - 1);\n      return parseFloat(timing);\n    }\n  }, {\n    key: \"computeBegin\",\n    value: function computeBegin(element) {\n      var parent = element.parent;\n      var syncbase = parent ? this.computeBegin(parent) : 0;\n      var beginAttr = element.attributes.begin;\n      var begin = beginAttr ? this.parseSeconds(beginAttr) : 0;\n      return syncbase + begin;\n    }\n  }, {\n    key: \"computeEnd\",\n    value: function computeEnd(element) {\n      var _this = this;\n\n      var seekUp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var end = this.getSpecifiedEnd(element, seekUp);\n\n      if (nullOrUndefined(end)) {\n        // now we have to get the biggest defined end from each child\n        var ends = [];\n        element.children.forEach(function (c) {\n          ends.push(_this.computeEnd(c, false));\n        });\n\n        if (!ends.includes(undefined) && ends.length > 0) {\n          end = Math.max.apply(Math, ends);\n        }\n      }\n\n      return end;\n    }\n  }, {\n    key: \"getSpecifiedEnd\",\n    value: function getSpecifiedEnd(element) {\n      var seekUp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var parentEnd;\n      var resultingSpecifiedEnd;\n      var parent = element.parent;\n\n      if (seekUp && parent) {\n        parentEnd = this.getSpecifiedEnd(parent);\n      }\n\n      var syncbase = parent ? this.computeBegin(parent) : 0;\n      var thisEnd = element.attributes.end ? this.parseSeconds(element.attributes.end) + syncbase : undefined;\n\n      if (specified(thisEnd)) {\n        if (specified(parentEnd)) {\n          resultingSpecifiedEnd = Math.min(thisEnd, parentEnd);\n        } else {\n          resultingSpecifiedEnd = thisEnd;\n        }\n      } else {\n        // we don't specify an end\n        resultingSpecifiedEnd = parentEnd;\n      }\n\n      return resultingSpecifiedEnd;\n    }\n  }]);\n\n  return TimingCalculator;\n}();\n\nexports[\"default\"] = TimingCalculator;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVGltaW5nQ2FsY3VsYXRvci5lczYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZGhlcmUtbGliLy4vc3JjL1RpbWluZ0NhbGN1bGF0b3IuZXM2Pzk4NmYiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTkgQnJpdGlzaCBCcm9hZGNhc3RpbmcgQ29ycG9yYXRpb25cbi8vXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4vL1xuLy8gICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuLy9cbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbi8qZXNsaW50IGZ1bmMtc3R5bGU6IFtcImVycm9yXCIsIFwiZGVjbGFyYXRpb25cIl0qL1xuXG5mdW5jdGlvbiBudWxsT3JVbmRlZmluZWQodGhpbmcpIHtcbiAgcmV0dXJuIHRoaW5nID09PSB1bmRlZmluZWQgfHwgdGhpbmcgPT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIHNwZWNpZmllZCh0aGluZykge1xuICByZXR1cm4gIW51bGxPclVuZGVmaW5lZCh0aGluZyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRpbWluZ0NhbGN1bGF0b3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZVRpbWVTdHJpbmcodGltZVN0cikge1xuICAgIGNvbnN0IHJneCA9IC8oXFxkezIsfSk6KFxcZHsyLH0pOihcXGR7Mn0oPzpcXC5cXGQqKT8pLztcblxuICAgIGNvbnN0IGdyb3VwcyA9IHRpbWVTdHIubWF0Y2gocmd4KTtcblxuICAgIGNvbnN0IGhvdXJzID0gcGFyc2VJbnQoZ3JvdXBzWzFdKTtcbiAgICBjb25zdCBtaW5zID0gcGFyc2VJbnQoZ3JvdXBzWzJdKTtcbiAgICBjb25zdCBzZWNzID0gcGFyc2VGbG9hdChncm91cHNbM10pO1xuXG4gICAgY29uc3QgdG90YWwgPSAoaG91cnMgKiAzNjAwKSArIChtaW5zICogNjApICsgc2VjcztcblxuICAgIHJldHVybiB0b3RhbDtcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZVNlY29uZHModGltZVRleHQpIHtcblxuICAgIGNvbnN0IGxvd2VyVGltZVRleHQgPSB0aW1lVGV4dC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgY29uc3QgaXNTZWNvbmRzU3RyaW5nID0gKGxvd2VyVGltZVRleHQuY2hhckF0KHRpbWVUZXh0Lmxlbmd0aCAtIDEpID09PSBcInNcIik7XG5cbiAgICByZXR1cm4gKGlzU2Vjb25kc1N0cmluZykgP1xuICAgICAgIHRoaXMucGFyc2VTZWNvbmRUZXh0KHRpbWVUZXh0KSA6IHRoaXMucGFyc2VUaW1lU3RyaW5nKHRpbWVUZXh0KTtcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZVNlY29uZFRleHQodGltaW5nVGV4dCkge1xuICAgIGxldCB0aW1pbmcgPSBTdHJpbmcodGltaW5nVGV4dCk7XG4gICAgdGltaW5nID0gdGltaW5nLnN1YnN0cmluZygwLCB0aW1pbmcubGVuZ3RoIC0gMSk7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodGltaW5nKTtcbiAgfVxuXG4gIHN0YXRpYyBjb21wdXRlQmVnaW4oZWxlbWVudCkge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsZW1lbnQucGFyZW50O1xuICAgIGNvbnN0IHN5bmNiYXNlID0gKHBhcmVudCkgPyB0aGlzLmNvbXB1dGVCZWdpbihwYXJlbnQpIDogMDtcbiAgICBjb25zdCBiZWdpbkF0dHIgPSBlbGVtZW50LmF0dHJpYnV0ZXMuYmVnaW47XG4gICAgY29uc3QgYmVnaW4gPSAoYmVnaW5BdHRyKSA/IHRoaXMucGFyc2VTZWNvbmRzKGJlZ2luQXR0cikgOiAwO1xuICAgIHJldHVybiBzeW5jYmFzZSArIGJlZ2luO1xuICB9XG5cbiAgc3RhdGljIGNvbXB1dGVFbmQoZWxlbWVudCwgc2Vla1VwID0gdHJ1ZSkge1xuICAgIGxldCBlbmQgPSB0aGlzLmdldFNwZWNpZmllZEVuZChlbGVtZW50LCBzZWVrVXApO1xuICAgIGlmIChudWxsT3JVbmRlZmluZWQoZW5kKSkge1xuICAgICAgLy8gbm93IHdlIGhhdmUgdG8gZ2V0IHRoZSBiaWdnZXN0IGRlZmluZWQgZW5kIGZyb20gZWFjaCBjaGlsZFxuICAgICAgY29uc3QgZW5kcyA9IFtdO1xuICAgICAgZWxlbWVudC5jaGlsZHJlbi5mb3JFYWNoKChjKSA9PiB7XG4gICAgICAgIGVuZHMucHVzaCh0aGlzLmNvbXB1dGVFbmQoYywgZmFsc2UpKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFlbmRzLmluY2x1ZGVzKHVuZGVmaW5lZCkgJiYgZW5kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGVuZCA9IE1hdGgubWF4KC4uLmVuZHMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlbmQ7XG4gIH1cblxuICBzdGF0aWMgZ2V0U3BlY2lmaWVkRW5kKGVsZW1lbnQsIHNlZWtVcCA9IHRydWUpIHtcbiAgICBsZXQgcGFyZW50RW5kO1xuICAgIGxldCByZXN1bHRpbmdTcGVjaWZpZWRFbmQ7XG4gICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnQ7XG5cbiAgICBpZiAoc2Vla1VwICYmIHBhcmVudCkge1xuICAgICAgcGFyZW50RW5kID0gdGhpcy5nZXRTcGVjaWZpZWRFbmQocGFyZW50KTtcbiAgICB9XG5cbiAgICBjb25zdCBzeW5jYmFzZSA9IChwYXJlbnQpID8gdGhpcy5jb21wdXRlQmVnaW4ocGFyZW50KSA6IDA7XG4gICAgY29uc3QgdGhpc0VuZCA9IChlbGVtZW50LmF0dHJpYnV0ZXMuZW5kKSA/IHRoaXMucGFyc2VTZWNvbmRzKGVsZW1lbnQuYXR0cmlidXRlcy5lbmQpICsgc3luY2Jhc2UgOiB1bmRlZmluZWQ7XG5cbiAgICBpZiAoc3BlY2lmaWVkKHRoaXNFbmQpKSB7XG4gICAgICBpZiAoc3BlY2lmaWVkKHBhcmVudEVuZCkpIHtcbiAgICAgICAgcmVzdWx0aW5nU3BlY2lmaWVkRW5kID0gTWF0aC5taW4odGhpc0VuZCwgcGFyZW50RW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdGluZ1NwZWNpZmllZEVuZCA9IHRoaXNFbmQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gd2UgZG9uJ3Qgc3BlY2lmeSBhbiBlbmRcbiAgICAgIHJlc3VsdGluZ1NwZWNpZmllZEVuZCA9IHBhcmVudEVuZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0aW5nU3BlY2lmaWVkRW5kO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFqRkEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/TimingCalculator.es6\n");

/***/ }),

/***/ "./src/TrackAPIHelper.es6":
/*!********************************!*\
  !*** ./src/TrackAPIHelper.es6 ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Copyright 2019 British Broadcasting Corporation\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar TrackAPIHelper = /*#__PURE__*/function () {\n  function TrackAPIHelper(videoPlayer) {\n    _classCallCheck(this, TrackAPIHelper);\n\n    this.video = videoPlayer;\n    this.track = videoPlayer.addTextTrack(\"metadata\");\n  }\n\n  _createClass(TrackAPIHelper, [{\n    key: \"addCue\",\n    value: function addCue(newCue) {\n      this.track.addCue(newCue);\n    }\n  }, {\n    key: \"removeCues\",\n    value: function removeCues() {\n      while (this.track.cues.length > 0) {\n        this.track.removeCue(this.track.cues[0]);\n      }\n    }\n  }]);\n\n  return TrackAPIHelper;\n}();\n\nexports[\"default\"] = TrackAPIHelper;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVHJhY2tBUElIZWxwZXIuZXM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRoZXJlLWxpYi8uL3NyYy9UcmFja0FQSUhlbHBlci5lczY/NGM0MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOSBCcml0aXNoIEJyb2FkY2FzdGluZyBDb3Jwb3JhdGlvblxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHJhY2tBUElIZWxwZXIge1xuICBjb25zdHJ1Y3Rvcih2aWRlb1BsYXllcikge1xuICAgIHRoaXMudmlkZW8gPSB2aWRlb1BsYXllcjtcbiAgICB0aGlzLnRyYWNrID0gdmlkZW9QbGF5ZXIuYWRkVGV4dFRyYWNrKFwibWV0YWRhdGFcIik7XG4gIH1cblxuICBhZGRDdWUobmV3Q3VlKSB7XG4gICAgdGhpcy50cmFjay5hZGRDdWUobmV3Q3VlKTtcbiAgfVxuXG4gIHJlbW92ZUN1ZXMoKSB7XG4gICAgd2hpbGUgKHRoaXMudHJhY2suY3Vlcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLnRyYWNrLnJlbW92ZUN1ZSh0aGlzLnRyYWNrLmN1ZXNbMF0pO1xuICAgIH1cbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBZEEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/TrackAPIHelper.es6\n");

/***/ }),

/***/ "./src/Utils.es6":
/*!***********************!*\
  !*** ./src/Utils.es6 ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Copyright 2019 British Broadcasting Corporation\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nvar Utils = /*#__PURE__*/function () {\n  function Utils() {\n    _classCallCheck(this, Utils);\n  }\n\n  _createClass(Utils, null, [{\n    key: \"NS_XML_URI\",\n    get: function get() {\n      return \"http://www.w3.org/XML/1998/namespace\";\n    }\n  }, {\n    key: \"NS_TTML_URI\",\n    get: function get() {\n      return \"http://www.w3.org/ns/ttml\";\n    }\n  }, {\n    key: \"NS_TTML_PARAMETER_URI\",\n    get: function get() {\n      return \"http://www.w3.org/ns/ttml#parameter\";\n    }\n  }, {\n    key: \"NS_TTML_STYLING_URI\",\n    get: function get() {\n      return \"http://www.w3.org/ns/ttml#styling\";\n    }\n  }, {\n    key: \"NS_TTML_AUDIO_URI\",\n    get: function get() {\n      return \"http://www.w3.org/ns/ttml#audio\";\n    }\n  }, {\n    key: \"NS_TTML_METADATA_URI\",\n    get: function get() {\n      return \"http://www.w3.org/ns/ttml#metadata\";\n    }\n  }, {\n    key: \"NS_TTML_ISD_URI\",\n    get: function get() {\n      return \"http://www.w3.org/ns/ttml#isd\";\n    }\n  }, {\n    key: \"isUndefined\",\n    value: function isUndefined(element) {\n      return element === null || element === undefined || element.attributes === undefined || element.name === undefined;\n    }\n  }, {\n    key: \"isAudioType\",\n    value: function isAudioType(fullyQualifiedName) {\n      return fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%body\") || fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%div\") || fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%p\") || fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%span\") || fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%animate\") || fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%audio\") || fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%source\") || fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%data\") || fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%chunk\") || fullyQualifiedName === \"\";\n    }\n  }, {\n    key: \"hasAudioAttribute\",\n    value: function hasAudioAttribute(element) {\n      return this.getAttributeByFullyQualifiedName(element, \"\".concat(Utils.NS_TTML_URI, \"#audio%%gain\")) !== undefined || this.getAttributeByFullyQualifiedName(element, \"\".concat(Utils.NS_TTML_URI, \"#audio%%pan\")) !== undefined || this.getAttributeByFullyQualifiedName(element, \"\".concat(Utils.NS_TTML_URI, \"#audio%%pitch\")) !== undefined || this.getAttributeByFullyQualifiedName(element, \"\".concat(Utils.NS_TTML_URI, \"#audio%%speak\")) !== undefined;\n    }\n  }, {\n    key: \"isAudioElement\",\n    value: function isAudioElement(element) {\n      if (Utils.isUndefined(element)) {\n        return false;\n      }\n\n      var fullyQualifiedName = element.fullyQualifiedName;\n\n      if (fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%audio\") || fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%source\") || fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%data\") || fullyQualifiedName === \"\".concat(Utils.NS_TTML_URI, \"%%chunk\")) {\n        return true;\n      }\n\n      return Utils.isAudioType(fullyQualifiedName) && Utils.hasAudioAttribute(element);\n    }\n  }, {\n    key: \"gleanNamespaces\",\n    value: function gleanNamespaces(element) {\n      var namespaces = {\n        \"xml\": Utils.NS_XML_URI\n      };\n\n      for (var key in element.attributes) {\n        if (element.attributes.hasOwnProperty(key)) {\n          if (key === \"xmlns\") {\n            namespaces[\"default\"] = element.attributes[key];\n          } else if (key === \"xmlns:xml\" && element.attributes[key] !== Utils.NS_XML_URI) {\n            console.warn(\"Namespace xmlns:xml is reserved in XML and must not be bound to another namespace!\");\n            console.warn(\"\".concat(key, \"=\").concat(element.attributes[key], \" is ignored.\"));\n          } else if (key.startsWith(\"xmlns:\")) {\n            namespaces[key.split(\":\")[1]] = element.attributes[key];\n          } else continue;\n        }\n      }\n\n      return namespaces;\n    }\n  }, {\n    key: \"getFullyQualifiedName\",\n    value: function getFullyQualifiedName(element) {\n      if (element.name.includes(\":\")) {\n        var prefix = element.name.split(\":\")[0];\n        var suffix = element.name.split(\":\")[1];\n\n        if (element.namespaces.hasOwnProperty(prefix)) {\n          return \"\".concat(element.namespaces[prefix], \"%%\").concat(suffix);\n        } else {\n          console.warn(\"Cannot find the namespace for element \".concat(element.name, \". Make sure your TTML2 file is valid XML.\"));\n          return undefined;\n        }\n      }\n\n      return element.name === \"\" ? \"\" : \"\".concat(element.namespaces[\"default\"], \"%%\").concat(element.name);\n    }\n  }, {\n    key: \"getAttributeByFullyQualifiedName\",\n    value: function getAttributeByFullyQualifiedName(element, fullyQualifiedAttributeName) {\n      if (fullyQualifiedAttributeName.includes(\"%%\")) {\n        var namespaceURI = fullyQualifiedAttributeName.split(\"%%\")[0];\n        var name = fullyQualifiedAttributeName.split(\"%%\")[1];\n\n        if (namespaceURI === \"\" && element.attributes.hasOwnProperty(name)) {\n          return element.attributes[name];\n        }\n\n        for (var prefix in element.namespaces) {\n          if (namespaceURI === element.namespaces[prefix] && element.attributes.hasOwnProperty(\"\".concat(prefix, \":\").concat(name))) {\n            return element.attributes[\"\".concat(prefix, \":\").concat(name)];\n          }\n        }\n      }\n\n      return undefined;\n    }\n  }]);\n\n  return Utils;\n}();\n\nexports[\"default\"] = Utils;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVXRpbHMuZXM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRoZXJlLWxpYi8uL3NyYy9VdGlscy5lczY/MjBmZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOSBCcml0aXNoIEJyb2FkY2FzdGluZyBDb3Jwb3JhdGlvblxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbHMge1xuXG4gIHN0YXRpYyBnZXQgTlNfWE1MX1VSSSgpIHtcbiAgICByZXR1cm4gXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIjtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgTlNfVFRNTF9VUkkoKSB7XG4gICAgcmV0dXJuIFwiaHR0cDovL3d3dy53My5vcmcvbnMvdHRtbFwiO1xuICB9XG5cbiAgc3RhdGljIGdldCBOU19UVE1MX1BBUkFNRVRFUl9VUkkoKSB7XG4gICAgcmV0dXJuIFwiaHR0cDovL3d3dy53My5vcmcvbnMvdHRtbCNwYXJhbWV0ZXJcIjtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgTlNfVFRNTF9TVFlMSU5HX1VSSSgpIHtcbiAgICByZXR1cm4gXCJodHRwOi8vd3d3LnczLm9yZy9ucy90dG1sI3N0eWxpbmdcIjtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgTlNfVFRNTF9BVURJT19VUkkoKSB7XG4gICAgcmV0dXJuIFwiaHR0cDovL3d3dy53My5vcmcvbnMvdHRtbCNhdWRpb1wiO1xuICB9XG5cbiAgc3RhdGljIGdldCBOU19UVE1MX01FVEFEQVRBX1VSSSgpIHtcbiAgICByZXR1cm4gXCJodHRwOi8vd3d3LnczLm9yZy9ucy90dG1sI21ldGFkYXRhXCI7XG4gIH1cblxuICBzdGF0aWMgZ2V0IE5TX1RUTUxfSVNEX1VSSSgpIHtcbiAgICByZXR1cm4gXCJodHRwOi8vd3d3LnczLm9yZy9ucy90dG1sI2lzZFwiO1xuICB9XG5cbiAgc3RhdGljIGlzVW5kZWZpbmVkKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgICAgZWxlbWVudCA9PT0gbnVsbFxuICAgICAgfHwgZWxlbWVudCA9PT0gdW5kZWZpbmVkXG4gICAgICB8fCBlbGVtZW50LmF0dHJpYnV0ZXMgPT09IHVuZGVmaW5lZFxuICAgICAgfHwgZWxlbWVudC5uYW1lID09PSB1bmRlZmluZWRcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIGlzQXVkaW9UeXBlKGZ1bGx5UXVhbGlmaWVkTmFtZSkge1xuICAgIHJldHVybiAoXG4gICAgICBmdWxseVF1YWxpZmllZE5hbWUgPT09IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlYm9keWBcbiAgICAgIHx8IGZ1bGx5UXVhbGlmaWVkTmFtZSA9PT0gYCR7VXRpbHMuTlNfVFRNTF9VUkl9JSVkaXZgXG4gICAgICB8fCBmdWxseVF1YWxpZmllZE5hbWUgPT09IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlcGBcbiAgICAgIHx8IGZ1bGx5UXVhbGlmaWVkTmFtZSA9PT0gYCR7VXRpbHMuTlNfVFRNTF9VUkl9JSVzcGFuYFxuICAgICAgfHwgZnVsbHlRdWFsaWZpZWROYW1lID09PSBgJHtVdGlscy5OU19UVE1MX1VSSX0lJWFuaW1hdGVgXG4gICAgICB8fCBmdWxseVF1YWxpZmllZE5hbWUgPT09IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlYXVkaW9gXG4gICAgICB8fCBmdWxseVF1YWxpZmllZE5hbWUgPT09IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlc291cmNlYFxuICAgICAgfHwgZnVsbHlRdWFsaWZpZWROYW1lID09PSBgJHtVdGlscy5OU19UVE1MX1VSSX0lJWRhdGFgXG4gICAgICB8fCBmdWxseVF1YWxpZmllZE5hbWUgPT09IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlY2h1bmtgXG4gICAgICB8fCBmdWxseVF1YWxpZmllZE5hbWUgPT09IFwiXCJcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIGhhc0F1ZGlvQXR0cmlidXRlKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5nZXRBdHRyaWJ1dGVCeUZ1bGx5UXVhbGlmaWVkTmFtZShlbGVtZW50LCBgJHtVdGlscy5OU19UVE1MX1VSSX0jYXVkaW8lJWdhaW5gKSAhPT0gdW5kZWZpbmVkXG4gICAgICB8fCB0aGlzLmdldEF0dHJpYnV0ZUJ5RnVsbHlRdWFsaWZpZWROYW1lKGVsZW1lbnQsIGAke1V0aWxzLk5TX1RUTUxfVVJJfSNhdWRpbyUlcGFuYCkgIT09IHVuZGVmaW5lZFxuICAgICAgfHwgdGhpcy5nZXRBdHRyaWJ1dGVCeUZ1bGx5UXVhbGlmaWVkTmFtZShlbGVtZW50LCBgJHtVdGlscy5OU19UVE1MX1VSSX0jYXVkaW8lJXBpdGNoYCkgIT09IHVuZGVmaW5lZFxuICAgICAgfHwgdGhpcy5nZXRBdHRyaWJ1dGVCeUZ1bGx5UXVhbGlmaWVkTmFtZShlbGVtZW50LCBgJHtVdGlscy5OU19UVE1MX1VSSX0jYXVkaW8lJXNwZWFrYCkgIT09IHVuZGVmaW5lZFxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgaXNBdWRpb0VsZW1lbnQoZWxlbWVudCkge1xuXG4gICAgaWYgKFV0aWxzLmlzVW5kZWZpbmVkKGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgZnVsbHlRdWFsaWZpZWROYW1lID0gZWxlbWVudC5mdWxseVF1YWxpZmllZE5hbWU7XG5cbiAgICBpZiAoZnVsbHlRdWFsaWZpZWROYW1lID09PSBgJHtVdGlscy5OU19UVE1MX1VSSX0lJWF1ZGlvYFxuICAgICAgICB8fCBmdWxseVF1YWxpZmllZE5hbWUgPT09IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlc291cmNlYFxuICAgICAgICB8fCBmdWxseVF1YWxpZmllZE5hbWUgPT09IGAke1V0aWxzLk5TX1RUTUxfVVJJfSUlZGF0YWBcbiAgICAgICAgfHwgZnVsbHlRdWFsaWZpZWROYW1lID09PSBgJHtVdGlscy5OU19UVE1MX1VSSX0lJWNodW5rYCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIFV0aWxzLmlzQXVkaW9UeXBlKGZ1bGx5UXVhbGlmaWVkTmFtZSkgJiYgVXRpbHMuaGFzQXVkaW9BdHRyaWJ1dGUoZWxlbWVudCk7XG4gIH1cblxuICBzdGF0aWMgZ2xlYW5OYW1lc3BhY2VzKGVsZW1lbnQpIHtcbiAgICBjb25zdCBuYW1lc3BhY2VzID0geyBcInhtbFwiOiBVdGlscy5OU19YTUxfVVJJIH07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAoZWxlbWVudC5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gXCJ4bWxuc1wiKSB7XG4gICAgICAgICAgbmFtZXNwYWNlcy5kZWZhdWx0ID0gZWxlbWVudC5hdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSBcInhtbG5zOnhtbFwiICYmIGVsZW1lbnQuYXR0cmlidXRlc1trZXldICE9PSBVdGlscy5OU19YTUxfVVJJKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiTmFtZXNwYWNlIHhtbG5zOnhtbCBpcyByZXNlcnZlZCBpbiBYTUwgYW5kIG11c3Qgbm90IGJlIGJvdW5kIHRvIGFub3RoZXIgbmFtZXNwYWNlIVwiKTtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYCR7a2V5fT0ke2VsZW1lbnQuYXR0cmlidXRlc1trZXldfSBpcyBpZ25vcmVkLmApO1xuICAgICAgICB9IGVsc2UgaWYgKGtleS5zdGFydHNXaXRoKFwieG1sbnM6XCIpKSB7XG4gICAgICAgICAgbmFtZXNwYWNlc1trZXkuc3BsaXQoXCI6XCIpWzFdXSA9IGVsZW1lbnQuYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9IGVsc2UgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuYW1lc3BhY2VzO1xuICB9XG5cbiAgc3RhdGljIGdldEZ1bGx5UXVhbGlmaWVkTmFtZShlbGVtZW50KSB7XG4gICAgaWYgKGVsZW1lbnQubmFtZS5pbmNsdWRlcyhcIjpcIikpIHtcbiAgICAgIGNvbnN0IHByZWZpeCA9IGVsZW1lbnQubmFtZS5zcGxpdChcIjpcIilbMF07XG4gICAgICBjb25zdCBzdWZmaXggPSBlbGVtZW50Lm5hbWUuc3BsaXQoXCI6XCIpWzFdO1xuICAgICAgaWYgKGVsZW1lbnQubmFtZXNwYWNlcy5oYXNPd25Qcm9wZXJ0eShwcmVmaXgpKSB7XG4gICAgICAgIHJldHVybiBgJHtlbGVtZW50Lm5hbWVzcGFjZXNbcHJlZml4XX0lJSR7c3VmZml4fWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oYENhbm5vdCBmaW5kIHRoZSBuYW1lc3BhY2UgZm9yIGVsZW1lbnQgJHtlbGVtZW50Lm5hbWV9LiBNYWtlIHN1cmUgeW91ciBUVE1MMiBmaWxlIGlzIHZhbGlkIFhNTC5gKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQubmFtZSA9PT0gXCJcIiA/IFwiXCIgOiBgJHtlbGVtZW50Lm5hbWVzcGFjZXMuZGVmYXVsdH0lJSR7ZWxlbWVudC5uYW1lfWA7XG4gIH1cblxuICBzdGF0aWMgZ2V0QXR0cmlidXRlQnlGdWxseVF1YWxpZmllZE5hbWUoZWxlbWVudCwgZnVsbHlRdWFsaWZpZWRBdHRyaWJ1dGVOYW1lKSB7XG4gICAgaWYgKGZ1bGx5UXVhbGlmaWVkQXR0cmlidXRlTmFtZS5pbmNsdWRlcyhcIiUlXCIpKSB7XG4gICAgICBjb25zdCBuYW1lc3BhY2VVUkkgPSBmdWxseVF1YWxpZmllZEF0dHJpYnV0ZU5hbWUuc3BsaXQoXCIlJVwiKVswXTtcbiAgICAgIGNvbnN0IG5hbWUgPSBmdWxseVF1YWxpZmllZEF0dHJpYnV0ZU5hbWUuc3BsaXQoXCIlJVwiKVsxXTtcbiAgICAgIGlmIChuYW1lc3BhY2VVUkkgPT09IFwiXCIgJiZcbiAgICAgICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuYXR0cmlidXRlc1tuYW1lXTtcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgcHJlZml4IGluIGVsZW1lbnQubmFtZXNwYWNlcykge1xuICAgICAgICBpZiAobmFtZXNwYWNlVVJJID09PSBlbGVtZW50Lm5hbWVzcGFjZXNbcHJlZml4XSAmJlxuICAgICAgICAgICAgZWxlbWVudC5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGAke3ByZWZpeH06JHtuYW1lfWApKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5hdHRyaWJ1dGVzW2Ake3ByZWZpeH06JHtuYW1lfWBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQU1BOzs7QUFFQTtBQUNBO0FBWUE7OztBQUVBO0FBQ0E7QUFNQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7QUFoSUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Utils.es6\n");

/***/ }),

/***/ "./src/VideoAudioHook.es6":
/*!********************************!*\
  !*** ./src/VideoAudioHook.es6 ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undefined;\n\nvar _Utils = __webpack_require__(/*! ./Utils.es6 */ \"./src/Utils.es6\");\n\nvar _Utils2 = _interopRequireDefault(_Utils);\n\nvar _TrackAPIHelper = __webpack_require__(/*! ./TrackAPIHelper.es6 */ \"./src/TrackAPIHelper.es6\");\n\nvar _TrackAPIHelper2 = _interopRequireDefault(_TrackAPIHelper);\n\nvar _XMLReader = __webpack_require__(/*! ./XMLReader.es6 */ \"./src/XMLReader.es6\");\n\nvar _XMLReader2 = _interopRequireDefault(_XMLReader);\n\nvar _Parser = __webpack_require__(/*! ./Parser.es6 */ \"./src/Parser.es6\");\n\nvar _Parser2 = _interopRequireDefault(_Parser);\n\nvar _Logger = __webpack_require__(/*! ./Logger.es6 */ \"./src/Logger.es6\");\n\nvar _Logger2 = _interopRequireDefault(_Logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar VideoAudioHook = /*#__PURE__*/function () {\n  function VideoAudioHook(videoplayer) {\n    _classCallCheck(this, VideoAudioHook);\n\n    this.videoplayer = videoplayer;\n    this.Utils = _Utils2[\"default\"];\n    this.TrackApi = _TrackAPIHelper2[\"default\"];\n    this.XMLReader = _XMLReader2[\"default\"];\n    this.FileReader = FileReader;\n    this.firstTime = true;\n    this.videoplayer.addEventListener(\"play\", this.onVideoPlay.bind(this));\n    this.videoplayer.addEventListener(\"pause\", this.onVideoPause.bind(this));\n  }\n\n  _createClass(VideoAudioHook, [{\n    key: \"setup\",\n    value: function setup() {\n      this.xmlReader = new this.XMLReader();\n      this.track = new this.TrackApi(this.videoplayer);\n    }\n  }, {\n    key: \"attachTTMLfromFile\",\n    value: function attachTTMLfromFile(ttmlFile) {\n      var _this = this;\n\n      var reader = new this.FileReader();\n\n      reader.onload = function () {\n        _this.parseTTML(ttmlFile, reader.result);\n      };\n\n      reader.readAsText(ttmlFile);\n    }\n  }, {\n    key: \"attachTTMLfromURL\",\n    value: function attachTTMLfromURL(ttmlURL) {\n      var _this2 = this;\n\n      fetch(ttmlURL).then(function (response) {\n        if (!response.ok) throw Error(response.statusText);\n        return response.text().then(function (text) {\n          _this2.parseTTML(ttmlURL, text);\n        });\n      });\n    }\n  }, {\n    key: \"getHttpTTML\",\n    value: function getHttpTTML(ttmlUrl) {\n      var xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", ttmlUrl);\n      xhr.addEventListener(\"load\", this.onTTMLLoad.bind(this));\n\n      _Logger2[\"default\"].log(\"GET ttml at: \".concat(ttmlUrl));\n\n      xhr.send();\n    }\n  }, {\n    key: \"onTTMLLoad\",\n    value: function onTTMLLoad(e) {\n      this.parseTTML(e.target.responseURL, e.target.responseText);\n    }\n  }, {\n    key: \"parseTTML\",\n    value: function parseTTML(url, result) {\n      var media = this.videoplayer;\n      this.xmlReader.parseXML(result, function () {\n        return null;\n      }, this.setupTree.bind(this, media, url));\n    }\n  }, {\n    key: \"audioCacheStrategy\",\n    get: function get() {\n      return (0, _Parser.getAudioCacheStrategy)();\n    },\n    set: function set(cacheStrategy) {\n      (0, _Parser.setAudioCacheStrategy)(cacheStrategy);\n    }\n  }, {\n    key: \"setupTree\",\n    value: function setupTree(media, documentPath, xmlTree) {\n      var _this3 = this;\n\n      if (this.tree) {\n        this.resetTree();\n      } // Work around Webkit, which currently offers the prefixed version only\n\n\n      var AudioContext = window.AudioContext || window.webkitAudioContext;\n      var audioContext = this.tree ? this.tree.audioContext : new AudioContext();\n      this.tree = (0, _Parser2[\"default\"])(audioContext, media, documentPath, xmlTree, this.tree);\n      var cues = [];\n\n      _Logger2[\"default\"].log(\"VideoAudioHook.setupTree media.duration = \".concat(media.duration));\n\n      this.tree.makeCueObjects(cues, media);\n      cues.forEach(function (c) {\n        _this3.track.addCue(c);\n      });\n\n      if (this.videoplayer.currentTime > 0) {\n        this.activateTree();\n        this.videoplayer.currentTime = 0;\n      }\n    } //For all nodes in the tree with a NaN beginning, activate them.\n    //We can't do this until play() - Else audio sources without bbegin will start on load\n\n  }, {\n    key: \"activateTree\",\n    value: function activateTree() {\n      this.tree.traverse(function (c) {\n        if (isNaN(c.begin)) {\n          c.onActive();\n        }\n      });\n    } //onFinalise() goes a little further than onInactive\n    //onInactive should be sufficient for audionode garbage collection, but it's not clear if it's the case\n    //Firefox webaudio tab shows audionodes persisting(actually though?) long after use and disconnection\n    //At the very least, we need to revokeObjectURL.\n\n  }, {\n    key: \"resetTree\",\n    value: function resetTree() {\n      this.track.removeCues();\n      this.tree.traverse(function (c) {\n        if (typeof c.onFinalise === \"function\") {\n          c.onFinalise();\n        }\n      });\n      this.tree.children = [];\n    }\n  }, {\n    key: \"onVideoPlay\",\n    value: function onVideoPlay() {\n      var _this4 = this;\n\n      var audioContext = this.tree.audioContext;\n\n      if (audioContext) {\n        _Logger2[\"default\"].log(\"resuming audio context\");\n\n        audioContext.resume().then(function () {\n          if (_this4.firstTime) {\n            _this4.activateTree();\n\n            _this4.firstTime = false;\n          } else {\n            _this4.tree.traverse(function (c) {\n              if (typeof c.onRestart === \"function\") {\n                c.onRestart();\n              }\n            });\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onVideoPause\",\n    value: function onVideoPause() {\n      var _this5 = this;\n\n      var audioContext = this.tree.audioContext;\n\n      if (audioContext && audioContext.state === \"running\") {\n        _Logger2[\"default\"].log(\"suspending audio context\");\n\n        audioContext.suspend().then(function () {\n          _this5.tree.traverse(function (c) {\n            if (typeof c.onPause === \"function\") {\n              c.onPause();\n            }\n          });\n        });\n      }\n    }\n  }]);\n\n  return VideoAudioHook;\n}();\n\nexports[\"default\"] = VideoAudioHook;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvVmlkZW9BdWRpb0hvb2suZXM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRoZXJlLWxpYi8uL3NyYy9WaWRlb0F1ZGlvSG9vay5lczY/ZDI4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOSBCcml0aXNoIEJyb2FkY2FzdGluZyBDb3Jwb3JhdGlvblxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IFV0aWxzIGZyb20gXCIuL1V0aWxzLmVzNlwiO1xuaW1wb3J0IFRyYWNrQXBpIGZyb20gXCIuL1RyYWNrQVBJSGVscGVyLmVzNlwiO1xuaW1wb3J0IFhNTFJlYWRlciBmcm9tIFwiLi9YTUxSZWFkZXIuZXM2XCI7XG5pbXBvcnQgcGFyc2VUcmVlIGZyb20gXCIuL1BhcnNlci5lczZcIjtcbmltcG9ydCB7c2V0QXVkaW9DYWNoZVN0cmF0ZWd5LCBnZXRBdWRpb0NhY2hlU3RyYXRlZ3l9IGZyb20gXCIuL1BhcnNlci5lczZcIjtcbmltcG9ydCBMb2dnZXIgZnJvbSBcIi4vTG9nZ2VyLmVzNlwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWRlb0F1ZGlvSG9vayB7XG4gIGNvbnN0cnVjdG9yKHZpZGVvcGxheWVyKSB7XG4gICAgdGhpcy52aWRlb3BsYXllciA9IHZpZGVvcGxheWVyO1xuXG4gICAgdGhpcy5VdGlscyA9IFV0aWxzO1xuICAgIHRoaXMuVHJhY2tBcGkgPSBUcmFja0FwaTtcbiAgICB0aGlzLlhNTFJlYWRlciA9IFhNTFJlYWRlcjtcbiAgICB0aGlzLkZpbGVSZWFkZXIgPSBGaWxlUmVhZGVyO1xuICAgIHRoaXMuZmlyc3RUaW1lID0gdHJ1ZTtcblxuICAgIHRoaXMudmlkZW9wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwicGxheVwiLFxuICAgICAgdGhpcy5vblZpZGVvUGxheS5iaW5kKHRoaXMpXG4gICAgKTtcblxuICAgIHRoaXMudmlkZW9wbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwicGF1c2VcIixcbiAgICAgIHRoaXMub25WaWRlb1BhdXNlLmJpbmQodGhpcylcbiAgICApO1xuICB9XG5cbiAgc2V0dXAoKSB7XG4gICAgdGhpcy54bWxSZWFkZXIgPSBuZXcgdGhpcy5YTUxSZWFkZXIoKTtcbiAgICB0aGlzLnRyYWNrID0gbmV3IHRoaXMuVHJhY2tBcGkodGhpcy52aWRlb3BsYXllcik7XG4gIH1cblxuICBhdHRhY2hUVE1MZnJvbUZpbGUodHRtbEZpbGUpIHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgdGhpcy5GaWxlUmVhZGVyKCk7XG5cbiAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgdGhpcy5wYXJzZVRUTUwodHRtbEZpbGUsIHJlYWRlci5yZXN1bHQpO1xuICAgIH07XG5cbiAgICByZWFkZXIucmVhZEFzVGV4dCh0dG1sRmlsZSk7XG4gIH1cblxuICBhdHRhY2hUVE1MZnJvbVVSTCh0dG1sVVJMKSB7XG4gICAgZmV0Y2godHRtbFVSTCkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCkudGhlbih0ZXh0ID0+IHsgdGhpcy5wYXJzZVRUTUwodHRtbFVSTCwgdGV4dCk7fSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRIdHRwVFRNTCh0dG1sVXJsKSB7XG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgeGhyLm9wZW4oXCJHRVRcIiwgdHRtbFVybCk7XG4gICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHRoaXMub25UVE1MTG9hZC5iaW5kKHRoaXMpKTtcbiAgICBMb2dnZXIubG9nKGBHRVQgdHRtbCBhdDogJHsgdHRtbFVybH1gKTtcbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgb25UVE1MTG9hZChlKSB7XG4gICAgdGhpcy5wYXJzZVRUTUwoZS50YXJnZXQucmVzcG9uc2VVUkwsIGUudGFyZ2V0LnJlc3BvbnNlVGV4dCk7XG4gIH1cblxuICBwYXJzZVRUTUwodXJsLCByZXN1bHQpIHtcbiAgICBjb25zdCBtZWRpYSA9IHRoaXMudmlkZW9wbGF5ZXI7XG4gICAgdGhpcy54bWxSZWFkZXIucGFyc2VYTUwoXG4gICAgICAgIHJlc3VsdCxcbiAgICAgICAgKCkgPT4gbnVsbCxcbiAgICAgICAgdGhpcy5zZXR1cFRyZWUuYmluZCh0aGlzLCBtZWRpYSwgdXJsKVxuICAgICAgKTtcbiAgfVxuXG4gIHNldCBhdWRpb0NhY2hlU3RyYXRlZ3koY2FjaGVTdHJhdGVneSkge1xuICAgIHNldEF1ZGlvQ2FjaGVTdHJhdGVneShjYWNoZVN0cmF0ZWd5KTtcbiAgfVxuXG4gIGdldCBhdWRpb0NhY2hlU3RyYXRlZ3koKSB7XG4gICAgcmV0dXJuIGdldEF1ZGlvQ2FjaGVTdHJhdGVneSgpO1xuICB9XG5cbiAgc2V0dXBUcmVlKG1lZGlhLCBkb2N1bWVudFBhdGgsIHhtbFRyZWUpIHtcbiAgICBpZiAodGhpcy50cmVlKSB7XG4gICAgICB0aGlzLnJlc2V0VHJlZSgpO1xuICAgIH1cblxuICAgIC8vIFdvcmsgYXJvdW5kIFdlYmtpdCwgd2hpY2ggY3VycmVudGx5IG9mZmVycyB0aGUgcHJlZml4ZWQgdmVyc2lvbiBvbmx5XG4gICAgY29uc3QgQXVkaW9Db250ZXh0ID0gd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O1xuXG4gICAgY29uc3QgYXVkaW9Db250ZXh0ID0gdGhpcy50cmVlID8gdGhpcy50cmVlLmF1ZGlvQ29udGV4dCA6IG5ldyBBdWRpb0NvbnRleHQoKTtcblxuICAgIHRoaXMudHJlZSA9IHBhcnNlVHJlZShhdWRpb0NvbnRleHQsIG1lZGlhLCBkb2N1bWVudFBhdGgsIHhtbFRyZWUsIHRoaXMudHJlZSk7XG4gICAgY29uc3QgY3VlcyA9IFtdO1xuICAgIExvZ2dlci5sb2coYFZpZGVvQXVkaW9Ib29rLnNldHVwVHJlZSBtZWRpYS5kdXJhdGlvbiA9ICR7bWVkaWEuZHVyYXRpb259YCk7XG4gICAgdGhpcy50cmVlLm1ha2VDdWVPYmplY3RzKGN1ZXMsIG1lZGlhKTtcblxuICAgIGN1ZXMuZm9yRWFjaCgoYykgPT4ge1xuICAgICAgdGhpcy50cmFjay5hZGRDdWUoYyk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy52aWRlb3BsYXllci5jdXJyZW50VGltZSA+IDApIHtcbiAgICAgIHRoaXMuYWN0aXZhdGVUcmVlKCk7XG4gICAgICB0aGlzLnZpZGVvcGxheWVyLmN1cnJlbnRUaW1lID0gMDtcbiAgICB9XG4gIH1cblxuICAvL0ZvciBhbGwgbm9kZXMgaW4gdGhlIHRyZWUgd2l0aCBhIE5hTiBiZWdpbm5pbmcsIGFjdGl2YXRlIHRoZW0uXG4gIC8vV2UgY2FuJ3QgZG8gdGhpcyB1bnRpbCBwbGF5KCkgLSBFbHNlIGF1ZGlvIHNvdXJjZXMgd2l0aG91dCBiYmVnaW4gd2lsbCBzdGFydCBvbiBsb2FkXG4gIGFjdGl2YXRlVHJlZSgpIHtcbiAgICB0aGlzLnRyZWUudHJhdmVyc2UoKGMpID0+IHtcbiAgICAgIGlmIChpc05hTihjLmJlZ2luKSkge1xuICAgICAgICBjLm9uQWN0aXZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvL29uRmluYWxpc2UoKSBnb2VzIGEgbGl0dGxlIGZ1cnRoZXIgdGhhbiBvbkluYWN0aXZlXG4gIC8vb25JbmFjdGl2ZSBzaG91bGQgYmUgc3VmZmljaWVudCBmb3IgYXVkaW9ub2RlIGdhcmJhZ2UgY29sbGVjdGlvbiwgYnV0IGl0J3Mgbm90IGNsZWFyIGlmIGl0J3MgdGhlIGNhc2VcbiAgLy9GaXJlZm94IHdlYmF1ZGlvIHRhYiBzaG93cyBhdWRpb25vZGVzIHBlcnNpc3RpbmcoYWN0dWFsbHkgdGhvdWdoPykgbG9uZyBhZnRlciB1c2UgYW5kIGRpc2Nvbm5lY3Rpb25cbiAgLy9BdCB0aGUgdmVyeSBsZWFzdCwgd2UgbmVlZCB0byByZXZva2VPYmplY3RVUkwuXG4gIHJlc2V0VHJlZSgpIHtcbiAgICB0aGlzLnRyYWNrLnJlbW92ZUN1ZXMoKTtcbiAgICB0aGlzLnRyZWUudHJhdmVyc2UoKGMpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgYy5vbkZpbmFsaXNlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgYy5vbkZpbmFsaXNlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy50cmVlLmNoaWxkcmVuID0gW107XG4gIH1cblxuICBvblZpZGVvUGxheSgpIHtcbiAgICBjb25zdCBhdWRpb0NvbnRleHQgPSB0aGlzLnRyZWUuYXVkaW9Db250ZXh0O1xuICAgIGlmIChhdWRpb0NvbnRleHQpIHtcbiAgICAgIExvZ2dlci5sb2coXCJyZXN1bWluZyBhdWRpbyBjb250ZXh0XCIpO1xuICAgICAgYXVkaW9Db250ZXh0LnJlc3VtZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5maXJzdFRpbWUpIHtcbiAgICAgICAgICB0aGlzLmFjdGl2YXRlVHJlZSgpO1xuICAgICAgICAgIHRoaXMuZmlyc3RUaW1lID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy50cmVlLnRyYXZlcnNlKChjKSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGMub25SZXN0YXJ0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgYy5vblJlc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gIH1cblxuICBvblZpZGVvUGF1c2UoKSB7XG4gICAgY29uc3QgYXVkaW9Db250ZXh0ID0gdGhpcy50cmVlLmF1ZGlvQ29udGV4dDtcbiAgICBpZiAoYXVkaW9Db250ZXh0ICYmIGF1ZGlvQ29udGV4dC5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcbiAgICAgIExvZ2dlci5sb2coXCJzdXNwZW5kaW5nIGF1ZGlvIGNvbnRleHRcIik7XG4gICAgICBhdWRpb0NvbnRleHQuc3VzcGVuZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLnRyZWUudHJhdmVyc2UoKGMpID0+IHtcbiAgICAgICAgICBpZiAodHlwZW9mIGMub25QYXVzZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBjLm9uUGF1c2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFjQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUlBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFHQTs7O0FBTUE7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQUNBOzs7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBekpBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/VideoAudioHook.es6\n");

/***/ }),

/***/ "./src/XMLReader.es6":
/*!***************************!*\
  !*** ./src/XMLReader.es6 ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = undefined;\n\nvar _xmlReader = __webpack_require__(/*! xml-reader */ \"./node_modules/xml-reader/dist/reader.js\");\n\nvar _xmlReader2 = _interopRequireDefault(_xmlReader);\n\nvar _xmlQuery = __webpack_require__(/*! xml-query */ \"./node_modules/xml-query/dist/index.js\");\n\nvar _xmlQuery2 = _interopRequireDefault(_xmlQuery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar XMLReader = /*#__PURE__*/function () {\n  function XMLReader() {\n    _classCallCheck(this, XMLReader);\n\n    this.xmlReader = _xmlReader2[\"default\"].create();\n    this.xmlQuery = _xmlQuery2[\"default\"];\n  }\n\n  _createClass(XMLReader, [{\n    key: \"parseXML\",\n    value: function parseXML(ttmlFile, processDiv, doneCB) {\n      this.xmlReader.reset();\n      this.xmlReader.once(\"done\", doneCB);\n      this.xmlReader.parse(ttmlFile);\n    }\n  }]);\n\n  return XMLReader;\n}();\n\nexports[\"default\"] = XMLReader;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvWE1MUmVhZGVyLmVzNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovL2FkaGVyZS1saWIvLi9zcmMvWE1MUmVhZGVyLmVzNj9jZjQwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE5IEJyaXRpc2ggQnJvYWRjYXN0aW5nIENvcnBvcmF0aW9uXG4vL1xuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuLy9cbi8vICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbi8vXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG5pbXBvcnQgWG1sUmVhZGVyIGZyb20gXCJ4bWwtcmVhZGVyXCI7XG5pbXBvcnQgWG1sUXVlcnkgZnJvbSBcInhtbC1xdWVyeVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBYTUxSZWFkZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnhtbFJlYWRlciA9IFhtbFJlYWRlci5jcmVhdGUoKTtcbiAgICB0aGlzLnhtbFF1ZXJ5ID0gWG1sUXVlcnk7XG4gIH1cblxuICBwYXJzZVhNTCh0dG1sRmlsZSwgcHJvY2Vzc0RpdiwgZG9uZUNCKSB7XG4gICAgdGhpcy54bWxSZWFkZXIucmVzZXQoKTtcbiAgICB0aGlzLnhtbFJlYWRlci5vbmNlKFwiZG9uZVwiLCBkb25lQ0IpO1xuXG4gICAgdGhpcy54bWxSZWFkZXIucGFyc2UodHRtbEZpbGUpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFjQTtBQUNBOzs7QUFBQTtBQUNBOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7Ozs7OztBQVhBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/XMLReader.es6\n");

/***/ }),

/***/ "./src/index.es6":
/*!***********************!*\
  !*** ./src/index.es6 ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.VideoAudioHook = exports.TextPresenter = undefined;\n\nvar _VideoAudioHook = __webpack_require__(/*! ./VideoAudioHook.es6 */ \"./src/VideoAudioHook.es6\");\n\nvar _TextPresenter = __webpack_require__(/*! ./TextPresenter.es6 */ \"./src/TextPresenter.es6\");\n\n// Copyright 2019 British Broadcasting Corporation\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nexports.TextPresenter = _TextPresenter.TextPresenter;\nexports.VideoAudioHook = _VideoAudioHook.VideoAudioHook;\nmodule.exports = {\n  TextPresenter: _TextPresenter.TextPresenter,\n  VideoAudioHook: _VideoAudioHook.VideoAudioHook,\n  addTextPresenterCallback: _TextPresenter.addCallback\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguZXM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWRoZXJlLWxpYi8uL3NyYy9pbmRleC5lczY/ZjcwNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOSBCcml0aXNoIEJyb2FkY2FzdGluZyBDb3Jwb3JhdGlvblxuLy9cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vXG4vLyAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vL1xuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuaW1wb3J0IHsgVmlkZW9BdWRpb0hvb2sgfSBmcm9tIFwiLi9WaWRlb0F1ZGlvSG9vay5lczZcIjtcbmltcG9ydCB7IFRleHRQcmVzZW50ZXIgfSBmcm9tIFwiLi9UZXh0UHJlc2VudGVyLmVzNlwiO1xuaW1wb3J0IHsgYWRkQ2FsbGJhY2sgYXMgYWRkVGV4dFByZXNlbnRlckNhbGxiYWNrIH0gZnJvbSBcIi4vVGV4dFByZXNlbnRlci5lczZcIjtcblxuZXhwb3J0IHsgVGV4dFByZXNlbnRlciwgVmlkZW9BdWRpb0hvb2sgfTtcbm1vZHVsZS5leHBvcnRzID0geyBUZXh0UHJlc2VudGVyLCBWaWRlb0F1ZGlvSG9vaywgYWRkVGV4dFByZXNlbnRlckNhbGxiYWNrIH07Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBY0E7QUFDQTtBQUFBO0FBQ0E7QUFoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.es6\n");

/***/ }),

/***/ 0:
/*!*****************************!*\
  !*** multi ./src/index.es6 ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! ./src/index.es6 */"./src/index.es6");


/***/ })

/******/ });
});